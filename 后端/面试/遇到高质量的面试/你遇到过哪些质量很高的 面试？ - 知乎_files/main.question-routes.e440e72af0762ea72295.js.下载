(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1568:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return E}),n.d(t,"c",function(){return j});var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(2),u=n.n(l),p=n(27),f=n.n(p),d=n(386),m=n(168),h=n(1594),y=(n(1667),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function w(e){var t=e.onRef,n=e.listClassName,r=e.itemClassName,o=e.className,a=e.children,i=g(e,["onRef","listClassName","itemClassName","className","children"]);return s.a.createElement("div",b({ref:t,className:u()(n,o)},i),c.Children.map(a,function(e){return"string"==typeof e?s.a.createElement("span",{className:r},e):e?Object(c.cloneElement)(e,{className:u()(r,e.props.className)}):e}))}var M=function(e){return s.a.createElement(w,b({listClassName:"ContentItem-cells",itemClassName:"ContentItem-cell"},e))},N=function(e){return s.a.createElement(w,b({listClassName:"ContentItem-actions",itemClassName:"ContentItem-action"},e))},E=function(e){return s.a.createElement(w,b({listClassName:"ContentItem-status",itemClassName:"ContentItem-statusItem"},e))},O=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onRef=function(e){r.domNode=e,r.props.onRef&&r.props.onRef(e)},r.onAccessContent=function(e,t){t===document.activeElement&&window.open(r.props.link)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),y(t,[{key:"componentDidMount",value:function(){var e=this;Object(d.onViewedOnce)(this.domNode,function(){var t=e.props,n=t.data,r=(n=void 0===n?{}:n).type,o=n.id,a=t.lastreadTouchable;e.context.currentUser&&a&&r&&o&&Object(h.c)("article"===r?"post":r,o,h.b)})}},{key:"render",value:function(){var e=f()(this.props,["noTrackCardShow","lastreadTouchable","data","onRef"]),t=e.className,n=e.title,r=e.meta,o=e.children,a=e.extra,i=e.image,c=e.link,l=g(e,["className","title","meta","children","extra","image","link"]),p=s.a.createElement(s.a.Fragment,null,n&&s.a.createElement("h2",{className:"ContentItem-title"},n),function(e){return!(!e||Array.isArray(e)&&!e.some(Boolean))}(r)&&s.a.createElement("div",{className:"ContentItem-meta"},r));return s.a.createElement("div",b({ref:this.onRef,className:u()("ContentItem",t)},l),c&&s.a.createElement(m.c,{keyMap:{ACCESS:"enter"},handlers:{ACCESS:this.onAccessContent}}),i||a?s.a.createElement("div",{className:"ContentItem-main"},i&&s.a.createElement("div",{className:"ContentItem-image"},i),s.a.createElement("div",{className:"ContentItem-head"},p),a&&s.a.createElement("div",{className:"ContentItem-extra"},a)):p,o)}}]),t}(),r.contextTypes={currentUser:i.a.object},o),j={plain:"plain",default:"default",interactive:"interactive"};t.e=O},1572:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(13),s=n(2),l=n.n(s),u=n(1670),p=n.n(u),f=n(143),d=n.n(f),m=n(1550),h=n(1817),y=n(1818),b=n(8),v=function(e){return i.a.createElement(b.a,e,i.a.createElement("path",{d:"M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z",fillRule:"evenodd"}))};v.defaultProps={name:"Share"};var g,w,M=v,N=n(38),E=n(4),O=n(9),j=n(146),T=n(109),C=n(168),k=n(418),D=n(14),I=n(10),A=(n(1672),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e){return e&&e.startsWith("//")?"https:"+e:e}function _(e){return Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}var P=(w=g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={qrCodeUrl:"",url:""},r.togglerRef=i.a.createRef(),r.shouldShowMenu=function(){var e=r.props,t=e.onTogglerClick,n=e.disabled;return!1!==t()&&!n},r.handleTogglerClick=function(e){r.shouldShowMenu()?(r.loadQrcodeImage(),r.onShare(e)):e.preventDefault()},r.open=function(e){r.shouldShowMenu()&&(r.loadQrcodeImage(),r.menu.popover.open(),r.onShare(e))},r.onShare=function(){var e=r.props,t=e.id,n=e.type,o=e.getShareText,a=e.zaShareId;o(t,n),O.default.trackEvent(r.togglerRef.current,A({action:"Share",element:"Button",is_intent:!0,element_name:I.Q[n]},a&&{id:a}))},r.copyLink=function(){var e=r.props,t=e.type,n=e.title,o=e.authorName,a=e.href,i=e.showNotification,c=T.b[t]||"",s=n?n+" - ":"",l=o&&"匿名用户"!==o&&c?o+"的"+c+" - ":"",u=a?Object(j.toAbsoluteUrl)(a):r.url();p()(""+s+l+"知乎\n"+x(u)),i("链接复制成功！")},r.url=function(){var e=r.props,t=e.id,n=e.type;return x(Object(j.toAbsoluteUrl)(r.props.url))||location.origin+"/"+n+"/"+t},r.loadQrcodeImage=function(){var e=r.state.qrCodeUrl;if(!e){var t=location.protocol+"//www.zhihu.com/",n=r.url();e=t+"qrcode?"+_({url:n+"#showWechatShareTip"}),r.setState({qrCodeUrl:e,url:n})}},r.shareToWeibo=function(){var e={appKey:"3063806388"},t=r.props.shareText;t&&(e.title=t);var n="http://service.weibo.com/share/share.php?"+_(e);window.open(n,"_blank","width=615,height=505")||(location.href=n)},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),z(t,[{key:"componentDidUpdate",value:function(e){this.props.positionStatus!==e.positionStatus&&this.menu.popover.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.togglerClassName,o=t.positionStatus,c=t.toggler,s=t.type,u=t.disabled,p=this.state.qrCodeUrl,f=i.a.createElement("div",{className:l()("ShareMenu-toggler",r)},p&&i.a.createElement("img",{className:"ShareMenu-fakeQRCode",src:p,alt:"微信二维码"}),Object(a.cloneElement)(c,{onMouseEnter:this.loadQrcodeImage,disabled:u,ref:this.togglerRef}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.c,{keyMap:{SHARE:"f x"},handlers:{SHARE:this.open}}),i.a.createElement(N.c,{className:l()("ShareMenu",n),positionStatus:o,ref:function(t){e.menu=t},toggler:f,onClick:this.handleTogglerClick},i.a.createElement(N.b,{className:"ShareMenu-button",onClick:this.copyLink},i.a.createElement(m.a,{size:20,className:"ShareMenu-Icon--normal",color:"#9FADC7"}),"复制链接"),"live"===s||i.a.createElement(N.b,{className:"ShareMenu-button",onClick:this.shareToWeibo},i.a.createElement(h.a,{size:17,className:"ShareMenu-Icon--small"}),"新浪微博"),i.a.createElement(N.b,{tag:"div",className:"ShareMenu-wechat",noActive:!0},i.a.createElement(E.c,{className:"ShareMenu-button",preset:"plain"},i.a.createElement(y.a,{size:17,className:"ShareMenu-Icon--small",color:"#60C84D"}),"微信扫一扫"),i.a.createElement("img",{className:"ShareMenu-qrCode",src:p,alt:"微信二维码"}))))}}]),t}(),g.propTypes={toggler:o.a.node,onTogglerClick:o.a.func,zaShareId:o.a.number},g.defaultProps={toggler:i.a.createElement(E.c,{preset:"plain",icon:M,label:"分享"}),onTogglerClick:d.a},w);t.a=Object(c.connect)(function(e,t){var n=t.id,r=t.type;return{shareText:e.shareTexts[""+r+n]}},{showNotification:D.g,getShareText:k.b})(P)},1573:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),c=n(1579),s=n(168),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={ref:null},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabIndex,r=t.children,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["tabIndex","children"]),a=this.state.ref;return i.a.createElement(c.a,l({tabIndex:n,onRef:function(t){return!e.state.ref&&e.setState({ref:t})}},o),i.a.createElement(s.d.Provider,{value:a},r))}}]),t}(),r.defaultProps={tabIndex:0},o);n.d(t,"a",function(){return f})},1574:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(2),s=n.n(c),l=n(26),u=n.n(l),p=n(59),f=n.n(p),d=n(1585),m=n(1714),h=n(1591),y=(n(1604),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var b=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.state={isInputing:!1,value:a.props.value||""},a.handleChange=function(e){a.setState({value:Object(d.cutStringWidth)(e.target.value,30)})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),y(t,[{key:"componentWillReceiveProps",value:function(e){e.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isInputing,r=t.value,o=this.props.onChange,a=!n&&!r,c=!n&&r;return i.a.createElement("div",{className:"Editable-VideoTitleInput-container"},i.a.createElement(h.a,null,i.a.createElement("div",{className:s()("Editable-VideoTitleInput-innerContainer",{"Editable-VideoTitleInput-innerContainer--isBeforeIconShown":a}),onClick:function(){return e.setState({isInputing:!0})}},a&&i.a.createElement(m.a,{className:"Editable-VideoTitleInput-beforeIcon",center:!0}),!n&&i.a.createElement("div",{className:s()("Editable-VideoTitleInput-value",{"Editable-VideoTitleInput-value--noContent":!r})},r||"好的标题可以获得更多的推荐及关注者"),n&&i.a.createElement("input",{className:"Editable-VideoTitleInput",value:r,ref:function(e){e&&e.focus()},placeholder:"标题长度不超过 15 个字",onChange:this.handleChange,onBlur:function(t){e.setState({isInputing:!1}),o(t.target.value)}}),c&&i.a.createElement(m.a,{className:"Editable-VideoTitleInput-afterIcon",center:!0}))))}}]),t}(),v=n(1575),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.state={shown:!1},a.handleObserve=function(e){(e[0].isIntersecting||e[0].intersectionRatio>0)&&a.setState({shown:!0})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.rootMargin,r=e.children;return this.state.shown?r:i.a.createElement(v.a,{rootMargin:n,onObserve:this.handleObserve,threshold:[0,.1]},t||i.a.createElement("div",{style:{height:"1px"}}))}}]),t}();w.propTypes={placeholder:o.a.element,rootMargin:o.a.string},w.defaultProps={rootMargin:"200px"};var M=w,N=n(1715),E=n(1605),O=n.n(E),j=function(e){var t=e.className;return i.a.createElement("svg",{viewBox:"0 0 72 72",className:t},i.a.createElement("circle",{cx:"36",cy:"36",fill:"#fff",fillOpacity:".95",r:"36"}),i.a.createElement("path",{d:"M50.835 37.06L29.477 49.97a1.203 1.203 0 0 1-1.664-.43 1.25 1.25 0 0 1-.17-.631V23.091c0-.682.543-1.234 1.213-1.234.219 0 .433.06.62.173l21.359 12.91a1.245 1.245 0 0 1 0 2.12z",fill:"#444",fillRule:"nonzero"}))},T=(n(1606),function(){return i.a.createElement("div",{className:"VideoCardPlayButton"},i.a.createElement(j,{className:"VideoCardPlayButton-icon"}))}),C=function(e){var t=e.fileSize;return i.a.createElement("div",{className:"VideoCardPlayButton-withFileSize--outer"},i.a.createElement("span",{className:"VideoCardPlayButton-withFileSize"},i.a.createElement(N.a,{center:!0,size:14}),t?O()(t,{decimalPlaces:1,unit:"MB"}):"流量播放"))};function k(e){var t=e.thumbnail,n=e.isLens,r=e.canPlay;return n||r?t&&"string"==typeof t?i.a.createElement("img",{src:t,alt:"视频封面"}):t:i.a.createElement(j,{className:"VideoCard-playIcon VideoCard-playIcon--nonLens"})}n(1607);var D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.state={isMobile:!1,playerShown:!1,playerLoading:!1},a.handlePlay=function(e){e.preventDefault();var t=a.props,n=t.interactive,r=t.isConverting,o=t.isLens,i=t.playerUrl,c=t.onPlayFailed,s=t.onLensPlay,l=t.onBeforePlay;n&&!r&&(i||!c?l?Promise.resolve(l()).then(function(e){!1!==e&&a.play()}):o&&s&&s()||a.play():c())},a.handlePlayerLoad=function(){a.loadingCount--,0===a.loadingCount&&a.setState({playerLoading:!1})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),D(t,[{key:"componentDidMount",value:function(){this.setState({isMobile:f()(navigator.userAgent).Mobile})}},{key:"canPlay",value:function(){var e=this.props,t=e.isPlayable,n=e.playerUrl;return t&&n}},{key:"inlinePlayer",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.onLensPlay,o=e.onBeforePlay,a=this.state.isMobile;return t&&(n?!(r||o):a)}},{key:"showContent",value:function(){var e=this.props,t=e.isLens,n=e.title,r=e.isVideoTitleEditable,o=this.state.isMobile;return!r&&(t?Boolean(n):!(o&&this.canPlay()))}},{key:"showDescription",value:function(){var e=this.props.isLens;return this.showContent()&&!e}},{key:"play",value:function(){var e=this.props.onPlay;this.loadingCount=2,this.setState({playerShown:!0,playerLoading:!0}),setTimeout(this.handlePlayerLoad,1e3),e&&e()}},{key:"renderContent",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.title,o=e.thumbnail,a=e.source,c=e.url,l=e.showPlayButton,u=e.usePlayButtonWithFileSize,p=e.fileSize,f=e.rightBottomButton,d=e.isVideoTitleEditable,m=e.onVideoTitleChange,h=e.isConverting,y=this.canPlay(),v=this.inlinePlayer(),g=i.a.createElement(k,{thumbnail:o,isLens:n,canPlay:y}),w=l&&!h&&(u?i.a.createElement(C,{fileSize:p}):i.a.createElement(T,null)),M=i.a.createElement("div",{className:"VideoCard-layout"},y?i.a.createElement("div",{className:"VideoCard-video"},i.a.createElement("div",{className:"VideoCard-video-content"},v?this.renderPlayer():i.a.createElement("div",{className:s()("VideoCard-thumbnail",{"VideoCard-thumbnail--placeholder":!o}),onClick:this.handlePlay},g,w,f))):i.a.createElement("div",{className:"VideoCard-poster"},g),this.showContent()&&i.a.createElement("div",{className:"VideoCard-content"},i.a.createElement("div",{className:"VideoCard-title"},r),this.showDescription()&&i.a.createElement("div",{className:"VideoCard-description"},a&&i.a.createElement("span",{className:"VideoCard-source"},a),i.a.createElement("span",{className:"VideoCard-badge"},"视频"))),d&&i.a.createElement(b,{value:r,onChange:m}));return n?M:t?i.a.createElement("a",{className:"VideoCard-link",href:c,target:"_blank",rel:"noopener noreferrer"},M):i.a.createElement("div",{className:"VideoCard-link"},M)}},{key:"renderPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.source,r=t.playerUrl,o=t.onIframeRef,a=t.useMSE,c=u.a.stringify({autoplay:e&&"lens"===n,useMSE:a});return i.a.createElement(M,{placeholder:i.a.createElement("div",{className:"VideoCard-player"})},i.a.createElement("div",{className:"VideoCard-player"},i.a.createElement("iframe",{ref:o,frameBorder:0,allowFullScreen:!0,src:r+"?"+c,onLoad:this.handlePlayerLoad})))}},{key:"render",value:function(){var e=this.props,t=e.interactive,n=e.isConverting,r=this.state,o=r.isMobile,a=r.playerShown,c=r.playerLoading;return i.a.createElement("div",{className:s()("VideoCard",{"VideoCard--converting":n,"VideoCard--interactive":t,"VideoCard--mobile":o})},this.renderContent(),a&&i.a.createElement("div",{className:s()("VideoCard-overlay",{"is-loading":c})},this.renderPlayer(!0)),i.a.createElement("div",{className:s()("VideoCard-mask",{"is-shown":c})}))}}]),t}();I.propTypes={interactive:o.a.bool,showPlayButton:o.a.bool,usePlayButtonWithFileSize:o.a.bool,fileSize:o.a.number,onPlay:o.a.func,onPlayFailed:o.a.func,onLensPlay:o.a.func,onBeforePlay:o.a.func,rightBottomButton:o.a.oneOfType([o.a.element,o.a.string]),thumbnail:o.a.oneOfType([o.a.element,o.a.string])},I.defaultProps={interactive:!0,showPlayButton:!0};var A=I;n.d(t,"b",function(){return A}),n.d(t,"a",function(){return j})},1575:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n(17),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"undefined"!=typeof window&&n(693);var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.handleObserve=function(e){var t=a.props.onObserve;t&&t(e)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),c(t,[{key:"componentDidMount",value:function(){this.target=Object(i.findDOMNode)(this),this.observer=this.createObserver(),this.observer.observe(this.target)}},{key:"componentWillUnmount",value:function(){this.target&&this.observer.unobserve(this.target)}},{key:"createObserver",value:function(){var e=this.props,t={root:e.root,rootMargin:e.rootMargin,threshold:e.threshold};return new window.IntersectionObserver(this.handleObserve,t)}},{key:"render",value:function(){return this.props.children}}]),t}();s.propTypes={root:o.a.object,rootMargin:o.a.string,threshold:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.number)]),onObserve:o.a.func},t.a=s},1576:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(1882),u=n(4),p=n(9),f=n(202),d=n(168),m=(n(1673),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.buttonRef=s.a.createRef(),r.handleClick=function(e){var t=r.props,n=t.zaInfos,o=n.toggleComment,a=n.getCommentAction,i=t.positionStatus,c=t.onClick,s=t.commentsShown;if(p.default.trackEvent(r.buttonRef.current,m({action:a?a(!s):"Comment",element:"Button",is_intent:!0},o&&{id:o})),c){var l="fixed"===i?"fixed":"bottom",u={commentsShown:!r.props.commentsShown,commentsAutoFocus:!(e instanceof KeyboardEvent),commentPattern:l};e instanceof KeyboardEvent&&"bottom"===l&&r.buttonRef.current.focus(),c(e,u)}},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),h(t,[{key:"componentDidMount",value:function(){this.props.onInstance(this)}},{key:"componentWillUnmount",value:function(){this.props.onInstance(null)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.count,r=e.commentsShown,o=e.commentClosed,a=void 0;r?a="收起评论":a=n&&!o?Object(f.formatNumber)(n)+" 条评论":"添加评论";return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.c,{keyMap:{COMMENT:"c"},handlers:{COMMENT:this.handleClick}}),s.a.createElement(u.c,{onRef:this.buttonRef,preset:"plain",className:t,onClick:this.handleClick,icon:l.a,label:a}))}}]),t}(),r.propTypes={commentsShown:i.a.bool,count:i.a.number,zaInfos:i.a.shape({id:i.a.number,getCommentAction:i.a.func}),onInstance:i.a.func},r.defaultProps={zaInfos:{},onInstance:function(){return null}},o);t.a=b},1577:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(132),u=n(417),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handlePackup=function(){var e=r.props.onClose;window.scrollTo(0,r.originPageYOffset),e&&e()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),p(t,[{key:"componentWillReceiveProps",value:function(e){"bottom"===e.commentPattern&&e.shown&&!this.props.shown&&(this.originPageYOffset=window.pageYOffset)}},{key:"render",value:function(){var e=this.props,t=e.shown,n=e.showPackupButton,r=e.parent,o=e.commentPattern,a=e.commentInputPosition,i=e.onClose,c=e.byComment,p=e.needLoadCommentPermission,f=e.isMobile,d=e.onOrderChange,m=e.onItemLike,h=e.onPaginationClick,y=e.autoFocus,b=e.onMount,v=e.zaInfo;return t?"bottom"===o?s.a.createElement(u.a,{autoFocus:y,parent:r,commentPattern:o,commentInputPosition:a,showPackupButton:n,handlePackupButton:this.handlePackup,needLoadCommentPermission:p,isMobile:f,onOrderChange:d,onItemLike:m,onPaginationClick:h,onMount:b,zaInfo:v}):s.a.createElement(l.b,{size:"fullPage",onClose:i,maskClosable:!1},t&&"fixed"===o&&s.a.createElement(u.a,{parent:r,commentPattern:o,byComment:c,needLoadCommentPermission:p,onOrderChange:d,onItemLike:m,onPaginationClick:h,onMount:b,zaInfo:v})):null}}]),t}(),r.propTypes={byComment:i.a.oneOfType([i.a.number,i.a.string]),parent:i.a.object,shown:i.a.bool,showPackupButton:i.a.bool,commentPattern:i.a.string,commentInputPosition:i.a.oneOf(["top","bottom"]),onClose:i.a.func,needLoadCommentPermission:i.a.bool,isMobile:i.a.bool,onOrderChange:i.a.func,onItemLike:i.a.func,onPaginationClick:i.a.func,autoFocus:i.a.bool,onMount:i.a.func,zaInfo:i.a.object},r.defaultProps={commentPattern:"fixed",showPackupButton:!0,commentInputPosition:"bottom"},o);t.a=d},1579:function(e,t,n){"use strict";var r=n(20),o=n.n(r),a=n(0),i=n.n(a),c=n(2),s=n.n(c),l=(n(1588),function(e){var t=e.className,n=e.title,r=e.options,a=e.children,c=o()(e,["className","title","options","children"]);return i.a.createElement("div",Object.assign({className:s()("List",t)},c),(n||r)&&i.a.createElement("div",{className:"List-header"},i.a.createElement("h4",{className:"List-headerText"},n),i.a.createElement("div",{className:"List-headerOptions"},r)),a)}),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabIndex,r=e.meta,o=e.children,a=e.onRef;return i.a.createElement("div",{className:s()("List-item",t),tabIndex:n,ref:a},r&&i.a.createElement("div",{className:"List-itemMeta"},r),o)}}]),t}();n(1593);n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p})},1580:function(e,t,n){"use strict";var r,o=n(1),a=n.n(o),i=n(0),c=n.n(i),s=n(13),l=n(2),u=n.n(l),p=n(4),f=n(1574),d=n(1787),m=n(1586),h=n(387),y=n(1623),b=n(397),v=n(1575),g=n(386),w=n(403),M=n(97),N=n(9),E=n(168),O=n(1568),j=n(412),T=n(18),C=n(1581),k=(n(1668),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=Object(s.connect)(function(e,t){return{isCurrentUser:Object(T.g)(e,t.data.author)}})(r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tipShown:!1,tipContent:"",tipX:0,tipY:0,tipPosition:"bottom"},e.handleMouseDown=e.handleMouseDown.bind(e),e.handleCopy=e.handleCopy.bind(e),e.handleTipClose=e.handleTipClose.bind(e),e.rightClickX=-1,e.rightClickY=-1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),D(t,[{key:"getRange",value:function(e){if(e&&e.rangeCount>0)return e.getRangeAt(0)}},{key:"getExtraCopyright",value:function(e,t,n){var r=["作者："+t,"链接："+e,"来源：知乎","著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"],o=["",""];return r=n?r.concat(o):o.concat(r)}},{key:"getCopyText",value:function(e,t,n,r){var o=this.getExtraCopyright(t,n,r).join("\n");return r?o+e:e+o}},{key:"getRangeHtml",value:function(e){var t=document.createElement("div");return t.appendChild(e.cloneContents()),t.outerHTML}},{key:"getCopyHtml",value:function(e,t,n,r){var o=this.getExtraCopyright(t,n,r).join("<br />");return"<div>"+(r?o+e:e+o)+"</div>"}},{key:"randomRange",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"addCopyright",value:function(e,t,n){if(window.getSelection){var r=window.getSelection(),o=this.getRange(r),a=o.toString().trim(),i=this.getRangeHtml(o);if(a&&!(a.length<128)){var c=a.length>=512,s=this.getCopyHtml(i,t,n,c),l=this.getCopyText(a,t,n,c),u=e.nativeEvent.clipboardData;if("object"===(void 0===u?"undefined":k(u))){if(u.setData("text/html",'<meta charset="utf-8">'+s),u.setData("text/plain",l),u.getData("text/plain")&&u.getData("text/plain").length>0)return void e.preventDefault()}var p=document.createElement("div");p.innerHTML=s;var f=p.firstChild;f.style.position="fixed",f.style.left="-9999px",document.body.appendChild(f),r.selectAllChildren(f),setTimeout(function(){document.body.removeChild(f),r.removeAllRanges(),r.addRange(o)},200)}}}},{key:"showTip",value:function(e,t){if(window.getSelection){var n=window.getSelection(),r=this.getRange(n),o=r.toString().trim(),a=this.randomRange(44,66);if(!(o.length<=a)){e.preventDefault(),e.stopPropagation();var i=r.getBoundingClientRect(),c=window.pageYOffset,s=this.rightClickX,l=this.rightClickY,u=void 0,p="bottom";if(-1!==l)u=l+3;else{var f=this.props.viewPort,d=i.top+c,m=i.bottom+c,h=c+f.top+52,y=c+f.bottom-52;m<h?u=h-52:m<y?u=m:(p="top",u=d>h&&d<y?d:y+52)}var b=-1!==s?s+3:i.left+(i.right-i.left)/2-12;this.setState({tipShown:!0,tipContent:t,tipX:b,tipY:u,tipPosition:p}),this.rightClickX=-1,this.rightClickY=-1}}}},{key:"handleTipClose",value:function(){this.setState({tipShown:!1})}},{key:"handleCopy",value:function(e){var t=this.props,n=t.data,r=n.author,o=n.type,a=n.id,i=n.question,s=n.reshipmentSettings,l=n.relationship,u=(l=void 0===l?{}:l).isAuthor,p=l.isAuthorized,f=t.isCurrentUser,d="";if("article"===o?d="https://zhuanlan.zhihu.com/p/"+a:"answer"===o&&(d="https://www.zhihu.com/question/"+i.id+"/answer/"+a),!f&&!u)switch(s){case"disallowed":this.showTip(e,c.a.createElement("a",{href:"https://www.zhihu.com/terms#sec-licence-6"},"禁止转载"));break;case"need_payment":if(!p){this.showTip(e,c.a.createElement("a",{href:"https://www.zhihu.com/copyright/apply?answer="+a},"申请转载"));break}this.showTip(e,"已获授权，复制成功");default:this.addCopyright(e,d,r.name)}}},{key:"handleMouseDown",value:function(e){3===e.nativeEvent.which&&(this.rightClickX=e.pageX,this.rightClickY=e.pageY)}},{key:"render",value:function(){var e=this.props,t=e.onRef,n=e.tag,r=e.html,o=e.children,a=e.onClick,i=e.className,s=e.itemProp,l=e.style,u=e.prefix,p=this.state,f=p.tipShown,d=p.tipContent,m=p.tipX,h=p.tipY,y=p.tipPosition;return c.a.createElement("div",{ref:t,onClick:a,className:i,style:l},u,c.a.createElement(C.a,{itemProp:s,tag:n,html:r,onCopy:this.handleCopy,onMouseDown:this.handleMouseDown,className:"CopyrightRichText-richText"}),o,c.a.createElement(j.a,{shown:f,timeout:1e4,hideOnClick:!0,onClose:this.handleTipClose,x:m,y:h,position:y,content:d,className:"CopyrightRichText-tooltip"}))}}]),t}())||r;I.propTypes={onRef:a.a.func,viewPort:a.a.object};var A,z,S=I,x=n(1583),_=n(15),P=n(688),L=n.n(P),R=n(384),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Y(["发布于",""],["发布于",""]),B=Y(["编辑于",""],["编辑于",""]);function Y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q=(z=A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Q(t,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.created,r=e.updated,o=e.onClick;return c.a.createElement("div",{className:"ContentItem-time"},c.a.createElement(_.Link,{to:t,target:"_blank",onClick:o},c.a.createElement("span",{"data-tooltip":L()(U,Object(R.toDateTimeString)(n))},r!==n?L()(B,Object(R.toSmartDateTimeString)(r)):L()(U,Object(R.toSmartDateTimeString)(n)))))}}]),t}(),A.propTypes={href:a.a.string,created:a.a.number,updated:a.a.number},z),H=n(36),F=n(419),V=n(1594);n(1669);n.d(t,"a",function(){return q});var W,G,Z,J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=/.*?(class="link-box")/,ee=800,te=400;var ne=Object(s.connect)(function(e){return{isMobile:Object(H.f)(e)}},{updateReadStatus:F.b})((Z=G=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=X(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state=J({},r.getInitTruncatedState(r.props),{shouldSticky:!1,offset:0}),r.richContentRef=c.a.createRef(),r.truncateContent=function(){var e=r.props.isMobile?te:ee,t=r.props.expandedHeight||e;(!r.content||r.content.scrollHeight<t)&&r.setState({isTruncated:!1,isExpanded:!1}),r.content&&r.content.scrollHeight>r.content.offsetHeight&&r.setState({contentCollapsed:!0})},r.updateStateInBrowser=function(){var e=r.props,t=e.excerpt,n=e.html,o=e.expanded,a=e.cover,i=e.unescapable,c=e.limit,s=e.limitWithImage,l=e.truncateHTMLOptions,u=e.truncateDisabled,p=!0,f=r.state.truncatedContent;if(t&&($.test(t)||u))f=t;else if(!i){var d=a?s:c,m=r.truncate(n,d,l);p=m.isTruncated,f=m.content}return{isTruncated:p,isExpanded:n&&o,truncatedContent:f,previewImg:null}},r.checkOpenInAppStyle=function(e){},r.toggle=function(e){r.isCollapsed()?r.handleExpand(e):r.handleCollapse(e)},r.handleExpand=function(e){var t=r.props.zaIds.expand;N.default.trackEvent(r.richContentRef.current,J({action:"Expand",name:e&&e.target.textContent},t&&{id:t}));var n=r.props.onExpand;if(n)n(e);else{var o=r.props,a=o.onToggleExpend,i=o.data,c=i.type,s=i.id;r.context.currentUser&&Object(V.c)("article"===c?"post":c,s,V.a);a&&a(!0),r.setState({isExpanded:!0},function(){"article"===c&&Object(g.onViewedOnce)(r.richContentRef.current,function(){N.default.trackEvent(r.richContentRef.current,{action:"ReadFinish"})})})}},r.handleCollapse=function(){var e=r.props.onToggleExpend;N.default.trackEvent(r.richContentRef.current,{action:"Collapse",element:"Button"});e&&e(!1),r.setState({isExpanded:!1},function(){return r.checkOpenInAppStyle(!1)})},r.handlePreview=function(e){var t=r.state,n=t.isExpanded,o=t.isTruncated&&!n,a=e.target;!o&&"IMG"===a.tagName&&a.classList.contains("zh-lightbox-thumb")&&r.setState({previewImg:a})},r.handlePositionStatusChange=function(e){var t=r.props.onPositionStatusChange;t&&(t(e),r.checkOpenInAppStyle("fixed"===e))},r.handleObserve=function(e){var t=e[0].intersectionRatio;if(t||!document.querySelector("#root").style.position){var n=t>0;n!==r.state.shouldSticky&&(r.setState({shouldSticky:n}),n||r.checkOpenInAppStyle(!1))}},r.handleTrunObserve=function(e){var t=r.props,n=t.data,o=(n.type,n.id,t.updateReadStatus,e[0]),a=o.intersectionRatio,i=o.isIntersecting;r.truncateComputed||(a>0||i)&&(setTimeout(function(){return r.truncateContent()}),r.truncateComputed=!0)},r.isCollapsed=function(){var e=r.props,t=e.after,n=e.before,o=e.unescapable,a=r.state,i=a.isExpanded,c=a.isTruncated;return!n&&!t||o?c&&!i:!i},X(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),K(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(J({},this.updateStateInBrowser(),{viewPort:{top:148,bottom:window.innerHeight-56}})),Object(g.onViewedOnce)(this.richContentRef.current,function(){var t=e.props,n=t.data,r=n.type,o=n.id,a=t.expanded;e.context.currentUser&&a&&Object(V.c)("article"===r?"post":r,o,V.a)})}},{key:"componentWillReceiveProps",value:function(e){this.props.data.id!==e.data.id&&this.setState(this.getInitTruncatedState(e))}},{key:"componentWillUpdate",value:function(e,t){if(this.state.isExpanded&&!t.isExpanded){var n=this.richContentRef.current.getBoundingClientRect();n.top<this.props.topExcludedHeight&&(this.rect=n,this.scroll=window.pageYOffset)}}},{key:"componentDidUpdate",value:function(e,t){if(t.isExpanded&&!this.state.isExpanded&&this.rect){var n=this.rect,r=n.top,o=n.bottom,a=n.height,i=this.richContentRef.current.offsetHeight,c=window.innerHeight,s=o<c?i-a:r-(c-i);window.scrollTo(0,this.scroll+s),this.rect=null,this.scroll=null}}},{key:"getInitTruncatedState",value:function(e){var t=e.excerpt,n=e.html,r=e.expanded,o=e.unescapable;return{isTruncated:t.length<=n.length,isExpanded:r,truncatedContent:o?n:t,previewImg:null}}},{key:"truncate",value:function(e,t,n){var r=Object(w.truncateHTML)(e,t,n);return{isTruncated:r.isTruncated,content:r.content}}},{key:"renderActions",value:function(){var e=this,t=this.props,n=t.children,r=t.unescapable,o=t.noCollapsed,a=t.expandText,i=void 0===a?"展开阅读全文":a,s=t.onClick,l=t.videoData,u=this.state,f=u.isExpanded,m=u.isTruncated,y=u.shouldSticky,b=u.offset;if(!f)return[r&&m&&!l&&c.a.createElement(p.c,{key:"expand-button",preset:"plain",className:"ContentItem-rightButton",onClick:s||this.handleExpand},i,c.a.createElement(d.a,{className:"ContentItem-arrowIcon",center:!0})),n&&c.a.createElement(O.a,{key:"actions"},n)];var v=(n||!o)&&c.a.createElement(O.a,{className:"RichContent-actions"},n,!o&&c.a.createElement(p.c,{"data-zop-retract-question":!0,preset:"plain",className:"ContentItem-rightButton",onClick:this.handleCollapse},c.a.createElement("span",{className:"RichContent-collapsedText"},"收起"),c.a.createElement(d.a,{className:"ContentItem-arrowIcon is-active",center:!0})));return y&&v?c.a.createElement(h.a,{offset:b,bottom:!0,container:function(){return e.richContentRef.current.parentNode},onPositionStatusChange:this.handlePositionStatusChange},v):v}},{key:"renderText",value:function(){var e=this,t=this.props,n=t.html,r=t.excerpt,o=t.data,a=t.itemProp,i=void 0===a?"text":a,s=t.expandText,l=void 0===s?"阅读全文":s,f=t.onClick,h=t.prefix,b=t.unescapable,g=t.collapsedHeight,w=this.state,M=w.truncatedContent,N=w.previewImg,E=w.viewPort,O=w.contentCollapsed,j=this.isCollapsed(),T=M||r,C="answer"===o.type?Object(y.a)(n):n,k=j?T:C,D=c.a.createElement(S,J({itemProp:i,key:j,className:u()("RichContent-inner",{"RichContent-inner--collapsed":O}),style:j&&b?{maxHeight:g}:null,tag:"span",onRef:function(t){e.content=t},data:o,html:k,viewPort:E,prefix:h},j&&{onClick:f||this.handleExpand}),!b&&j&&c.a.createElement(p.c,{preset:"plain",className:"ContentItem-more"},l,c.a.createElement(d.a,{className:"ContentItem-arrowIcon",center:!0})),N&&c.a.createElement(m.a,{img:N,onClose:function(){return e.setState({previewImg:null})}}));return b?c.a.createElement(v.a,{rootMargin:"200px 0px 200px 0px",onObserve:this.handleTrunObserve},D):D}},{key:"render",value:function(){var e=this.props,n=e.unescapable,r=e.after,o=e.before,a=e.extra,s=e.cover,l=e.hasVideo,p=e.renderCanExpandExtra,f=e.className,d=e.videoData,m=e.handleClickVideoMoreButton,h=this.state.isExpanded,y=this.isCollapsed(),b=d?c.a.createElement(i.Fragment,null,c.a.createElement(x.a,{data:d}),c.a.createElement("p",{className:"RichContent-videoMore",onClick:m},"点击查看全文")):this.renderText(),g=h?c.a.createElement(v.a,{rootMargin:"-240px 0px",onObserve:this.handleObserve},b):b;return c.a.createElement("div",{className:u()("RichContent",f,{"is-collapsed":y,"RichContent--unescapable":n}),ref:this.richContentRef,onClick:this.handlePreview},c.a.createElement(E.c,{keyMap:{TOGGLE_EXPAND:"o"},handlers:{TOGGLE_EXPAND:this.toggle}}),!y&&o,!n&&y&&s&&c.a.createElement(t.Cover,{url:s,hasVideo:l,onClick:this.handleExpand}),g,a||"function"==typeof p&&p(h,this.handleExpand),!y&&r,this.renderActions())}}]),t}(),G.contextTypes={currentUser:a.a.object},G.propTypes={unescapable:a.a.bool,expanded:a.a.bool,noCollapsed:a.a.bool,limit:a.a.number,limitWithImage:a.a.number,collapsedHeight:a.a.number,html:a.a.string,excerpt:a.a.string,truncateDisabled:a.a.bool,before:a.a.node,after:a.a.node,prefix:a.a.node,extra:a.a.node,renderCanExpandExtra:a.a.func,topExcludedHeight:a.a.number,onPositionStatusChange:a.a.func,type:a.a.string,data:a.a.object,cover:a.a.string,hasVideo:a.a.bool,truncateHTMLOptions:a.a.object,expandText:a.a.string,onToggleExpend:a.a.func,videoData:a.a.object,handleClickVideoMoreButton:a.a.func,zaIds:a.a.shape({expand:a.a.number})},G.defaultProps={limit:160,limitWithImage:100,expanded:!1,unescapable:!1,topExcludedHeight:60,excerpt:"",hasVideo:!1,data:{},collapsedHeight:400,zaIds:{}},G.Cover=function(e){var t=e.url,n=e.hasVideo,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["url","hasVideo"]);return c.a.createElement("div",J({className:u()("RichContent-cover",{"RichContent-cover--mobile":!1})},r),c.a.createElement("div",{className:"RichContent-cover-inner"},c.a.createElement(b.a,{thumbnail:Object(M.imgUrl)(t,"60w"),url:Object(M.imgUrl)(t,"400x224"),alt:"cover"})),n&&c.a.createElement(f.a,{className:"RichContent-cover-play"}))},W=Z))||W;t.b=ne},1581:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(17),i=n(9),c=n(97),s=n(404),l=n(133),u=n(1583),p=n(386),f=n(2),d=n.n(f),m=n(60),h=n.n(m),y=n(71),b=n.n(y),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return function(n){return h()(function(r){function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r)));return i.key=t(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.a.Component),v(a,[{key:"render",value:function(){return o.a.createElement(n,Object.assign({},this.props,(t={},r=e,a=this.key,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t)));var t,r,a}}]),a}(),n)}},w=n(1612),M=n(398),N=n.n(M),E=function(e,t){return function(n){var r,a=(r=[],{value:{},listen:function(e){r.push(e)},unlisten:function(e){r=r.filter(function(t){return t!==e})},emit:function(e){this.value=e,r.forEach(function(t){return t(e)})}}),i=Object(w.createSubscription)({getCurrentValue:function(e){return e.value},subscribe:function(e,t){return e.listen(t),function(){return e.unlisten(t)}}}),c=function(e,t){return e?N()(e,function(e){return function(){return t(e.apply(void 0,arguments))}}):{dispatch:t}}(t,function(e){return a.emit(e(a.value))}),s=Object.assign(function(t){return o.a.createElement(i,{source:a},function(r){return o.a.createElement(n,Object.assign({},t,e({value:r,source:a},t),c))})},{source:a});return h()(s,n)}},O=n(20),j=n.n(O);var T=void 0;!function(e){e[e.Initial=0]="Initial",e[e.Loading=1]="Loading",e[e.Ok=2]="Ok",e[e.Failed=3]="Failed"}(T||(T={}));var C=function(e){return o.a.createElement("svg",Object.assign({width:60,height:60,viewBox:"0 0 60 60"},e),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("ellipse",{fill:"#000",opacity:.45,cx:30,cy:30,rx:30,ry:30}),o.a.createElement("ellipse",{stroke:"#FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:30,cy:30,rx:26,ry:26}),o.a.createElement("svg",Object.assign({x:16,y:18.5},e),o.a.createElement("path",{d:"M12.842 12.981V11.4H7.64v1.653h3.27v.272c-.018 1.881-1.442 3.147-3.516 3.147-2.382 0-3.876-1.846-3.876-4.834 0-2.936 1.485-4.79 3.832-4.79 1.732 0 2.936.835 3.428 2.364h1.977c-.43-2.566-2.522-4.201-5.405-4.201-3.55 0-5.845 2.601-5.845 6.644 0 4.096 2.268 6.654 5.863 6.654 3.322 0 5.475-2.083 5.475-5.327zM17.518 18V5.317H15.55V18h1.97zm5.142 0v-5.256h5.449v-1.74h-5.45V7.11h5.95V5.317h-7.918V18h1.969z",fill:"#fff"}))))},k=function(e){return o.a.createElement("svg",Object.assign({width:"60px",height:"60px",viewBox:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("ellipse",{fill:"#000000",opacity:"0.45",cx:"30",cy:"30",rx:"30",ry:"30"}),o.a.createElement("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:"30",cy:"30",rx:"26",ry:"26"}),o.a.createElement("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:"30",cy:"30",rx:"26",ry:"26"},o.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"90 30 30",dur:"0.3s"}),o.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.3",fill:"freeze"}))),o.a.createElement("svg",{x:"16",y:"18.5"},o.a.createElement("g",{fill:"#ffffff"},o.a.createElement("path",{x:"100",y:"100",d:"M12.8422852,12.9814453 L12.8422852,11.3994141 L7.63916016,11.3994141 L7.63916016,13.0517578 L10.9086914,13.0517578 L10.9086914,13.3242188 C10.8911133,15.2050781 9.46728516,16.4707031 7.39306641,16.4707031 C5.01123047,16.4707031 3.51708984,14.625 3.51708984,11.6367188 C3.51708984,8.70117188 5.00244141,6.84667969 7.34912109,6.84667969 C9.08056641,6.84667969 10.284668,7.68164062 10.7768555,9.2109375 L12.7543945,9.2109375 C12.3237305,6.64453125 10.2319336,5.00976562 7.34912109,5.00976562 C3.79833984,5.00976562 1.50439453,7.61132812 1.50439453,11.6542969 C1.50439453,15.75 3.77197266,18.3076172 7.36669922,18.3076172 C10.6889648,18.3076172 12.8422852,16.2246094 12.8422852,12.9814453 Z M17.5180664,18 L17.5180664,5.31738281 L15.5493164,5.31738281 L15.5493164,18 L17.5180664,18 Z M22.659668,18 L22.659668,12.7441406 L28.1088867,12.7441406 L28.1088867,11.0039062 L22.659668,11.0039062 L22.659668,7.11035156 L28.6098633,7.11035156 L28.6098633,5.31738281 L20.690918,5.31738281 L20.690918,18 L22.659668,18 Z"}))),o.a.createElement("path",{d:"M56,30 C56,15.6405965 44.3594035,4 30,4",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",fill:"none"},o.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:".6",fill:"freeze"}),o.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"360 30 30",dur:"1.625s",repeatCount:"indefinite"})))},D=function(e){return o.a.createElement("svg",Object.assign({width:60,height:60,viewBox:"0 0 60 60"},e),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("ellipse",{fill:"#282828",opacity:.45,cx:30,cy:30,rx:30,ry:30}),o.a.createElement("path",{d:"M41.552 18.93A15.954 15.954 0 0 0 30 14c-8.837 0-16 7.163-16 16s7.163 16 16 16c7.811 0 14.315-5.597 15.72-13",stroke:"#FFF",strokeWidth:2,strokeLinecap:"round"}),o.a.createElement("path",{d:"M45.108 16.236c.44-.33.797-.151.797.4v7.005c0 .55-.358.73-.797.4L40.7 20.736c-.44-.33-.439-.866 0-1.195l4.407-3.305z",fill:"#FFF"})))},I=(n(1627),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var A=function(){return new Promise(requestAnimationFrame)},z=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.handleClick=function(e){var t=a.props,n=t.gifKey,r=t.src,o=t.onSuccess,i=t.onFailed,s=t.onClick,l=t.loadState,u=t.isPlaying;s&&s(e),a.canPlay?a.props.updateGif({gifKey:n,isPlaying:!u}):l!==T.Loading&&(a.props.updateGif({gifKey:n,loadState:T.Loading}),Promise.all([Object(c.loadImage)(r),A().then(A)]).then(function(){o&&o(),a.props.updateGif({gifKey:n,isPlaying:!0,loadState:T.Ok})}).catch(function(e){i&&i(e),a.props.updateGif({gifKey:n,loadState:T.Failed})}))},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),I(t,[{key:"componentWillUnmount",value:function(){this.props.removeGif({gifKey:this.props.gifKey})}},{key:"render",value:function(){var e=this.props,t=e.poster,n=e.src,r=e.size,a=e.loadState,i=e.isPlaying,c=this.canPlay&&i,s=a===T.Loading,l=a===T.Failed,u=void 0;return s?u=o.a.createElement(k,{className:"GifPlayer-icon"}):l?u=o.a.createElement(D,{className:"GifPlayer-icon"}):i||(u=o.a.createElement(C,{className:"GifPlayer-icon"})),u&&(this.lastIcon=u),o.a.createElement("div",{className:d()("GifPlayer",{isPlaying:i}),"data-size":r,onClick:this.handleClick},o.a.createElement("img",{className:"column-gif",role:"presentation",src:c?n:t,"data-thumbnail":t,"data-size":r}),u||this.lastIcon)}},{key:"canPlay",get:function(){return this.props.loadState===T.Ok}}]),t}();z.defaultProps={isPlaying:!1,loadState:T.Initial};var S=g("gifKey")(E(function(e,t){return e.value[t.gifKey]},{updateGif:function(e){return function(t){var n,r,o,a=e.gifKey,i=e.isPlaying,c=j()(e,["gifKey","isPlaying"]),s=Object.assign({},t);if(i){var l=!0,u=!1,p=void 0;try{for(var f,d=Object.keys(s)[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var m=f.value,h=s[m];m!==a&&h.isPlaying&&(s[m]=Object.assign({},h,{isPlaying:!1}))}}catch(e){u=!0,p=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw p}}}return Object.assign({},s,(n={},r=a,o=Object.assign({},t[a],{isPlaying:i},c),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}},removeGif:function(e){return function(t){var n=Object.assign({},t);return delete n[e.gifKey],n}}})(z)),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L,R,Q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onSuccess=function(){i.default.trackEvent(r,{action:"StatusReport",element:"Card"},{status:{result:"Success",event:{action:"Click"}}})},r.onFailed=function(){i.default.trackEvent(r,{action:"StatusReport",element:"Card"},{status:{result:"Fail",event:{action:"Click"}}})},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),_(t,[{key:"componentDidMount",value:function(){var e=this;i.default.setModule(this,{module:"GifItem"}),Object(p.onViewedOnce)(Object(a.findDOMNode)(this),function(){i.default.trackCardShow(e,{element:"Card"})})}},{key:"render",value:function(){var e=this.props.data;return o.a.createElement(S,x({onSuccess:this.onSuccess,onFailed:this.onFailed},e))}}]),t}(),U=(n(1628),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q={fail:"image_web_fail",success:"image_web_success",timeout:"image_web_timeout"};function H(e,t){var n=q[e]+"_"+t.type,r={monitor:{type:"Event",imgResourceErrorInfo:{error_description:n,img_url:t.url,img_from:"web"}}};i.default.trackMonitor({name:n},r)}var F=(L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),R.call(r),Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),B(t,[{key:"componentDidMount",value:function(){this.mount()}},{key:"componentWillUpdate",value:function(e){this.props.html!==e.html&&this.unmount()}},{key:"componentDidUpdate",value:function(e){e.html!==this.props.html&&this.mount()}},{key:"componentWillUnmount",value:function(){this.unmount()}},{key:"mount",value:function(){var e=this;this.gifNodes=Array.from(this.root.getElementsByTagName("img")).filter(function(e){return!e.getAttribute("eeimg")&&e.getAttribute("data-thumbnail")}).map(function(t){var n=document.createElement("div");n.className="RichText-gifPlaceholder",n.innerHTML=t.outerHTML,t.parentNode.replaceChild(n,t);var r={src:t.dataset.actualsrc||Object(c.imgUrl)(t.src,{extension:"gif",size:"b"}),poster:t.dataset.thumbnail,size:t.dataset.size};return Object(a.unstable_renderSubtreeIntoContainer)(e,e.renderGif(r),n),n}),this.mentionNodes=Array.from(this.root.querySelectorAll(".member_mention")).map(function(t){var n=t.getAttribute("data-hash"),r=t.textContent.replace(/^@/,""),o=document.createElement("span");return t.parentNode.replaceChild(o,t),Object(a.unstable_renderSubtreeIntoContainer)(e,e.renderMention({id:n,name:r}),o),o}),this.videoNodes=Array.from(this.root.querySelectorAll(".video-box, .video-link, .unprocessable_video")).map(function(t){var n=t.getAttribute("data-poster"),r="data:,"===n?"":n,o={title:t.getAttribute("data-name"),thumbnail:r,url:t.getAttribute("href"),src:t.getAttribute("data-src")};o=t.getAttribute("data-lens-id")?U({},o,{isLens:!0,id:t.getAttribute("data-lens-id"),isPlayable:!0}):U({},o,{isLens:!1,id:t.getAttribute("data-video-id"),isPlayable:"true"===t.getAttribute("data-video-playable")}),t.hasAttribute("data-lens-status")&&(o=U({},o,{error:{status:t.getAttribute("data-lens-status"),message:t.getAttribute("data-description")}}));var i=document.createElement("div");return t.parentNode.replaceChild(i,t),Object(a.unstable_renderSubtreeIntoContainer)(e,e.renderVideo(o),i),i})}},{key:"unmount",value:function(){this.gifNodes&&this.gifNodes.forEach(function(e){Object(a.unmountComponentAtNode)(e)}),this.mentionNodes&&this.mentionNodes.forEach(function(e){Object(a.unmountComponentAtNode)(e)}),this.videoNodes&&this.videoNodes.forEach(function(e){Object(a.unmountComponentAtNode)(e)})}},{key:"renderMention",value:function(e){return o.a.createElement(l.a,{noBadge:!0,user:e,target:"_blank"},"@",e.name)}},{key:"renderVideo",value:function(e){return o.a.createElement(u.a,{data:e})}},{key:"renderGif",value:function(e){return o.a.createElement(Q,{data:e})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.a,U({onRef:function(t){e.root=t},onClick:this.handleGifPlayerClick},this.props,{onLoadImageSuccess:this.trackLoadImageSuccess,onLoadImageFail:this.trackLoadImageFail,onLoadImageTimeout:this.trackLoadImageTimeout}))}}]),t}(),R=function(){this.handleGifPlayerClick=function(e){var t=e.target;"IMG"===t.tagName&&(t.parentNode.classList.contains("isPlaying")||t.dataset.thumbnail&&i.default.trackEvent(t,{action:"Click",element:"Image"}))},this.trackLoadImageFail=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.apply(void 0,["fail"].concat(t))},this.trackLoadImageSuccess=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.apply(void 0,["success"].concat(t))},this.trackLoadImageTimeout=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.apply(void 0,["timeout"].concat(t))}},L);t.a=F},1582:function(e,t,n){var r=n(1856),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},1583:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"DOM",function(){return d}),n.d(r,"PLAYER",function(){return m});var o={};n.r(o),n.d(o,"PLAYER",function(){return h});var a=n(0),i=n.n(a),c=n(13),s=n(1608),l=n.n(s),u=n(1575),p=n(1574),f=n(1596),d={PLAY:"event/dom/play",PLAYING:"event/dom/playing",PAUSE:"event/dom/pause",ENDED:"event/dom/ended",TIMEUPDATE:"event/dom/timeupdate",ERROR:"event/dom/error",WAITING:"event/dom/waiting"},m={QUALITY_CHANGE:"event/player/quality-change",REQUEST_PLAY:"event/player/request-play",REQUEST_PAUSE:"event/player/request-pause",PLAY_COUNT:"event/player/play-count",PLAY_FAILED:"event/player/play-failed",ENTER_FULLSCREEN:"event/player/enter-fullscreen",EXIT_FULLSCREEN:"event/player/exit-fullscreen"},h={PLAY:"action/player/play",PAUSE:"action/player/pause",SET_VOLUME:"action/player/set-volume",ENTER_FULLSCREEN:"action/player/enter-fullscreen",EXIT_FULLSCREEN:"action/player/exit-fullscreen"},y="griffith";var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments[2];return{subscribeMessage:function(r){function o(o){var a=o.origin||o.originalEvent.origin,i="*"===t||t===a,c=o.data||{},s=c.from,l=c.id,u=c.payload;if(i&&s===y&&(!n||e===l)&&u){var p=u.messageName,f=u.data;p&&r(p,f,o.source)}}return window.addEventListener("message",o),{unsubscribe:function(){return window.removeEventListener("message",o)}}},dispatchMessage:function(n,r,o){n&&n.postMessage&&n.postMessage({from:y,id:e,payload:{messageName:r,data:o}},t||"*")}}},v=n(36),g=n(14),w=n(171),M=n(203),N=n(1584),E=n.n(N),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(e,t){return e+(t?Date.now()-t:0)},T=function(e,t){return Math.abs(e-t)<.01},C={auto:"Auto",ld:"LD",sd:"SD",hd:"HD"},k={auto:"自动",ld:"低清",sd:"标清",hd:"超清"},D=[1,2,3,5,8,13];function I(e){var t="sd",n=0,r=null,o=0,a=null,i=!1,c=0,s=0,l=void 0;function u(i,c){e(i,O({play_event_identifier:r,duration:1e3*n,elapsed:j(o,a),video_quality:C[t]},c))}function p(){(++s<15?D.includes(s):s%15==0)&&u({action:"Playing"})}function f(){clearInterval(l)}return{handlePlayEvent:function(e){var t=e.currentTime,i=e.duration;n=i,T(t,0)&&(r=E()(),o=0),a=Date.now(),T(t,0)?u({action:"Play"}):u({action:"ResumePlay"}),s=0,f(),l=setInterval(p,1e3)},handlePauseEvent:function(e){var t=e.currentTime,n=e.duration;a&&(o+=Date.now()-a,a=null),T(t,n)?u({action:"EndPlay"}):u({action:"Pause"}),f()},handleQualityChangeEvent:function(e){var n=e.quality;u({action:"Switch",name:k[n]}),t=n},handleFragmentLoading:function(){i||(c=Date.now())},handleFragmentLoaded:function(){i||(i=!0,u({action:"Load"},{video_load_time:Date.now()-c}))},clearTick:f}}var A,z,S,x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var P=Object(c.connect)(function(e,t){var n=t.data,r=n.isLens,o=n.id;if(r){var a=!1;if("undefined"!=typeof window){var i=e.env.userAgent.origin,c=Object(v.f)(e,{includeTablet:!0});"Chrome"!==l()(i).browser.name||c||(a="1"===Object(v.a)(e,"ls_fmp4"))}return{data:_({},t.data,{source:"lens",playerUrl:"https://www.zhihu.com/video/"+o}),useMSE:a}}return{data:e.video.data[o]||t.data}},{showNotification:g.g,loadVideo:w.c})(A=Object(M.a)(function(e){var t=e.data,n=t.isLens,r=t.id,o=t.isPlayable;return{module:"VideoItem",content:{type:"Video",sub_type:n?"SelfHosted":"Embedded",video_id:r,is_playable:Boolean(o)},trackCardShow:!0,view:{id:174}}})((z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));S.call(n);var r=e.trackEvent,o=e.data;return n.messageHelper=b(o.id,"*",!0),n.videoTracker=I(function(e,t){r(n,e,{play:t})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),x(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=t.isLens,r=t.id,o=t.playerUrl,a=t.flvPlayerUrl,i=e.loadVideo;n||!r||o||a||i(r);var c=this.messageHelper.subscribeMessage;this.messageSubscription=c(this.handleMessage)}},{key:"componentWillUnmount",value:function(){this.messageSubscription.unsubscribe(),this.videoTracker.clearTick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.data.error,o=t.onBeforePlay,a=t.useMSE;return i.a.createElement("div",{className:"RichText-video"},r?i.a.createElement(f.a,n):i.a.createElement(u.a,{onObserve:this.handleObserve},i.a.createElement(p.b,_({},n,{onIframeRef:function(t){return e.iframe=t},onPlay:this.handlePlay,onPlayFailed:this.handlePlayFailed,onBeforePlay:o},a&&{useMSE:!0}))))}}]),t}(),S=function(){var e=this;this.pauseVideoInIframe=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.messageHelper.dispatchMessage(t.contentWindow,o.PLAYER.PAUSE,{dontApplyOnFullScreen:n})},this.pauseAllOtherVideos=function(){Array.from(document.querySelectorAll("iframe")).filter(function(t){return t!==e.iframe}).forEach(function(t){return e.pauseVideoInIframe(t)})},this.handleMessage=function(t,n){var o=e.videoTracker,a=o.handlePlayEvent,i=o.handlePauseEvent,c=o.handleQualityChangeEvent,s=o.handleFragmentLoading,l=o.handleFragmentLoaded;switch(t){case r.DOM.PLAY:e.pauseAllOtherVideos(),a(n);break;case r.DOM.PAUSE:i(n);break;case r.PLAYER.QUALITY_CHANGE:c(n);break;case"fragment-loading":s(n);break;case"fragment-loaded":l(n)}},this.handleObserve=function(t){t[0].intersectionRatio<=0&&e.iframe&&e.pauseVideoInIframe(e.iframe,!0)},this.handlePlay=function(){e.props.trackEvent(e,{action:"Play",element:"Video"})},this.handlePlayFailed=function(){(0,e.props.showNotification)("视频加载失败，请刷新页面重试","red")}},A=z))||A)||A;t.a=P},1584:function(e,t,n){var r=n(1610),o=n(1611);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var c=0;c<16;++c)t[a+c]=i[c];return t||o(i)}},1585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1601);t.getHexRandom=r.getHexRandom,t.sliceString=r.sliceString,t.stringWidth=r.stringWidth,t.cutStringWidth=r.cutStringWidth},1586:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(2),s=n.n(c),l=n(97),u=n(293),p=n(59),f=n.n(p),d=n(139),m=(n(1626),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var h={top:10,left:20},y={top:0,left:0};var b=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={transEnded:!1,rect:null,translate:null,scale:null,url:null},e.getBoundingClientRect=function(){var t=e.props,n=t.img,r=t.data,o=n.getBoundingClientRect(),a=o.left,i=o.top,c=o.width,s=o.height,l=r.width,u=r.height,p={left:a,top:i,width:c,height:s},f=1;return l>u?(p.height=s,f=s/u,p.width=l*f,p.left=a+(c-p.width)/2,p.top=i+(s-p.height)/2):l<u&&(p.width=c,f=c/l,p.height=u*f,p.left=a+(c-p.width)/2,p.top=i+(s-p.height)/2),p},e.handleClick=e.handleClick.bind(e),e.handleTransEnd=e.handleTransEnd.bind(e),e.handleOriginLoad=e.handleOriginLoad.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),m(t,[{key:"componentWillMount",value:function(){u.hide();var e=this.props,t=e.img,n=e.isOriginalUrl,r=this.loadImg=new Image;r.src=Object(l.imgUrl)(t.dataset.original,"r"),r.addEventListener("load",this.handleOriginLoad),this.setState({rect:!1===n?this.getBoundingClientRect():t.getBoundingClientRect()})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.img,n=t.dataset.rawwidth,r=t.naturalWidth;setTimeout(function(){return e.setState(Object.assign({},e.computeTransition(e.state.rect,{width:n||r})))})}},{key:"componentWillUnmount",value:function(){this.loadImg.removeEventListener("load",this.handleOriginLoad),u.show()}},{key:"handleClick",value:function(){this.setState({translate:null,scale:null})}},{key:"handleTransEnd",value:function(){var e=this.state,t=e.translate,n=e.scale,r=this.props.onClose;t&&n?(this.setState({transEnded:!0}),this.scrollNode.style.overflow="auto"):r()}},{key:"handleOriginLoad",value:function(e){this.setState({url:e.target.src})}},{key:"computeTransition",value:function(e,t){var n=this.props,r=n.transitionType,o=n.data,a=f()(navigator.userAgent).Mobile?y:h,i=a.top,c=a.left,s=window,l={left:0,top:0,width:s.innerWidth,height:s.innerHeight},u=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}(l),p={width:l.width-2*c,height:l.height-2*i},d={},m={},b=void 0;return 1===r?(d.width=p.width>o.width?o.width:p.width,b=d.width/o.width,d.height=o.height*b,m={x:(p.width-d.width)/2+c,y:d.height<p.height?(p.height-d.height)/2+i:h.top}):(d.width=p.width>t.width?t.width:p.width,b=d.width/e.width,d.height=e.height*b,m={x:u.x-e.width/2,y:(d.height<p.height?u.y:h.top+d.height/2)-e.height/2}),{translate:m,scale:b}}},{key:"render",value:function(){var e=this,t=this.props,n=t.img,r=t.isOriginalUrl,o=t.data,a=t.transitionType,c=t.className,u=this.state,p=u.translate,m=u.scale,b=u.rect,v=u.url,g=u.transEnded,w=p&&m,M=1,N="",E=void 0;if(1===a){var O=(f()(navigator.userAgent).Mobile?y:h).left;E=Math.min(window.innerWidth-2*O,o.width);var j=b.width/E;N=w?"translate3d("+p.x+"px, "+p.y+"px, 0) scale3d(1, 1, 1) ":"translate3d("+b.left+"px, "+b.top+"px, 0) scale3d("+j+", "+j+", 1) ",M=w?1:0}else N=w?"translate3d("+p.x+"px ,"+p.y+"px,0) scale3d("+m+","+m+",1) ":"translate3d("+b.left+"px,"+b.top+"px,0)";return i.a.createElement(d.a,null,i.a.createElement("div",{className:s()("ImageView",c,{"is-active":w}),style:{paddingBottom:h.top},onClick:this.handleClick},i.a.createElement("div",{className:"ImageView-inner",ref:function(t){e.scrollNode=t}},i.a.createElement("img",{ref:function(t){e.imgEl=t},src:!1===r?Object(l.imgUrl)(n.dataset.original,"r"):g&&v||n.src,className:s()("ImageView-img",{"ImageView-transformOrigin":1===a}),style:{width:E||b.width,transform:N,opacity:M},onTransitionEnd:this.handleTransEnd,alt:"preview"}))))}}]),t}();b.propTypes={img:o.a.object.isRequired,onClose:o.a.func.isRequired},t.a=b},1588:function(e,t,n){},1589:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(9),u=n(384),p=n(202),f=n(291),d=n(421),m=n(133),h=n(420),y=n(1568),b=(n(1681),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var v=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),b(t,[{key:"componentDidMount",value:function(){var e=this.props.user;l.default.setModule(this,{module:"UserItem"},{card:{content:{type:"User",member_hash_id:e.id,follower_num:e.followerCount}}})}},{key:"renderRewardDetails",value:function(){var e=this.props.user,t=e.amount,n=e.rewardCreated;return s.a.createElement("div",{className:"ContentItem-rewardDetails"},s.a.createElement("p",{className:"ContentItem-rewardAmount"},t&&"赞赏了 ￥"+t/100),s.a.createElement("p",{className:"ContentItem-rewardTime"},Object(u.toRelativeString)(n)))}},{key:"render",value:function(){var e=this.props,t=e.user,n=t.urlToken,r=t.isFollowed,o=t.isFollowing,a=t.answerCount,i=t.articlesCount,c=t.followerCount,l=t.id,u=t.isOrg,b=e.user,v=e.type,g=e.isRewardList,w=e.action,M=e.meta,N=e.status,E=e.noTrackCardShow,O=e.onClick,j=e.currentUser,T=!n,C=j&&j.id===l,k=void 0!==w?w:!C&&!T&&s.a.createElement(f.a,{id:b.urlToken,type:v||b.type,preset:f.a.PRESETS.primary,gender:b.gender,isFollowing:o,onClick:O}),D=void 0!==M?M:T||s.a.createElement(h.a,{user:b}),I=void 0!==N?s.a.createElement(y.d,null,N):!T&&s.a.createElement(y.d,null,Boolean(a)&&Object(p.formatNumber)(a)+" 回答",Boolean(i)&&Object(p.formatNumber)(i)+" 文章",Boolean(c)&&Object(p.formatNumber)(c)+" 关注者"),A="//www.zhihu.com/"+(u?"org":"people")+"/"+(n||l);return s.a.createElement(y.e,{data:b,link:A,image:s.a.createElement(m.a,{className:"UserItem-avatar",avatar:!0,avatarProps:{size:60},user:b,target:"_blank"}),title:s.a.createElement("div",{className:"UserItem-title"},s.a.createElement(m.a,{className:"UserItem-name",user:b,target:"_blank"}),s.a.createElement(d.a,{isFollowing:o,isFollowed:r})),meta:s.a.createElement("div",null,D,I),noTrackCardShow:E,extra:g?this.renderRewardDetails():k})}}]),t}(),r.contextTypes={authRequired:i.a.func},r.propTypes={action:i.a.node,status:i.a.node,meta:i.a.node,type:i.a.string,isRewardList:i.a.bool,onClick:i.a.func,currentUser:i.a.object},o)},1590:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1591:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n.n(r),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),a(t,[{key:"handleEvent",value:function(e){e.stopPropagation()}},{key:"render",value:function(){return o.a.createElement("div",{onBeforeInput:this.handleEvent,onBlur:this.handleEvent,onCompositionEnd:this.handleEvent,onCompositionStart:this.handleEvent,onCopy:this.handleEvent,onCut:this.handleEvent,onDragEnd:this.handleEvent,onDragEnter:this.handleEvent,onDragLeave:this.handleEvent,onDragOver:this.handleEvent,onDragStart:this.handleEvent,onDrop:this.handleEvent,onFocus:this.handleEvent,onInput:this.handleEvent,onKeyDown:this.handleEvent,onKeyPress:this.handleEvent,onKeyUp:this.handleEvent,onMouseUp:this.handleEvent,onPaste:this.handleEvent,onSelect:this.handleEvent,onClick:this.handleEvent},this.props.children)}}]),t}()},1593:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=(n(1642),function(e){var t=e.avatar,n=e.bottom,r=e.button,a=e.className,c=e.height,s=e.icon,l=e.inline,u=e.right,p=e.style,f=void 0===p?{}:p,d=e.title,m=e.width,h=Object.assign({},f);return m&&(h.width=m+"px"),c&&(h.height=c+"px"),n&&(h.marginBottom=n+"px"),u&&(h.marginRight=u+"px"),o.a.createElement("div",{className:i()("Holder",a,{"Holder--inline":l,"Holder--title":d,"Holder--icon":s,"Holder--button":r,"Holder--avatar":t}),style:h})});n.d(t,"a",function(){return c})},1594:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r,o,a,i=n(141),c=n.n(i),s=n(214),l=n.n(s),u=(r=550,o=function(e){return l()("/lastread/touch",{method:"POST",form:{items:JSON.stringify(e)}})},a=[],c()(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.push(t),setTimeout(function(){a.length&&(o(a),a.length=0)},r)},function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return String(t)})),p="read",f="touch";t.c=u},1595:function(e,t){(function(t){e.exports=t}).call(this,{})},1596:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(1574),s=(n(1609),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"renderThumbnail",value:function(){var e=this.props.error;return i.a.createElement("div",{className:"VideoErrorCard-thumbnail"},i.a.createElement("div",{className:"VideoErrorCard-error"},e.message||"错误"))}},{key:"render",value:function(){var e=this.props,t=e.isLens,n=e.id;return i.a.createElement("div",{className:"VideoErrorCard"},i.a.createElement(c.b,Object.assign({},this.props,t&&{playerUrl:"https://www.zhihu.com/video/"+n},{thumbnail:this.renderThumbnail(),showPlayButton:!1,onBeforePlay:function(){return!1}})))}}]),t}();l.propTypes={error:o.a.object.isRequired},t.a=l},1597:function(e,t,n){"use strict";var r,o,a=n(1637),i=n(0),c=n.n(i),s=n(1),l=n.n(s),u=n(13),p=n(2),f=n.n(p),d=(n(1742),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var m,h,y=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.commercial,r=e.positive,o=e.neutral,a=e.circle,i=e.paidContent;if(!(n||r||o||a||i))return null;var s=[i,n,r,o,a].filter(Boolean).slice(0,2);return c.a.createElement("div",{className:f()("Labels",t)},s.map(function(e,t){return c.a.createElement("div",{className:"Labels-item",key:t},e)}))}}]),t}(),r.propTypes={className:l.a.string,commercial:l.a.node,positive:l.a.node,neutral:l.a.node,circle:l.a.node,paidContent:l.a.node},o),b=n(1617),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[b.e[e],t].filter(Boolean).join(" · ")},g=function(e,t){switch(t){case"online_roundtable":return e.onlineRoundtable?{icon:b.b[t],title:v(t,e.onlineRoundtable.name),shortTitle:b.d[t],description:b.a[t],link:"https://www.zhihu.com/roundtable/"+e.onlineRoundtable.urlToken,linkDescription:b.c[t],zaName:b.g[t]}:null;case"relevant":return e.relevantInfo&&e.relevantInfo.isRelevant?{icon:b.b[t],title:v(t),shortTitle:b.d[t],description:b.a[t],zaName:b.g[t]}:null;case"professional":return e.recognitionInfo&&e.recognitionInfo.recognizedCount?{icon:b.b[t],title:v(t),shortTitle:b.d[t],description:b.a[t].replace("{}",String(e.recognitionInfo.recognizedCount)),link:"javascript:;",members:e.recognitionInfo.latestRecognizers,zaName:b.g[t]}:null;default:var n=e.includedInfos?e.includedInfos.find(function(e){return e.type===t}):null;return n?{icon:b.b[t],title:v(t,n.title),shortTitle:b.d[t],description:b.a[t],link:n.url,linkDescription:b.c[t],zaName:b.g[t]}:null}},w=n(1743),M=n.n(w),N=n(415),E=n(9),O=(n(1748),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T,C,k=(h=m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={expanded:!1,width:null},r.bar=null,r.list=null,r.popover=null,r.trackListCardShow=M()(function(){E.default.setModule(r.list,{module:"Content",module_name:"正向列表卡片"}),E.default.trackCardShow(r.list,{id:3770})}),r.expand=function(){var e=r.props,t=e.isMobile,n=e.onExpand,o=e.data;t&&r.setState({width:r.bar.getBoundingClientRect().width}),r.setState({expanded:!0},function(){r.trackListCardShow(),n&&n(o)})},r.collapse=function(){r.setState({expanded:!1})},r.handleToggle=function(){r.state.expanded?r.collapse():r.expand()},r.handleDismiss=function(e){r.state.expanded&&(r.bar.contains(e.target)||r.popover.contains(e.target)||r.collapse())},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),O(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleDismiss),document.addEventListener("touchstart",this.handleDismiss)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleDismiss),document.removeEventListener("touchstart",this.handleDismiss)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.isExpandable,o=t.renderBar,a=t.renderItems,i=t.placement,s=t.borderStyle,l=t.arrowed,u=r(n);return c.a.createElement("div",{className:"PositiveLabelLayout"},c.a.createElement("div",{ref:function(t){return e.bar=t},className:"PositiveLabelLayout-bar"},o(n,{expandable:u,onExpand:this.handleToggle})),u&&c.a.createElement(N.a,{onRef:function(t){return e.popover=t},className:f()("PositiveLabelLayout-popover","PositiveLabelLayout-popover--"+i,"PositiveLabelLayout-popover--"+s),isOpen:this.state.expanded,target:this.bar,placement:i,arrowed:l,listenResize:!0},c.a.createElement("div",{ref:function(t){return e.list=t},className:"PositiveLabelLayout-list",style:{width:this.state.width}},a(n))))}}]),t}(),m.propTypes={data:l.a.object.isRequired,isExpandable:l.a.func.isRequired,renderBar:l.a.func.isRequired,renderItems:l.a.func.isRequired,placement:l.a.string,isMobile:l.a.bool.isRequired,borderStyle:l.a.oneOf(["none","common"]),arrowed:l.a.bool.isRequired,onExpand:l.a.func},m.defaultProps={borderStyle:"common"},h),D=n(386),I=n(1547),A=n(66),z=(n(1749),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var S,x,_=(C=T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),z(t,[{key:"render",value:function(){var e=this.props.members;return c.a.createElement("div",{className:"PositiveLabelMembers"},e.slice(0,3).reverse().map(function(e){return c.a.createElement(A.a,{key:e.id,className:"PositiveLabelMembers-avatar",url:e.avatarUrl,size:20})}))}}]),t}(),T.propTypes={members:l.a.array},C),P=(n(1750),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R,Q,U=(x=S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.root=null,r.handleLinkClick=function(e){var t=r.props,n=t.type,o=t.link,a=t.onLinkClick,i=t.zaName;E.default.trackEvent(r.root,{id:3771,name:"一个"},{button:{text:i}}),a&&a(e,o,n)},L(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),P(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.expandable,r=t.zaName;E.default.setModule(this.root,{module:"Content",module_name:r}),Object(D.onViewedOnce)(this.root,function(){E.default.trackCardShow(e.root,{id:3769,name:n?"多个":"一个"})})}},{key:"renderDesktopContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.description,o=e.meta,a=e.link,i=e.linkDescription,s=e.members;return c.a.createElement("div",{className:"PositiveLabelBar-content"},c.a.createElement(t,{className:"PositiveLabelBar-icon"}),c.a.createElement("div",{className:"PositiveLabelBar-main"},c.a.createElement("span",{className:"PositiveLabelBar-title"},n),r&&c.a.createElement("span",{className:"PositiveLabelBar-description"}," "+r)),(a||o||s&&Boolean(s.length))&&c.a.createElement("div",{className:"PositiveLabelBar-side"},s&&Boolean(s.length)&&c.a.createElement("div",{className:"PositiveLabelBar-members"},c.a.createElement(_,{members:s})),a&&!o&&c.a.createElement("span",{className:"PositiveLabelBar-link"},i&&c.a.createElement("span",{className:"PositiveLabelBar-linkDescription"},i),c.a.createElement(I.a,{className:"PositiveLabelBar-linkIcon"})),o&&c.a.createElement("span",{className:"PositiveLabelBar-meta"},o)))}},{key:"renderMobileContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.shortTitle,o=e.description,a=e.meta,i=e.link,s=e.expandable,l=e.members;return c.a.createElement("div",{className:"PositiveLabelBar-content"},c.a.createElement(t,{className:"PositiveLabelBar-icon"}),c.a.createElement("div",{className:"PositiveLabelBar-main"},c.a.createElement("span",{className:"PositiveLabelBar-title"},a&&r||n),o&&!a&&c.a.createElement("span",{className:"PositiveLabelBar-description"}," "+o),a&&c.a.createElement("span",{className:"PositiveLabelBar-meta"}," "+a)),(i||s||l&&Boolean(l.length))&&c.a.createElement("div",{className:"PositiveLabelBar-side"},l&&Boolean(l.length)&&c.a.createElement("div",{className:"PositiveLabelBar-members"},c.a.createElement(_,{members:l})),i&&!s&&c.a.createElement("span",{className:"PositiveLabelBar-link"},c.a.createElement(I.a,{className:"PositiveLabelBar-linkIcon"})),s&&c.a.createElement("span",{className:"PositiveLabelBar-expand"},"点击查看")))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMobile,r=t.link,o=t.expandable,a=t.onExpand,i=n?this.renderMobileContent():this.renderDesktopContent();return r&&!o?c.a.createElement("a",{ref:function(t){return e.root=t},className:"PositiveLabelBar PositiveLabelBar--link",href:r,onClick:this.handleLinkClick},i):o?c.a.createElement("div",{ref:function(t){return e.root=t},className:"PositiveLabelBar PositiveLabelBar--expandable",onClick:a},i):c.a.createElement("div",{ref:function(t){return e.root=t},className:"PositiveLabelBar"},i)}}]),t}(),S.propTypes={isMobile:l.a.bool.isRequired,icon:l.a.func.isRequired,title:l.a.string.isRequired,shortTitle:l.a.string,description:l.a.string,meta:l.a.string,link:l.a.string,linkDescription:l.a.string,onLinkClick:l.a.func,expandable:l.a.bool.isRequired,onExpand:l.a.func,members:l.a.array,zaName:l.a.string},S.defaultProps={isMobile:!1,expandable:!1},x),B=(n(1751),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q,H,F=(Q=R=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.root=null,r.handleLinkClick=function(e){var t=r.props,n=t.type,o=t.link,a=t.onLinkClick,i=t.zaName;E.default.trackEvent(r.root,{id:3771,name:"一个"},{button:{text:i}}),a&&a(e,o,n)},Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),B(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.expandable,r=t.zaName;E.default.setModule(this.root,{module:"Content",module_name:r}),Object(D.onViewedOnce)(this.root,function(){E.default.trackCardShow(e.root,{id:3769,name:n?"多个":"一个"})})}},{key:"renderDesktopContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.description,o=e.linkDescription;return c.a.createElement("div",{className:"PositiveLabelRoundtableBar-content"},c.a.createElement(t,{className:"PositiveLabelRoundtableBar-icon"}),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-main"},c.a.createElement("div",{className:"PositiveLabelRoundtableBar-header"},c.a.createElement("span",{className:"PositiveLabelRoundtableBar-title"},n),c.a.createElement("span",{className:"PositiveLabelRoundtableBar-badge"},"进行中")),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-description"},r)),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-side"},c.a.createElement("span",{className:"PositiveLabelRoundtableBar-link"},c.a.createElement("span",{className:"PositiveLabelRoundtableBar-linkDescriptio"},o),c.a.createElement(I.a,{className:"PositiveLabelRoundtableBar-linkIcon"}))))}},{key:"renderMobileContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.description;return c.a.createElement("div",{className:"PositiveLabelRoundtableBar-content"},c.a.createElement(t,{className:"PositiveLabelRoundtableBar-icon"}),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-main"},c.a.createElement("div",{className:"PositiveLabelRoundtableBar-header"},c.a.createElement("span",{className:"PositiveLabelRoundtableBar-title"},n),c.a.createElement("span",{className:"PositiveLabelRoundtableBar-badge"},"进行中")),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-description"},r)),c.a.createElement("div",{className:"PositiveLabelRoundtableBar-side"},c.a.createElement("span",{className:"PositiveLabelRoundtableBar-link"},c.a.createElement(I.a,{className:"PositiveLabelRoundtableBar-linkIcon"}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMobile,r=t.link,o=n?this.renderMobileContent():this.renderDesktopContent();return c.a.createElement("a",{ref:function(t){return e.root=t},className:"PositiveLabelRoundtableBar PositiveLabelRoundtableBar--link",href:r,onClick:this.handleLinkClick},o)}}]),t}(),R.propTypes={isMobile:l.a.bool.isRequired,icon:l.a.func.isRequired,title:l.a.string.isRequired,description:l.a.string,meta:l.a.string,link:l.a.string,linkDescription:l.a.string,onLinkClick:l.a.func,expandable:l.a.bool.isRequired,onExpand:l.a.func,zaName:l.a.string},R.defaultProps={isMobile:!1,expandable:!1},Q),V=(n(1752),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G,Z,J=(H=q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=W(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.root=null,r.handleLinkClick=function(e){var t=r.props,n=t.type,o=t.link,a=t.onLinkClick,i=t.zaName;E.default.trackEvent(r.root,{id:3771,name:"多个"},{button:{text:i}}),a&&a(e,o,n)},W(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),V(t,[{key:"renderContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.description,o=e.link,a=e.members;return c.a.createElement("div",{className:"PositiveLabelItem-content"},c.a.createElement(t,{className:"PositiveLabelItem-icon"}),c.a.createElement("div",{className:"PositiveLabelItem-main"},c.a.createElement("span",{className:"PositiveLabelItem-title"},n),r&&c.a.createElement("span",{className:"PositiveLabelItem-description"}," "+r)),(o||a&&Boolean(a.length))&&c.a.createElement("div",{className:"PositiveLabelItem-side"},a&&Boolean(a.length)&&c.a.createElement("div",{className:"PositiveLabelItem-members"},c.a.createElement(_,{members:a})),o&&c.a.createElement("span",{className:"PositiveLabelItem-link"},c.a.createElement(I.a,{className:"PositiveLabelItem-linkIcon"}))))}},{key:"render",value:function(){var e=this,t=this.props.link,n=this.renderContent();return t?c.a.createElement("a",{ref:function(t){return e.root=t},className:"PositiveLabelItem PositiveLabelItem--link",href:t,onClick:this.handleLinkClick},n):c.a.createElement("div",{ref:function(t){return e.root=t},className:"PositiveLabelItem"},n)}}]),t}(),q.propTypes={isMobile:l.a.bool.isRequired,icon:l.a.func.isRequired,title:l.a.string.isRequired,description:l.a.string,link:l.a.string,onLinkClick:l.a.func,members:l.a.array,zaName:l.a.string},q.defaultProps={isMobile:!1},H),K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ee,te,ne=(Z=G=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=$(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.isExpandable=function(e){return e.items.length>1&&"online_roundtable"!==e.items[0].type},r.renderBar=function(e,t){var n=t.expandable,o=t.onExpand,a=r.props,i=a.isMobile,s=a.onLinkClick,l=e.items[0],u=l.type,p=l.props,f=K({isMobile:i,type:u},p,{meta:n?"relevant"===u?"及 "+(e.items.length-1)+" 项收录":i?"等 "+e.items.length+" 项收录":"共 "+e.items.length+" 项收录":null,onLinkClick:s,expandable:n,onExpand:o});return"online_roundtable"===u?c.a.createElement(F,f):c.a.createElement(U,f)},r.renderItems=function(e){var t=r.props,n=t.isMobile,o=t.onLinkClick;return e.items.map(function(e){var t=e.type,r=e.props;return c.a.createElement(J,K({key:t,isMobile:n,type:t},r,{onLinkClick:o}))})},$(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),X(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.data,r=e.placement,o=e.borderStyle,a=e.arrowed,i=e.onExpand,s=function(e){var t=b.f.map(function(t){return{type:t,props:g(e,t)}}).filter(function(e){return e.props});return t.length?{items:t}:null}(n);return s?c.a.createElement("div",{className:"PositiveLabel"},c.a.createElement(k,{arrowed:a||t,isMobile:t,placement:r||(t?"bottom":"bottom-right"),borderStyle:o||(t?"none":"common"),data:s,isExpandable:this.isExpandable,renderBar:this.renderBar,renderItems:this.renderItems,onExpand:i})):null}}]),t}(),G.propTypes={isMobile:l.a.bool.isRequired,data:l.a.object.isRequired,onLinkClick:l.a.func,placement:l.a.string,borderStyle:l.a.oneOf(["none","common"]),arrowed:l.a.bool.isRequired,onExpand:l.a.func},G.defaultProps={isMobile:!1},Z),re=n(1917),oe=(n(1753),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ae,ie,ce=(te=ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),oe(t,[{key:"componentDidMount",value:function(){E.default.trackCardShow(this,{id:4027})}},{key:"renderDesktopContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.description;return c.a.createElement("div",{className:"CircleLabelBar"},c.a.createElement("div",{className:"CircleLabelBar-content"},c.a.createElement(t,{className:"CircleLabelBar-icon"}),c.a.createElement("div",{className:"CircleLabelBar-main"},c.a.createElement("span",{className:"CircleLabelBar-title"},n),r&&c.a.createElement("span",{className:"CircleLabelBar-description"}," "+r))))}},{key:"renderMobileContent",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.linkDescription,o=e.onLinkClick,a=Boolean(o);return c.a.createElement("div",{className:"CircleLabelBar",onClick:function(e){return a&&o(e)}},c.a.createElement("div",{className:"CircleLabelBar-content"},c.a.createElement(t,{className:"CircleLabelBar-icon"}),c.a.createElement("div",{className:"CircleLabelBar-main"},c.a.createElement("span",{className:"CircleLabelBar-title"},n)),a&&c.a.createElement("div",{className:"CircleLabelBar-side"},c.a.createElement("span",{className:"CircleLabelBar-link"},r&&c.a.createElement("span",{className:"CircleLabelBar-linkDescription"},r),c.a.createElement(I.a,{className:"CircleLabelBar-linkIcon"})))))}},{key:"render",value:function(){var e=this.props.isMobile;return c.a.createElement("div",null,e?this.renderMobileContent():this.renderDesktopContent())}}]),t}(),ee.propTypes={isMobile:l.a.bool.isRequired,icon:l.a.func.isRequired,title:l.a.string.isRequired,link:l.a.string,linkDescription:l.a.string,onLinkClick:l.a.func},ee.defaultProps={isMobile:!1},te),se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ue=(ie=ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),le(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.circleInfo,r=e.onLinkClick,o=function(e){return e?{icon:re.a,title:"圈内说 · "+e.realmName+"认证用户撰写",hasDesktopLink:!1,hasMobileLink:!0,linkDescription:"查看 "+e.realmMemberCount+" 个回答",id:e.id}:null}(n);return o?c.a.createElement("div",{className:"CircleLabel"},c.a.createElement(ce,se({isMobile:t},o,{onLinkClick:r}))):null}}]),t}(),ae.propTypes={isMobile:l.a.bool.isRequired,circleInfo:l.a.object.isRequired,onLinkClick:l.a.func},ae.defaultProps={isMobile:!1},ie),pe=n(8),fe=function(e){return c.a.createElement(pe.a,e,c.a.createElement("path",{d:"M8.306 23h-.092C3.678 23 0 19.379 0 14.912c0-3.681 2.497-6.788 5.914-7.767V3.5c0-.87.09-1.185.26-1.502.17-.318.42-.568.738-.738.318-.17.633-.26 1.502-.26H20.5c.87 0 1.185.09 1.502.26.318.17.568.42.738.738S23 2.63 23 3.5v13.676h-4.248c-.58 0-.79.06-1.001.174-.212.113-.378.28-.492.492-.113.211-.173.422-.173 1.001V23H8.306zm-.092-1.941c3.448 0 6.243-2.752 6.243-6.147 0-3.395-2.795-6.147-6.243-6.147s-6.243 2.752-6.243 6.147c0 3.395 2.795 6.147 6.243 6.147zm7.547-12.294a.647.647 0 0 0 0 1.294h3.963a.647.647 0 1 0 0-1.294zm-3.285-3.236a.647.647 0 1 0 0 1.295h7.248a.647.647 0 1 0 0-1.295zM18.4 23v-3.88a.65.65 0 0 1 .65-.65H23zm-9.2-6.47h1.982a.647.647 0 0 1 0 1.294H9.2v1.121c0 .273-.03.381-.087.487a.59.59 0 0 1-.246.246c-.105.057-.213.087-.487.087h-.332c-.273 0-.381-.03-.487-.087a.59.59 0 0 1-.246-.246c-.056-.106-.086-.214-.086-.487v-1.121H5.247a.647.647 0 1 1 0-1.295H7.23v-1.294H5.247a.647.647 0 1 1 0-1.294H6.61l-1.774-1.905c-.159-.17-.201-.255-.224-.352s-.013-.193.028-.285c.04-.092.1-.17.288-.312l.224-.169c.188-.142.282-.18.39-.201.108-.02.215-.012.317.025s.188.09.346.26l2.01 2.156 2.009-2.157c.158-.17.243-.222.345-.26s.21-.045.318-.024c.107.02.201.059.39.201l.224.17c.188.142.247.219.288.31.04.093.05.19.028.286-.023.097-.066.182-.224.352L9.818 13.94h1.364a.647.647 0 0 1 0 1.294H9.2z",fillRule:"evenodd"}))};fe.defaultProps={name:"PaidContent"};var de=fe,me=function(e){return c.a.createElement(pe.a,e,c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"id-609579976-a",x1:"29.377%",x2:"72.366%",y1:"10.503%",y2:"87.913%"},c.a.createElement("stop",{offset:"0%",stopColor:"#B39874"}),c.a.createElement("stop",{offset:"100%",stopColor:"#805820"}))),c.a.createElement("path",{fill:"url(#id-609579976-a)",d:"M21.351 4.858A3.115 3.115 0 0 1 22.93 7.56v8.88a3.115 3.115 0 0 1-1.578 2.702l-7.774 4.44a3.185 3.185 0 0 1-3.154 0l-7.774-4.44A3.115 3.115 0 0 1 1.07 16.44V7.56c0-1.115.602-2.145 1.578-2.702l7.774-4.44a3.185 3.185 0 0 1 3.154 0l7.774 4.44zm-2.475 1.904L13.16 3.507a2.347 2.347 0 0 0-2.32 0L5.124 6.762a2.283 2.283 0 0 0-1.16 1.982v6.512c0 .817.442 1.573 1.16 1.982l5.716 3.255a2.347 2.347 0 0 0 2.32 0l5.716-3.255a2.283 2.283 0 0 0 1.16-1.982V8.744c0-.817-.442-1.573-1.16-1.982zm-9.874 4.13L12 5.76l2.998 5.131 2.466-2.12v6.343c0 .49-.4.886-.893.886H7.429a.89.89 0 0 1-.893-.887V8.771l2.466 2.12z"}))};me.defaultProps={name:"VIPNight"};var he=me,ye=function(e){return c.a.createElement(pe.a,e,c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"id-763684632-a",x1:"29.377%",x2:"72.366%",y1:"10.503%",y2:"87.913%"},c.a.createElement("stop",{offset:"0%",stopColor:"#F2D9B6"}),c.a.createElement("stop",{offset:"100%",stopColor:"#BF8B43"}))),c.a.createElement("path",{fill:"url(#id-763684632-a)",d:"M21.351 4.858A3.115 3.115 0 0 1 22.93 7.56v8.88a3.115 3.115 0 0 1-1.578 2.702l-7.774 4.44a3.185 3.185 0 0 1-3.154 0l-7.774-4.44A3.115 3.115 0 0 1 1.07 16.44V7.56c0-1.115.602-2.145 1.578-2.702l7.774-4.44a3.185 3.185 0 0 1 3.154 0l7.774 4.44zm-2.475 1.904L13.16 3.507a2.347 2.347 0 0 0-2.32 0L5.124 6.762a2.283 2.283 0 0 0-1.16 1.982v6.512c0 .817.442 1.573 1.16 1.982l5.716 3.255a2.347 2.347 0 0 0 2.32 0l5.716-3.255a2.283 2.283 0 0 0 1.16-1.982V8.744c0-.817-.442-1.573-1.16-1.982zm-9.874 4.13L12 5.76l2.998 5.131 2.466-2.12v6.343c0 .49-.4.886-.893.886H7.429a.89.89 0 0 1-.893-.887V8.771l2.466 2.12z"}))};ye.defaultProps={name:"VIP"};var be=ye,ve=n(1918),ge=n(1545),we=function(e){return c.a.createElement(pe.a,e,c.a.createElement("path",{d:"M4 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm3 7.278v5.444a.792.792 0 0 0 1.209.674l4.48-2.774a.792.792 0 0 0-.012-1.354l-4.48-2.67A.792.792 0 0 0 7 9.278zM19.538 18.5c-.038 0-.038-13-.038-13 2.656 1.131 4.5 3.62 4.5 6.508 0 2.875-1.827 5.354-4.462 6.492z",fillRule:"evenodd"}))};we.defaultProps={name:"RemixAlbum"};var Me=we,Ne=function(e){return c.a.createElement(pe.a,e,c.a.createElement("path",{d:"M5 2h14c1.105 0 2 .814 2 1.818v16.364C21 21.186 20.105 22 19 22H5c-1.105 0-2-.814-2-1.818V3.818C3 2.814 3.895 2 5 2zm6.5 16v-1.525A5 5 0 0 1 7 11.5a.5.5 0 1 1 1 0 4 4 0 1 0 8 0 .5.5 0 1 1 1 0 5 5 0 0 1-4.5 4.975V18h2a.5.5 0 1 1 0 1h-5a.5.5 0 1 1 0-1h2zm-2-10.336v3.672C9.5 12.805 10.62 14 12 14c1.378 0 2.5-1.193 2.5-2.664V7.664C14.5 6.195 13.38 5 12 5c-1.378 0-2.5 1.193-2.5 2.664z",fillRule:"evenodd"}))};Ne.defaultProps={name:"RemixInstabook"};var Ee,Oe,je=Ne,Te=n(1915),Ce=n(172),ke=(n(1754),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie,Ae,ze="purchase_required",Se="vip_free",xe="purchased",_e="ebook",Pe="live",Le="remix_album",Re="remix_instabook",Qe="PaidContentLabel-icon",Ue=(Oe=Ee=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props.link;Ce.default.dispatch("base/openURL",{url:e})},De(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),ke(t,[{key:"renderMainContent",value:function(){var e=this.props,t=e.theme,n=e.paidInfo.type,r=e.showVipFreeDesc,o="dark"===t;switch(n){case ze:return c.a.createElement(c.a.Fragment,null,c.a.createElement(de,{className:""+Qe}),"包含付费内容");case xe:return c.a.createElement(c.a.Fragment,null,c.a.createElement(de,{className:""+Qe}),"已购付费内容");case Se:return c.a.createElement(c.a.Fragment,null,o?c.a.createElement(he,{className:""+Qe}):c.a.createElement(be,{className:""+Qe}),c.a.createElement("div",{className:"PaidContentLabel-vipLabel"},c.a.createElement("div",{className:"PaidContentLabel-vipLabel-left"},"会员专享"),r&&c.a.createElement("div",{className:"PaidContentLabel-vipLabel-right"},"你可以完整查看该付费内容")));case _e:return c.a.createElement(c.a.Fragment,null,c.a.createElement(ve.a,{className:""+Qe}),"选自电子书");case Pe:return c.a.createElement(c.a.Fragment,null,c.a.createElement(ge.a,{className:""+Qe}),"选自 Live");case Le:return c.a.createElement(c.a.Fragment,null,c.a.createElement(Me,{className:""+Qe}),"选自私家课");case Re:return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,{className:""+Qe}),"选自讲书");default:return null}}},{key:"render",value:function(){var e=this.props.paidInfo.type===Se;return c.a.createElement("div",{className:f()("PaidContentLabel",{"PaidContentLabel-vipFree":e})},c.a.createElement("div",{className:"PaidContentLabel-main"},this.renderMainContent()),c.a.createElement(Te.a,{onClick:this.handleClick,className:"PaidContentLabel-HelpOutline"}))}}]),t}(),Ee.propTypes={link:l.a.string,paidInfo:l.a.object.isRequired,onPaidContentLabelClick:l.a.func,showVipFreeDesc:l.a.bool},Ee.defaultPorps={showVipFreeDesc:!1},Oe),Be=n(399),Ye=n(205),qe=n(132),He=n(134),Fe=n(1589),Ve=n(54),We=(n(1755),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ge,Ze=(Ae=Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),We(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.shown,r=e.data,o=e.paging,a=(o=void 0===o?{}:o).isEnd,i=void 0!==a&&a,s=o.isLoading,l=void 0!==s&&s,u=o.totals,p=e.loadAnswerRecognizerList,f=e.answerId;return c.a.createElement(qe.b,{size:"fullPage",onClose:t},n&&c.a.createElement("div",{className:"RecognizerListModal"},c.a.createElement("div",{className:"RecognizerListModal-header"},"已有 ",u||"-"," 位用户对该回答送出了专业徽章",c.a.createElement("div",{className:"RecognizerListModal-headerDescription"},"社区内有着专业创作水平的用户有着对其他创作用户送出「专业徽章」的特权，以示对其他用户创作专业内容的鼓励")),c.a.createElement(He.b,{isDrained:i,isLoading:l,onLoad:function(){p(f)}},r.map(function(e){return c.a.createElement(Fe.a,{className:"UserItem",key:e.id,user:e})}))))}}]),t}(),Ie.propTypes={onClose:l.a.func.isRequired,shown:l.a.bool.isRequired,answerId:l.a.number.isRequired},Ae),Je=Object(u.connect)(function(e,t){var n=Object(Be.a)(e,t.answerId)||{},r=n.data,o=void 0===r?[]:r,a=n.paging,i=void 0===a?{}:a;return{data:o.map(function(t){return Object(Ve.c)(e,{urlToken:t})}),paging:i}},{loadAnswerRecognizerList:Be.d})(Ze),Ke=n(10),Xe=(n(1756),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),$e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var tt=Object(Ye.a)()(Ge=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=et(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={recognizerListModalShown:!1},r.isFetched=!1,r.loadLabels=function(){var e=r.props,t=e.loadLabel,n=e.item;if(n){var o=n.isLabeled,a=n.id,i=n.type;o&&!r.isFetched&&(t(i,a),r.isFetched=!0)}},r.handlePositiveLabelClick=function(e,t,n){"professional"===n&&r.toggleRecognizerModal()},r.toggleRecognizerModal=function(){r.setState({recognizerListModalShown:!r.state.recognizerListModalShown})},et(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),$e(t,[{key:"componentDidMount",value:function(){this.loadLabels()}},{key:"componentDidUpdate",value:function(){this.loadLabels()}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.item,r=e.commercialLabels,o=e.neutralLabels,a=this.state.recognizerListModalShown,s=null,l=null,u=null,p={item:n,isMobile:!1};if(n&&n.isLabeled)if(t){s=c.a.createElement(ne,Xe({},p,{data:t,onLinkClick:this.handlePositiveLabelClick})),l=c.a.createElement(ue,Xe({},p,{circleInfo:t.circleInfo}));var f=n.paidInfo&&n.paidInfo.type===Ke.D.EBOOK;u=t.paidInfo&&c.a.createElement(Ue,{showVipFreeDesc:f,paidInfo:t.paidInfo})}else s=c.a.createElement("div",{className:"LabelContainer-placeholder"});return c.a.createElement(i.Fragment,null,c.a.createElement(y,{className:"LabelContainer",positive:s,neutral:o,commercial:r,circle:l,paidContent:u}),c.a.createElement(Je,{onClose:this.toggleRecognizerModal,answerId:n.id,shown:a}))}}]),t}())||Ge;tt.propTypes={data:l.a.object,item:l.a.object.isRequired,commercialLabels:l.a.node,neutralLabels:l.a.node};var nt=Object(u.connect)(function(e,t){var n=t.item;return{data:Object(Be.c)(e,n)}},{loadLabel:Be.e})(tt),rt=n(27),ot=n.n(rt),at=n(60),it=n.n(at),ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var st=["answer","article","post","item"],lt=function(e){return e.itemType||st.find(function(t){return e[t]})},ut=function(e){return it()(Object(u.connect)(function(e,t){return{useNewLabels:Object(Be.f)(e,t[lt(t)])}})(function(t){var n,r,o,a=t.showLabelInfo,i=void 0===a||a,s=t.showLabels,l=void 0===s||s,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["showLabelInfo","showLabels"]),p=lt(u),f=u,d=[];return l||d.push("isLabeled"),i||(d.push("labelInfo"),d.push("hermesLabel")),p&&d.length>0&&(f=ct({},f,(n={},r=p,o=ot()(u[p],d),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))),c.a.createElement(e,f)}),e)},pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft=Object(i.createContext)({showLabelInfo:!0,showLabels:!0}),dt=ft.Provider,mt=ft.Consumer,ht=function(e){return function(t){var n=c.a.createElement(mt,null,function(n){return c.a.createElement(e,pt({},t,{showLabelProps:n}))});return it()(n,e)}};n.d(t,"b",function(){return a.a}),n.d(t,"a",function(){return nt}),n.d(t,"d",function(){return ut}),n.d(t,"c",function(){return dt}),n.d(t,"e",function(){return ht})},1598:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),c=n(4),s=n(1544),l=n(168),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.label,o=e.onRef;return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.c,{keyMap:{BOOKMARK:"s c"},handlers:{BOOKMARK:n}}),i.a.createElement(c.c,{onRef:o,className:t,preset:"plain",onClick:n,icon:s.a,label:r}))}}]),t}(),r.defaultProps={label:"收藏"},o);n.d(t,"a",function(){return p})},1599:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(13),u=n(2),p=n.n(u),f=n(66),d=n(27),m=n.n(d),h=n(4),y=n(169),b=n(294),v=n(9),g=n(204),w=n(37),M=n(10),N=n(84),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T,C,k,D=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.load=function(){var e=r.props,t=e.dispatch,n=e.id;t(Object(N.r)(n))},r.track=function(){var e=r.props.topic;r.hoverCardElement&&e&&(v.default.setModule(r.hoverCardElement,{module:"TopicItem"},{card:{content:{type:"Topic",token:e.id,item_num:e.questionsCount,follower_num:e.followersCount}}}),v.default.trackCardShow(r.hoverCardElement))},r.handleFollow=r.context.authRequired(function(){var e=!r.props.topic.isFollowing;v.default.trackEvent(r.hoverCardElement,{action:e?"Follow":"UnFollow",element:"Button"});var t=r.props,n=t.dispatch,o=t.id;n(Object(N.D)(o))},M.N.follow),r.handleOpen=function(){r.load(),r.track()},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),O(t,[{key:"isTopicReady",value:function(){var e=this.props.topic||{},t=e.questionsCount,n=e.followersCount,r=e.bestAnswersCount;return!(void 0===t&&void 0===n&&void 0===r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.toggler,r=t.topic,o=t.id,a=t.isLoading,i=t.onRef,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["toggler","topic","id","isLoading","onRef"]),l=r||{},u=l.name,p=l.introduction,f=l.questionsCount,d=l.followersCount,m=l.bestAnswersCount,v=l.avatarUrl,M=l.isFollowing,N=l.headerCard,O="//www.zhihu.com/topic/"+o,j=N&&N.avatarUrl||v;return s.a.createElement(b.b,E({toggler:n,preventCloseOnTarget:!0,isLoading:a,onOpen:this.handleOpen,size:"large"},c,{onRef:function(t){i&&"function"==typeof i&&i(t),e.hoverCardElement=t}}),s.a.createElement(b.a,{title:s.a.createElement("a",{target:"_blank",href:O},u),avatarUrl:j}),p&&s.a.createElement("div",null,s.a.createElement(g.a,{className:"HoverCard-description",html:p})),s.a.createElement("div",null,this.isTopicReady()&&s.a.createElement(y.a,null,s.a.createElement(y.a.Item,{tag:w.a,preset:"plain",a:!0,to:O+"/questions",name:"问题",value:f,target:"_blank"}),s.a.createElement(y.a.Item,{tag:w.a,preset:"plain",a:!0,to:O+"/top-answers",name:"精华",value:m,target:"_blank"}),s.a.createElement(y.a.Item,{tag:w.a,preset:"plain",a:!0,to:O+"/followers",name:"关注者",target:"_blank",value:d})),s.a.createElement("div",{className:"HoverCard-buttons"},r&&s.a.createElement(h.c,{preset:"primary",color:M?"grey":"blue",onClick:this.handleFollow},M?"已关注":"关注话题"))))}}]),t}(),r.contextTypes={authRequired:i.a.func},o),I=Object(l.connect)(function(e,t){var n=t.id,r=e.entities.topics,o=e.loading.local;return{topic:r[n],isLoading:Boolean(o["topic/"+n])}})(D),A=n(36),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var x=Object(l.connect)(function(e){return{isMobile:Object(A.f)(e,{includeTablet:!0})}})((k=C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),S(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.topic,r=n.name,o=n.avatarUrl,a=n.id,i=n.headerCard,c=e.avatar,l=e.avatarProps,u=e.noHoverCard,d=e.noLink,h=e.style,y=e.className,b=e.children,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isMobile","topic","avatar","avatarProps","noHoverCard","noLink","style","className","children"]),g=void 0===u?t:u,w=i&&i.avatarUrl||o,M=void 0;M=c?s.a.createElement(f.a,z({className:"TopicLink-avatar",url:w,alt:r},l)):b||r,d||g||(M=s.a.createElement(I,{toggler:M,id:a}));var N=d?"span":"a";return s.a.createElement(N,z({style:h,className:p()("TopicLink",y),href:"//www.zhihu.com/topic/"+a,target:"_blank"},m()(v,["dispatch"])),M)}}]),t}(),C.propTypes={topic:i.a.object.isRequired,user:i.a.object,avatar:i.a.bool,avatarProps:i.a.object,noHoverCard:i.a.bool,noLink:i.a.bool,style:i.a.object,className:i.a.string,children:i.a.node},C.defaultProps={avatar:!1,noLink:!1},T=k))||T;t.a=x},1600:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n.n(r),a=(n(1713),32300);function i(e){var t=e.annotationDetail;if(!t||!t.showOuter)return null;var n=t.reason,r=t.reasonDescription;return o.a.createElement("span",{className:"AnnotationTag"},n===a?"该内容已被标记":r)}},1601:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1602));function a(e){return"string"==typeof e&&e?Array.from(e).reduce(function(e,t){var n=t.codePointAt(0);return e+(o.default(n)?2:1)},0):0}t.getHexRandom=function(e){return Array.from({length:e}).map(function(){return Math.floor(16*Math.random()).toString(16).toUpperCase()}).join("")},t.sliceString=function(e,t){return e.length>t?e.slice(0,t)+"...":e},t.stringWidth=a,t.cutStringWidth=function(e,t){if("string"!=typeof e||"number"!=typeof t||a(e)<=t)return e;for(var n="",r=0;a(e.slice(0,r+1))<=t;)r++,n=e.slice(0,r);return n}},1602:function(e,t,n){"use strict";var r=n(1603);e.exports=function(e){return!r(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141))}},1603:function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},1604:function(e,t,n){},1605:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return c(e,t);return null},e.exports.format=c,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,o=/(?:\.0*|(\.[^0]+)0+)$/,a={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function c(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),i=t&&t.thousandsSeparator||"",c=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&a[u.toLowerCase()]||(u=n>=a.pb?"PB":n>=a.tb?"TB":n>=a.gb?"GB":n>=a.mb?"MB":n>=a.kb?"KB":"B");var p=(e/a[u.toLowerCase()]).toFixed(s);return l||(p=p.replace(o,"$1")),i&&(p=p.replace(r,i)),p+c+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),Math.floor(a[r]*t)}},1606:function(e,t,n){},1607:function(e,t,n){},1608:function(e,t,n){var r;!function(o,a){"use strict";var i="model",c="name",s="type",l="vendor",u="version",p="mobile",f="tablet",d={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(){for(var e,t,n,r,o,a,i,c=0,s=arguments;c<s.length&&!a;){var l=s[c],u=s[c+1];if(void 0===e)for(r in e={},u)u.hasOwnProperty(r)&&("object"==typeof(o=u[r])?e[o[0]]=void 0:e[o]=void 0);for(t=n=0;t<l.length&&!a;)if(a=l[t++].exec(this.getUA()))for(r=0;r<u.length;r++)i=a[++n],"object"==typeof(o=u[r])&&o.length>0?2==o.length?"function"==typeof o[1]?e[o[0]]=o[1].call(this,i):e[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?e[o[0]]=i?i.replace(o[1],o[2]):void 0:e[o[0]]=i?o[1].call(this,i,o[2]):void 0:4==o.length&&(e[o[0]]=i?o[3].call(this,i.replace(o[1],o[2])):void 0):e[o]=i||void 0;c+=2}return e},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(d.has(t[n][r],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},h={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,u],[/(opios)[\/\s]+([\w\.]+)/i],[[c,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[c,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[c,u],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[c,"WeChat"],u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[c,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,"$1 WebView"],u],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[c,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],u],[/;fbav\/([\w\.]+);/i],[u,[c,"Facebook"]],[/fxios\/([\w\.-]+)/i],[u,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[u,m.str,h.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,l,[s,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[l,"Apple"],[s,f]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,i,[s,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[i,[l,"Amazon"],[s,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[i,m.str,h.device.amazon.model],[l,"Amazon"],[s,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,l,[s,p]],[/\((ip[honed|\s\w*]+);/i],[i,[l,"Apple"],[s,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,i,[s,p]],[/\(bb10;\s(\w+)/i],[i,[l,"BlackBerry"],[s,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[l,"Asus"],[s,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[i,"Xperia Tablet"],[s,f]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[l,"Sony"],[i,"Xperia Phone"],[s,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,i,[s,"console"]],[/android.+;\s(shield)\sbuild/i],[i,[l,"Nvidia"],[s,"console"]],[/(playstation\s[34portablevi]+)/i],[i,[l,"Sony"],[s,"console"]],[/(sprint\s(\w+))/i],[[l,m.str,h.device.sprint.vendor],[i,m.str,h.device.sprint.model],[s,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,i,[s,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[i,/_/g," "],[s,p]],[/(nexus\s9)/i],[i,[l,"HTC"],[s,f]],[/(nexus\s6p)/i],[i,[l,"Huawei"],[s,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,i,[s,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[l,"Microsoft"],[s,"console"]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[l,"Microsoft"],[s,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[l,"Motorola"],[s,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[l,"Motorola"],[s,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[i,d.trim],[s,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[l,"Samsung"],[s,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[i,[l,"Sharp"],[s,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],i,[s,f]],[/smart-tv.+(samsung)/i],[l,[s,"smarttv"],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],i,[s,p]],[/sie-(\w+)*/i],[i,[l,"Siemens"],[s,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],i,[s,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[l,"Acer"],[s,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],i,[s,f]],[/(lg) netcast\.tv/i],[l,i,[s,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[i,[l,"LG"],[s,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[l,"Lenovo"],[s,f]],[/linux;.+((jolla));/i],[l,i,[s,p]],[/((pebble))app\/[\d\.]+\s/i],[l,i,[s,"wearable"]],[/android.+;\s(glass)\s\d/i],[i,[l,"Google"],[s,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[i,/_/g," "],[l,"Xiaomi"],[s,p]],[/android.+a000(1)\s+build/i],[i,[l,"OnePlus"],[s,p]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,d.lowerize],l,i]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,u],[/rv\:([\w\.]+).*(gecko)/i],[u,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[u,m.str,h.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[u,m.str,h.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],u],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,u],[/(haiku)\s(\w+)/i],[c,u],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,u]]},b=function(e,t){if(!(this instanceof b))return new b(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?d.extend(y,t):y;return this.getBrowser=function(){var e=m.rgx.apply(this,r.browser);return e.major=d.major(e.version),e},this.getCPU=function(){return m.rgx.apply(this,r.cpu)},this.getDevice=function(){return m.rgx.apply(this,r.device)},this.getEngine=function(){return m.rgx.apply(this,r.engine)},this.getOS=function(){return m.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};b.VERSION="0.7.12",b.BROWSER={NAME:c,MAJOR:"major",VERSION:u},b.CPU={ARCHITECTURE:"architecture"},b.DEVICE={MODEL:i,VENDOR:l,TYPE:s,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},b.ENGINE={NAME:c,VERSION:u},b.OS={NAME:c,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=b),t.UAParser=b):n(1595)?void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r):o.UAParser=b;var v=o.jQuery||o.Zepto;if(void 0!==v){var g=new b;v.ua=g.getResult(),v.ua.get=function(){return g.getUA()},v.ua.set=function(e){g.setUA(e);var t=g.getResult();for(var n in t)v.ua[n]=t[n]}}}("object"==typeof window?window:this)},1609:function(e,t,n){},1610:function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var a=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=n}).call(this,n(33))},1611:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},1612:function(e,t,n){"use strict";e.exports=n(1613)},1613:function(e,t,n){"use strict";
/** @license React v16.4.1
 * create-subscription.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=n(383),o=n(0);function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.createSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe;return function(e){function o(){var n,r;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.state={source:r.props.source,value:null!=r.props.source?t(r.props.source):void 0},r._hasUnmounted=!1,r._unsubscribe=null,a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.getDerivedStateFromProps=function(e,n){return e.source!==n.source?{source:e.source,value:null!=e.source?t(e.source):void 0}:null},o.prototype.componentDidMount=function(){this.subscribe()},o.prototype.componentDidUpdate=function(e,t){this.state.source!==t.source&&(this.unsubscribe(t),this.subscribe())},o.prototype.componentWillUnmount=function(){this.unsubscribe(this.state),this._hasUnmounted=!0},o.prototype.render=function(){return this.props.children(this.state.value)},o.prototype.subscribe=function(){var e=this,o=this.state.source;if(null!=o){var a=n(o,function(t){e._hasUnmounted||e.setState(function(e){return t===e.value||o!==e.source?null:{value:t}})});"function"!=typeof a&&function(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}("266"),this._unsubscribe=a,(a=t(this.props.source))!==this.state.value&&this.setState({value:a})}},o.prototype.unsubscribe=function(){"function"==typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null},o}(o.Component)}},1614:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(144);function o(e){var t=e.badge;if(!e.isOrg)return!1;var n=Object(r.a)(t)||{};return Boolean(n.identityInfo)}},1615:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=n(4),s=n(132),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleSubmit=function(){var e=r.props,t=e.onSubmit;(0,e.onCancel)(),t()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,r=e.shown,a=e.onCancel,l=e.className,u=e.isMobile,p=o.a.createElement(c.c,{key:"confirm",preset:"primary",color:"blue",onClick:this.handleSubmit},"确认"),f=o.a.createElement(c.c,{key:"cancel",onClick:a},"取消"),d=u?[f,p]:[p,f];return o.a.createElement(s.b,{wrapperClassName:"ConfirmModal-wrapper",className:i()("ConfirmModal",l),title:t,size:u?"small":"default",subtitle:n,onClose:a,closeButton:!1,buttonGroupOnly:!0},r&&o.a.createElement(s.a,{direction:u?"horizontal":"vertical"},d))}}]),t}();t.a=p},1616:function(e,t,n){var r=n(2005),o=n(2010);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},1617:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 21.333a9.333 9.333 0 1 1 0-18.666 9.333 9.333 0 0 1 0 18.666zm-.66-11.287c.332.385.609.77.775 1.21.055-.054.665-.99.72-1.706.055-.385.126-1.616-.443-2.367-.443-.496-1.219-.77-1.884-.55a1.788 1.788 0 0 0-1.33 2.036c.887.276 1.607.771 2.161 1.377zm-1.33 1.541c.443-.055.941-.11 1.44 0 0-.055-.484-.936-1.108-1.486-.665-.496-1.33-.973-2.216-.771-.72.11-1.723.77-1.55 2.092.11.606.553 1.101 1.162 1.321.61-.605 1.44-1.046 2.272-1.156zm2.714.165c.056 0 1.164.055 1.828-.165.72-.275 1.412-.68 1.773-1.541.11-.276.23-1.248-.443-1.872-.72-.716-1.717-.716-2.438-.165.222.825.063 1.966-.11 2.532-.103.348-.333.88-.61 1.211zm-1.44.55c-.056 0-1.33.056-1.828.221-.72.275-1.447.668-1.773 1.541-.11.276-.21 1.26.443 1.872.665.661 1.718.661 2.438.11-.295-.811-.166-1.761.055-2.477.166-.495.388-.936.665-1.266zm5.041-.99c-.665.605-1.44.99-2.327 1.211-.443.055-.941.11-1.44 0 0 .055.554.991 1.108 1.431.665.496 1.385.771 2.216.771.72-.11 1.678-.692 1.551-2.092-.055-.605-.554-1.101-1.108-1.321zm-3.656 2.642a3.475 3.475 0 0 1-.776-1.156c-.055.055-.665.991-.72 1.707-.055.385-.101 1.506.499 2.312.443.496 1.218.77 1.883.55.887-.275 1.496-1.1 1.33-2.036a5.38 5.38 0 0 1-2.216-1.377z",fillRule:"evenodd"}))};i.defaultProps={name:"LabelRoundtable"};var c=i,s=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.465 4.544l2.272.406c.67.12 1.193.644 1.313 1.313l.406 2.272c.042.231.132.45.266.643l1.32 1.894a1.624 1.624 0 0 1 0 1.856l-1.32 1.894a1.624 1.624 0 0 0-.266.643l-.406 2.272a1.624 1.624 0 0 1-1.313 1.313l-2.272.406c-.231.042-.45.132-.643.266l-1.894 1.32a1.624 1.624 0 0 1-1.856 0l-1.894-1.32a1.624 1.624 0 0 0-.643-.266l-2.272-.406a1.624 1.624 0 0 1-1.313-1.313l-.406-2.272a1.624 1.624 0 0 0-.266-.643l-1.32-1.894a1.624 1.624 0 0 1 0-1.856l1.32-1.894c.134-.193.224-.412.266-.643l.406-2.272c.12-.67.644-1.193 1.313-1.313l2.272-.406c.231-.042.45-.132.643-.266l1.894-1.32a1.624 1.624 0 0 1 1.856 0l1.894 1.32.643.266zM12 14.187c.526 0 .977-.209 1.351-.625.375-.416.562-.916.562-1.501V8.659c0-.584-.187-1.085-.562-1.501-.374-.416-.825-.625-1.35-.625-.527 0-.978.209-1.352.625a2.166 2.166 0 0 0-.562 1.501v3.402c0 .585.187 1.085.562 1.501.374.416.825.625 1.351.625zm3.436-3.159a.373.373 0 0 0-.278-.121c-.107 0-.199.04-.277.121a.402.402 0 0 0-.117.289v.82c0 .79-.27 1.466-.812 2.027-.54.562-1.191.843-1.952.843-.76 0-1.412-.281-1.953-.843a2.818 2.818 0 0 1-.81-2.027v-.82a.402.402 0 0 0-.118-.289.373.373 0 0 0-.277-.121c-.107 0-.2.04-.278.121a.401.401 0 0 0-.117.289v.82c0 .944.303 1.765.91 2.463.606.698 1.356 1.098 2.248 1.2v1.94c-.002.22.13.33.395.33s.397-.11.395-.33V15.8c.892-.102 1.642-.502 2.248-1.2.607-.698.91-1.52.91-2.463v-.82a.401.401 0 0 0-.117-.289z",fillRule:"evenodd"}))};s.defaultProps={name:"LabelRelevant"};var l=s,u=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12.868 2.899l6.597 3.8c.537.31.868.881.868 1.5v7.602c0 .619-.33 1.19-.868 1.5l-6.597 3.8c-.537.31-1.199.31-1.736 0l-6.597-3.8a1.731 1.731 0 0 1-.868-1.5V8.199c0-.619.33-1.19.868-1.5l6.597-3.8a1.74 1.74 0 0 1 1.736 0zm-2.614 11.85a.29.29 0 0 1 .255.148l1.239 2.207a.289.289 0 0 0 .504 0l1.24-2.207a.29.29 0 0 1 .254-.148l2.52.023a.29.29 0 0 0 .253-.434l-1.284-2.192a.288.288 0 0 1 0-.292l1.284-2.192a.288.288 0 0 0-.253-.434l-2.52.023a.29.29 0 0 1-.255-.148l-1.239-2.207a.289.289 0 0 0-.504 0l-1.24 2.207a.29.29 0 0 1-.254.148l-2.52-.023a.29.29 0 0 0-.253.434l1.284 2.192a.288.288 0 0 1 0 .292L7.48 14.338a.288.288 0 0 0 .253.434l2.52-.023z",fillRule:"evenodd"}))};u.defaultProps={name:"LabelEditorRecommendation"};var p=u,f=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M7.667 3.667h11.466a1.2 1.2 0 0 1 1.2 1.2v13.066a2.4 2.4 0 0 1-2.4 2.4H6.467V4.867a1.2 1.2 0 0 1 1.2-1.2zM4.2 9.619h1.689v10.714H5.4a2.4 2.4 0 0 1-2.4-2.4V10.82a1.2 1.2 0 0 1 1.2-1.2zm5.178-2.38a.6.6 0 0 0-.6.6v.585a.6.6 0 0 0 .6.6h8.044a.6.6 0 0 0 .6-.6v-.586a.6.6 0 0 0-.6-.6H9.378zm0 3.57a.6.6 0 0 0-.6.6v.586a.6.6 0 0 0 .6.6h8.044a.6.6 0 0 0 .6-.6v-.585a.6.6 0 0 0-.6-.6H9.378zm0 3.572a.6.6 0 0 0-.6.6v.586a.6.6 0 0 0 .6.6h4.578a.6.6 0 0 0 .6-.6v-.586a.6.6 0 0 0-.6-.6H9.378z",fillRule:"evenodd"}))};f.defaultProps={name:"LabelSpecial"};var d=f,m=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M3.85 5.266c1.093-.4 2.175-.6 3.245-.6 1.338 0 2.675.313 4.01.939a.6.6 0 0 1 .346.543v10.31a.24.24 0 0 1-.342.216c-1.337-.626-2.675-.94-4.014-.94-1.186 0-2.387.246-3.604.738a.6.6 0 0 1-.824-.557V6.957a1.8 1.8 0 0 1 1.182-1.69zm9.045.339c1.335-.626 2.672-.938 4.01-.938 1.07 0 2.152.2 3.246.6a1.8 1.8 0 0 1 1.182 1.69v8.958a.6.6 0 0 1-.824.557c-1.217-.492-2.418-.737-3.604-.737-1.339 0-2.677.313-4.014.94a.24.24 0 0 1-.342-.218V6.148a.6.6 0 0 1 .346-.543zm4.01 11.282c1.311 0 2.619.27 3.918.806.419.172.62.656.45 1.081a.813.813 0 0 1-1.065.457c-1.108-.457-2.207-.684-3.303-.684-1.08 0-2.163.22-3.254.664h.001a1.8 1.8 0 0 1-.649.121l-2.079.001c-.195 0-.39-.04-.568-.12-1.094-.445-2.18-.666-3.261-.666-1.096 0-2.195.227-3.303.684a.813.813 0 0 1-1.065-.457.834.834 0 0 1 .45-1.081c1.3-.536 2.607-.806 3.918-.806a10.009 10.009 0 0 1 3.391.604 3 3 0 0 0 1.025.18l.973.001a3 3 0 0 0 1.028-.18 10.01 10.01 0 0 1 3.393-.604z",fillRule:"evenodd"}))};m.defaultProps={name:"LabelWeekly"};var h=m,y=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M10.037 3.2h3.926c2.377 0 3.24.248 4.109.712a4.846 4.846 0 0 1 2.016 2.016c.464.87.712 1.732.712 4.109v3.926c0 2.377-.248 3.24-.712 4.109a4.846 4.846 0 0 1-2.016 2.016c-.87.464-1.732.712-4.109.712h-3.926c-2.377 0-3.24-.248-4.109-.712a4.846 4.846 0 0 1-2.016-2.016c-.464-.87-.712-1.732-.712-4.109v-3.926c0-2.377.248-3.24.712-4.109a4.846 4.846 0 0 1 2.016-2.016c.87-.464 1.732-.712 4.109-.712zM12 17.61a1.027 1.027 0 0 0 0-2.053A3.557 3.557 0 1 1 15.557 12a1.027 1.027 0 1 0 2.053 0A5.61 5.61 0 1 0 12 17.61z",fillRule:"evenodd"}))};y.defaultProps={name:"LabelDaily"};var b=y,v=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.712 4.011l2.435.435a1.74 1.74 0 0 1 1.407 1.407l.435 2.435c.044.247.141.482.285.688l1.414 2.03a1.74 1.74 0 0 1 0 1.989l-1.414 2.029a1.74 1.74 0 0 0-.285.688l-.435 2.435a1.74 1.74 0 0 1-1.407 1.407l-2.435.435a1.74 1.74 0 0 0-.688.285l-2.03 1.414a1.74 1.74 0 0 1-1.989 0l-2.029-1.414a1.74 1.74 0 0 0-.688-.285l-2.435-.435a1.74 1.74 0 0 1-1.407-1.407l-.435-2.435a1.74 1.74 0 0 0-.285-.688l-1.414-2.03a1.74 1.74 0 0 1 0-1.989l1.414-2.029a1.74 1.74 0 0 0 .285-.688l.435-2.435a1.74 1.74 0 0 1 1.407-1.407l2.435-.435a1.74 1.74 0 0 0 .688-.285l2.03-1.414a1.74 1.74 0 0 1 1.989 0l2.029 1.414.688.285zM11.875 8.84a4.21 4.21 0 1 0 0 8.42 4.21 4.21 0 0 0 0-8.42zm2.086 4.044l-.8.815.19 1.152c.063.386-.149.555-.487.37l-.989-.545-.988.544c-.332.183-.551.025-.486-.37l.188-1.15-.8-.816c-.268-.274-.192-.54.186-.598l1.106-.168.494-1.047c.166-.352.432-.359.601 0l.494 1.047 1.106.168c.37.057.46.319.185.598zm2.066-6.143h-2.65a.298.298 0 0 0-.291.217l-.817 1.504s1.75.098 2.782 1.027l1.22-2.298a.268.268 0 0 0 .062-.164c0-.158-.137-.286-.306-.286zM11.73 8.46l-.816-1.503a.298.298 0 0 0-.292-.217h-2.65c-.169 0-.306.128-.306.286a.27.27 0 0 0 .062.164l1.22 2.298c1.033-.929 2.782-1.027 2.782-1.027z"}))};v.defaultProps={name:"LabelProfessional"};var g=v;n.d(t,"f",function(){return w}),n.d(t,"b",function(){return M}),n.d(t,"e",function(){return N}),n.d(t,"d",function(){return E}),n.d(t,"a",function(){return O}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return T});var w=["online_roundtable","relevant","editor_recommendation","roundtable","special","weekly","daily","professional"],M={online_roundtable:c,relevant:l,editor_recommendation:p,roundtable:c,special:d,weekly:h,daily:b,professional:g},N={online_roundtable:"知乎圆桌",relevant:"亲自答",editor_recommendation:"编辑推荐",roundtable:"知乎圆桌精选",special:"专题收录",weekly:"知乎周刊收录",daily:"知乎日报收录",professional:"专业"},E={online_roundtable:"知乎圆桌",relevant:"亲自答",editor_recommendation:"编辑推荐",roundtable:"圆桌精选",special:"专题收录",weekly:"周刊收录",daily:"日报收录",professional:"专业"},O={online_roundtable:"此回答被收录进圆桌精选",relevant:"此回答由问题相关方亲自撰写",professional:"已有 {} 人赠与了专业徽章"},j={online_roundtable:"前往圆桌",roundtable:"前往圆桌",special:"前往专题",weekly:"前往周刊",daily:"前往日报"},T={online_roundtable:"圆桌",relevant:"亲自答",editor_recommendation:"编辑推荐",roundtable:"圆桌",special:"专题收录",weekly:"周刊收录",daily:"日报收录",professional:"内容专业"}},1618:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a);n(1757);function c(e){var t=e.className;return o.a.createElement("span",{className:i()("ActivityItem-StickyMark",t)},"置顶")}n.d(t,"a",function(){return c})},1619:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),c=n(1),s=n.n(c),l=n(1579),u=n(168),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),p(t,[{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.selector,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["containerClassName","selector"]);return i.a.createElement(u.b,{className:t,selector:n},i.a.createElement(l.b,r))}}]),t}(),r.propTypes={containerClassName:s.a.string,selector:s.a.string},r.defaultProps={selector:".List-item"},o);n.d(t,"a",function(){return f})},1620:function(e,t,n){e.exports=n(1801)()},1621:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…";return e.length>t?e.slice(0,t)+n:e}function o(e,t){for(var n,r=0,o="",a=e.length,i=0;i<a&&((n=e[i]).charCodeAt(0)<128?r+=1:r+=2,o+=n,!(r>=t-1));i+=1);return o}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=null;function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0,c=void 0;"undefined"==typeof document?i=o(c=e.replace(/<.+?>/g,""),t):((a=a||document.createElement("div")).textContent=e,i=o(c=a.textContent.replace(/<.+?>/g,""),t));var s=!1;return i!==c&&(s=!0,i=i.slice(0,i.length-n.length),i+=n),r?{output:i,truncated:s}:i}},1622:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(2),s=n.n(c),l=n(1816),u=n(404);n(1712);function p(e){var t=e.annotationDetail,n=e.className;if(!t)return null;var r=t.detail,a=t.member,i=t.reasonDescription,c=t.type,p=a?a.name+"：":"";return o.a.createElement("section",{className:s()("Annotation-mark",n)},o.a.createElement("header",{className:"Annotation-header"},"strong"===c&&o.a.createElement(l.a,{size:16,center:!0,text:!0,className:"Annotation-alert"}),o.a.createElement("h1",{className:"Annotation-markTitle"},i||"该内容已被标记")),(r||p)&&o.a.createElement(u.a,{className:"Annotation-markSummary",html:""+p+(r||"未填写原因")}))}p.propTypes={annotationDetail:i.a.shape({reason:i.a.number.isRequired,reasonDescription:i.a.string,type:i.a.oneOf(["strong","weak"]).isRequired,detail:i.a.string,member:i.a.shape({name:i.a.string.isRequired}),showOuter:i.a.bool}).isRequired}},1623:function(e,t,n){"use strict";var r=["DIV","P","BLOCKQUOTE","PRE","CODE","OL","UL","H1","H2","H3","H4","H5","H6"],o=function(e){return r.includes(e.nodeName)||e.classList&&(e.classList.contains("video-box")||e.classList.contains("link-box")||e.classList.contains("origin_image")||e.classList.contains("content_image"))};t.a=function(e){if("undefined"==typeof window)return e;if(-1!==e.indexOf("<p>"))return e;var t=document,n=t.createElement("div");n.innerHTML=e;var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.childNodes)),a=!0,i=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;if("BR"===u.nodeName&&u.previousSibling&&"BR"!==u.previousSibling.nodeName&&u.nextSibling&&"BR"===u.nextSibling.nodeName){for(var p=t.createElement("p"),f=u.previousSibling;f&&!o(f)&&("BR"!==f.nodeName||f.previousSibling&&"BR"!==f.previousSibling.nodeName&&!o(f.previousSibling));){var d=p.childNodes;d.length>0?p.insertBefore(f,d[0]):p.appendChild(f),f=u.previousSibling}p.childNodes.length>0&&(n.insertBefore(p,u),u.nextSibling.parentNode.removeChild(u.nextSibling),u.parentNode.removeChild(u))}}}catch(e){i=!0,c=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw c}}return n.innerHTML}},1625:function(e,t,n){"use strict";var r,o,a,i=n(0),c=n.n(i),s=n(1),l=n.n(s),u=n(13),p=n(1819),f=n(38),d=n(18),m=n(73),h=(n(1675),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v,g={all:"开放评论",censor:"预审评论",nobody:"关闭评论"},w={all:"允许任何人评论",follower:"允许关注我的人评论",censor:"评论由我筛选后显示",followee:"允许我关注的人评论",paid:"付费用户可评论",nobody:"关闭评论"},M=Object(u.connect)(function(e){return{isOrg:Object(d.f)(e)}})((a=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClickOption=function(e){var t=r.props,n=t.isOrg,o=t.target,a=t.onChange,i=t.current;if(e!==i)if(o){var c=o.id;o.adminClosedComment?Object(m.b)("此内容无法更改评论权限",{theme:"red-ghost"}):n||"censor"!==e&&"censor"!==i?a(c,e):Object(m.a)("你确定要更改评论权限吗？",{content:"censor"===e?"更改后，已有评论不变，新评论需要经过筛选才会公开显示":"更改后，所有待筛选评论都会被公开显示出来"}).then(function(){return a(c,e)}).catch(function(){return null})}else a(e)},r.getCommentPermission=function(){var e=r.props.target,t=e&&"answer"===e.type&&"paid"===e.answerType;return Object.keys(w).filter(function(n){if("paid"!==n||t)return"follower"!==n||e&&"article"===e.type}).reduce(function(e,t){return h({},e,(n={},r=t,o=w[t],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o},{})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),y(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOrg,r=t.current,o=n?g:this.getCommentPermission();return c.a.createElement(i.Fragment,null,Object.keys(o).map(function(t){var n=t===r;return c.a.createElement(f.b,{key:t,onClick:function(){return e.handleClickOption(t)},className:"CommentPermission-item"},n&&c.a.createElement(p.a,{text:!0,center:!0}),o[t])}))}}]),t}(),o.propTypes={current:l.a.string.isRequired,target:l.a.object,onChange:l.a.func.isRequired},r=a))||r,N=n(32),E=n(1676),O=n.n(E),j=n(203),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var C=Object(j.a)({view:{id:3038},trackCardShow:!0})(v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),T(t,[{key:"render",value:function(){return c.a.createElement("img",{src:O.a,style:{maxWidth:"200px",marginTop:"30px"},alt:"delete-comment-success"})}}]),t}())||v;C.showModal=function(e){N.b.open(function(t){var n=(e||{}).reportText;return setTimeout(t,2e3),c.a.createElement(N.b,{title:"举报成功",onClose:t},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",null,n||"你的举报我们已经收到，处理完成后将会私信告知处理结果。"),c.a.createElement(C,null)))})};var k=C,D=n(4),I=n(206),A=(n(1677),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={reportModalShown:!1},r.handleSubmit=function(){var e=r.props,t=e.id,n=e.onDelete,o=e.onClose;n(t),o()},r.handleReportModalOpen=function(){return r.setState({reportModalShown:!0})},r.handleReportModalClose=function(){r.setState({reportModalShown:!1}),r.handleSubmit()},r.handleSuccess=function(){r.handleSubmit()},z(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),A(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.shown,r=e.onClose,o=e.reportAndDeleteExperiment;return c.a.createElement(i.Fragment,null,c.a.createElement(N.b,{title:"你确定要删除这条评论吗？",closeButton:null,maskClosable:!1,hotKeyClosable:!1,onClose:r,footer:o&&c.a.createElement("div",{className:"CommentDeleteAndReport-extra"},"评论若构成举报条件可以",c.a.createElement(D.c,{preset:"link",onClick:this.handleReportModalOpen},"删除并举报"))},n&&c.a.createElement(N.a,{direction:"horizontal"},c.a.createElement(D.c,{onClick:r},"取消"),c.a.createElement(D.c,{preset:"primary",color:"blue",onClick:this.handleSubmit},"确定"))),c.a.createElement(I.a,{title:"删除成功，请选择举报理由",subtitle:"",shown:this.state.reportModalShown,type:"comment",urlToken:t,zaEnabled:!0,onSuccess:this.handleSuccess,onClose:this.handleReportModalClose}))}}]),t}();n.d(t,"c",function(){return M}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return k})},1626:function(e,t,n){},1627:function(e,t,n){},1628:function(e,t,n){},1629:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(1579),u=n(202),p=n(134),f=n(1644),d=n(1589),m=(n(1724),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),h(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isDrained,r=e.items,o=e.voteupCount,a=e.onLoad,i=e.text,c=e.isRewardList,h=e.notice,y=e.type,b=e.currentUser,v={getContainer:function(e){return e}};return s.a.createElement("div",{className:"VoterList"},s.a.createElement(f.a,{header:Object(u.formatNumber)(o)+" 人"+(i||"赞同了")}),c&&h&&s.a.createElement("div",{className:"VoterList-description"},s.a.createElement("p",null,h)),s.a.createElement(p.b,m({className:"VoterList-content",isLoading:t,isDrained:n,onLoad:a,placeholder:s.a.createElement(p.a,{className:"List-item",withAvatar:!0})},v),r&&r.map(function(e,t){return s.a.createElement(l.a,{key:t+"."+e.urlToken},s.a.createElement(d.a,{currentUser:b,user:e,isRewardList:c,meta:null,type:y}))})))}}]),t}(),r.propTypes={isFetching:i.a.bool.isRequired,isDrained:i.a.bool.isRequired,items:i.a.array.isRequired,voteupCount:i.a.number.isRequired,text:i.a.string.isRequired,onLoad:i.a.func.isRequired,isRewardList:i.a.bool,type:i.a.string,currentUser:i.a.object},o);t.a=y},1631:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1633:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(2),u=n.n(l),p=n(13),f=n(15),d=n(395),m=n(1557),h=n(1562),y=n(1919),b=n(1920),v=n(9),g=n(4),w=n(24),M=n(38),N=n(142),E=n(21),O=n.n(E),j=(n(1640),n(42)),T=n(132),C=32305,k=[{code:32309,description:"收到大量反对"},{code:32301,description:"可能包含争议观点"},{code:32302,description:"可能存在事实性错误",placeholder:"为了避免对您造成误导，请谨慎甄别"},{code:32303,description:"可能涉及金钱往来",placeholder:"为保障您的财产安全，请谨慎判断"},{code:32304,description:"可能包含剧透"},{code:32306,description:"可能包含具体的医疗建议",placeholder:"网络上的医疗建议仅供参考，如有需要请咨询专业人士或前往医疗机构就医"},{code:32307,description:"可能包含令人不适的图片或视频",placeholder:"为保障您的阅读体验，请谨慎浏览"},{code:32308,description:"已有回应"},{code:32300,description:"其他"}],D=(n(1717),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var I,A,z=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["PureComponent"]),D(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.value,r=e.onChange,o=e.className;return s.a.createElement("div",{className:u()("RadioButtons",o)},t.map(function(e,t){var o=e.value,a=e.text,i=e.placeholder;return s.a.createElement("label",{key:t,className:"RadioButtons-item"},s.a.createElement("span",{className:"RadioButtons-text"},a),s.a.createElement("input",{type:"radio",className:"RadioButtons-input",value:o,checked:n===o,onChange:function(){return r(o,i)}}))}))}}]),t}(),r.propTypes={options:i.a.arrayOf(i.a.shape({value:i.a.string,text:i.a.string,placeholder:i.a.string})).isRequired,value:i.a.string,onChange:i.a.func,className:i.a.string},o),S=(n(1718),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _,P,L=function(){return n.e(5).then(n.bind(null,1539))},R=k.map(function(e){var t=e.code,n=e.description,r=e.placeholder;return{text:n,value:String(t),placeholder:r}}),Q=(A=I=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={selectedReasonCode:null,isReasonDescriptionEmpty:!0},r.handleReasonCodeChange=function(e,t){r.setState({selectedReasonCode:Number(e),selectedReasonPlaceholder:t||""}),r.input&&r.input.resetWithValue(t||"")},r.handleAddAnnotation=function(){var e=r.props,t=e.addAnnotation,n=e.type,o=e.urlToken,a=e.showNotification,i=e.onClose;t(n,o,r.state.selectedReasonCode,r.input.toHTML()).then(function(){i(),a&&a("标记内容成功")})},r.handleReasonDescriptionChange=function(e){r.setState({isReasonDescriptionEmpty:e.isEmpty})},x(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["PureComponent"]),S(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.shown,o=t.className,a=this.state,i=a.selectedReasonCode,c=a.isReasonDescriptionEmpty,l=a.selectedReasonPlaceholder,u=function(e){var t=k.find(function(t){return t.code===e});return t&&t.description}(i),p=32300===i;return s.a.createElement(T.b,{title:"标记内容",subtitle:"请选择标记原因",onClose:n,className:o},r&&s.a.createElement("div",null,s.a.createElement("div",{className:"AddAnnotationModal-body"},s.a.createElement(z,{options:R,onChange:this.handleReasonCodeChange,value:String(i)}),i&&s.a.createElement("div",null,s.a.createElement("div",{className:"AddAnnotationModal-description"},u,"（",p?"必填":"选填","）"),s.a.createElement(j.a,{getComponent:L,multiline:!0,richtext:!0,allowMention:!0,large:!0,spread:!0,minRows:2,onRef:function(t){e.input=t},defaultValue:l,placeholder:"请填写原因",onChange:this.handleReasonDescriptionChange}))),s.a.createElement(T.a,{direction:"horizontal",className:"AddAnnotationModal-buttonGroup"},s.a.createElement(g.c,{preset:"primary",color:"blue",onClick:this.handleAddAnnotation,size:"spread",disabled:!i||p&&c},"标记"))))}}]),t}(),I.propTypes={addAnnotation:i.a.func.isRequired,onClose:i.a.func.isRequired,shown:i.a.bool.isRequired,type:i.a.oneOf([0,1,2]).isRequired,urlToken:i.a.oneOfType([i.a.number,i.a.string]),showNotification:i.a.func,className:i.a.string},A),U=n(23),B=n(59),Y=n.n(B),q=n(67),H=(n(1719),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=(P=_=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=F(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={isReasonDescriptionEmpty:!0},r.handleCancelAnnotation=function(){var e=r.props,t=e.cancelAnnotation,n=e.type,o=e.urlToken,a=e.showNotification,i=e.onClose;t(n,o,C,r.input.value).then(function(){i(),a&&a("撤销标记成功")})},r.handleReasonDescriptionChange=function(e){return r.setState({isReasonDescriptionEmpty:e.isEmpty})},F(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["PureComponent"]),H(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.shown,o=t.className,a=this.state.isReasonDescriptionEmpty;return s.a.createElement(T.b,{title:"你确定要撤销这条内容的标记吗？",onClose:n,className:o},r&&s.a.createElement("div",{className:"CancelAnnotationModal"},s.a.createElement(q.a,{multiline:!0,large:!0,spread:!0,onRef:function(t){e.input=t},placeholder:"请填写撤销原因（必填）",onChange:this.handleReasonDescriptionChange,className:"CancelAnnotationModal-Input"}),s.a.createElement(T.a,{direction:"horizontal"},Object(U.isBrowser)()&&!Y()(window.navigator.userAgent).Mobile&&s.a.createElement(g.c,{onClick:n,size:"spread"},"取消"),s.a.createElement(g.c,{preset:"primary",color:"blue",onClick:this.handleCancelAnnotation,size:"spread",className:"CancelAnnotationModal-CancelButton",disabled:a},"撤销标记"))))}}]),t}(),_.propTypes={cancelAnnotation:i.a.func.isRequired,onClose:i.a.func.isRequired,shown:i.a.bool.isRequired,type:i.a.oneOf([0,1,2]).isRequired,urlToken:i.a.oneOfType([i.a.number.isRequired,i.a.string.isRequired]),showNotification:i.a.func,className:i.a.string},P),W=n(396),G=n(10),Z=n(39),J=n(58),K=n(6),X=n(25),$=n(7),ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=ee({},Object($.a)("collaboration",["ADD_ANNOTATION","CANCEL_ANNOTATION"])),re=function(e){return e===G.b?"answers":e===G.d?"pins":e===G.c?"articles":null},oe=n(14),ae=n(207),ie=n(36),ce=n(171),se=n(18),le=n(210),ue=n(135),pe=n(1614),fe=n(400),de=n(1643),me=n(1625),he=n(203),ye=n(1655),be=n(401),ve=n(1915),ge=n(1916),we=n(1622),Me=n(1720),Ne=n.n(Me),Ee=function(e){var t=e.answer,n=e.canCollapse,r=t.isNormal,o=void 0===r||r,a=t.collapsedBy,i=t.reviewInfo,c=(i=void 0===i?{}:i).isReviewing,l=i.tips,u=t.suggestEdit,p=(u=void 0===u?{}:u).title,f=u.unnormalDetails,d=(f=void 0===f?{}:f).reason,m=f.description,h=t.collapseReason;return c?s.a.createElement("div",{key:"negativeLabels",className:"AnswerItem-status"},l):o?"community"===a?s.a.createElement("div",{key:"negativeLabels",className:"AnswerItem-statusContent"},s.a.createElement("div",{className:"AnswerItem-statusReason"},"该回答已被折叠 ",s.a.createElement("span",null,s.a.createElement("a",{target:"_blank",href:"/question/20120168","data-tooltip":"点击了解更多",className:"AnswerItem-complaintHelp"},s.a.createElement(ve.a,{className:"AnswerItem-complaintIcon",width:16})))),h&&s.a.createElement("div",{className:"AnswerItem-statusDescription"},"折叠原因：",h)):"org"!==a||n?null:s.a.createElement("div",{key:"negativeLabels",className:"AnswerItem-status"},"回答被提问机构移至隐藏区（",s.a.createElement("a",{href:"/org-intro#org-question",target:"_blank"},"为什么？"),"）"):s.a.createElement("div",{key:"negativeLabels",className:"AnswerItem-statusContent"},s.a.createElement("div",{className:"AnswerItem-statusReason"},m,"：",d),s.a.createElement("div",{className:"AnswerItem-statusDescription"},"作者修改内容通过后，回答会重新显示恢复正常 ",s.a.createElement("a",{target:"_blank",href:"/question/24752645",className:"AnswerItem-statusLink"},p)))},Oe=function(e){var t=e.answer,n=e.canCollapse,r=t.collapsedBy,o=t.relevantInfo,a=(o=void 0===o?{}:o).relevantType;return Object(Z.j)(t)||Object(Z.k)(t)||"org"===r&&!n?s.a.createElement("div",{className:"AnswerItem-meta",key:"commercial"},"brand_special"===a&&s.a.createElement("div",{className:"AnswerItem-commercialBadge AnswerItem-commercialBadge-brand"},s.a.createElement(ge.a,{size:16}),s.a.createElement("b",null,"品牌特邀："),"本文由品牌邀请撰写"),"brand_best"===a&&s.a.createElement("span",{className:"AnswerItem-sticky","data-tooltip":"本回答由品牌设为精选","data-tooltip-position":"bottom"},"品牌精选")):null},je=function(e){var t=e.answer,n=t.annotationDetail,r=t.reviewInfo,o=(r=void 0===r?{}:r).isReviewing,a=t.isNormal,i=void 0===a||a,c=t.collapsedBy;return!o&&i&&"community"!==c&&n?s.a.createElement(we.a,{key:"neutral",annotationDetail:n}):null},Te=function(e){var t=e.answer;return Object(Z.k)(t)?s.a.createElement("div",{className:"AnswerItem-commercialBadge",key:"positive"},s.a.createElement(Ne.a,{style:{marginRight:"6px",verticalAlign:"text-bottom"},size:16}),s.a.createElement("b",null,"亲自答："),"此回答由问题相关方亲自撰写"):null},Ce=n(32),ke=n(37),De=n(1678),Ie=n.n(De),Ae=n(1721),ze=n.n(Ae),Se=n(1679),xe=n.n(Se),_e=n(1722),Pe=n.n(_e),Le=(n(1723),{answerAdmireCouldOpen:{image:ze.a,title:"开启「赞赏」权益",content:"你已经获得了「赞赏」权益，使用「赞赏」可以得到更多收益。快去开启权益吧。",buttonText:"立即开启",buttonLink:"https://www.zhihu.com/creator/profit/reward/community",detailViewName:"admire",cardShowId:4922,buttonClickId:4924,readAlwaysId:4926,readNextId:4928},answerAdmireCouldUse:{image:ze.a,title:"使用「赞赏」权益",content:"你可以为这篇内容开启「赞赏」。「赞赏」开启后，读者将可以付费支持你的创作。",buttonText:"开启赞赏",detailViewName:"admire",cardShowId:4923,buttonClickId:4925,readAlwaysId:4927,readNextId:4929},promotionCouldOpen:{image:Pe.a,title:"开启「自定义推广」权益",content:"你已经获得了「自定义推广」权益，使用「自定义推广」可以让内容得到更多展示机会。快去开启权益吧。",buttonText:"立即开启",buttonLink:"https://www.zhihu.com/creator/tools/custom_promotion",detailViewName:"promotion",cardShowId:4922,buttonClickId:4924,readAlwaysId:4926,readNextId:4928},promotionCouldUse:{image:Pe.a,title:"使用「自定义推广」权益",content:"你可以使用「自定义推广」权益，使这篇内容获得更多展示机会。快去使用权益吧。",buttonText:"立即使用权益",buttonLink:"https://www.zhihu.com/creator/tools/custom_promotion",detailViewName:"promotion",cardShowId:4923,buttonClickId:4925,readAlwaysId:4927,readNextId:4929},recommendationCouldOpen:{image:xe.a,title:"开启「内容自荐」权益",content:"你已经获得了「内容自荐」权益，优质内容通过自荐后可以展示给更多人。快去开启权益吧。",buttonText:"立即开启",buttonLink:"https://www.zhihu.com/creator/tools/recommend",detailViewName:"recommend",cardShowId:4922,buttonClickId:4924,readAlwaysId:4926,readNextId:4928},recommendationCouldUse:{image:xe.a,title:"使用「内容自荐」权益",content:"你可以使用「内容自荐」权益，让更多人看到这篇内容。快去使用权益吧。",buttonText:"立即自荐",detailViewName:"recommend",cardShowId:4923,buttonClickId:4925,readAlwaysId:4927,readNextId:4929}});var Re,Qe,Ue=function(e){var t=e.notification,n=void 0===t?{}:t,r=e.className,o=e.onRead,a=e.onUseAdmire,i=e.onUseRecommend,l=Object.keys(n).find(function(e){return n[e]}),p=Le[l]||{},f=p.title,d=p.image,m=p.content,h=p.buttonText,y=p.buttonLink,b=p.detailViewName,w=p.cardShowId,M=p.buttonClickId,N=p.readAlwaysId,E=p.readNextId;return Object(c.useEffect)(function(){l&&v.default.trackCardShow(null,{id:w,name:b})},[l,w,b]),s.a.createElement(Ce.b,{className:u()("CreatorRightsNotification",r),onClose:function(){o("next"),v.default.trackEvent(null,{id:E,name:b})}},l&&s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:"CreatorRightsNotification-background",src:Ie.a,alt:"blue background"}),s.a.createElement("img",{className:"CreatorRightsNotification-liukanshan",src:d,alt:"liukanshan image"}),s.a.createElement("div",{className:"CreatorRightsNotification-title"},f),s.a.createElement("div",{className:"CreatorRightsNotification-content"},m),s.a.createElement(Ce.a,{className:"CreatorRightsNotification-buttonGroup"},y?s.a.createElement(ke.a,{className:"CreatorRightsNotification-button",preset:"primary",color:"blue",to:y,target:"_blank",onClick:function(){o("current"),v.default.trackEvent(null,{id:M,name:b})}},h):s.a.createElement(g.c,{className:"CreatorRightsNotification-button",preset:"primary",color:"blue",onClick:function(){o("current"),v.default.trackEvent(null,{id:M,name:b}),"answerAdmireCouldUse"===l&&a(),"recommendationCouldUse"===l&&i()}},h),s.a.createElement(g.c,{className:"CreatorRightsNotification-dismiss",preset:"plain",color:"grey",onClick:function(){o("always"),v.default.trackEvent(null,{id:N,name:b})}},"不再提醒"))))},Be=n(1598),Ye=n(1708),qe=n(1600),He=n(1568),Fe=n(1572),Ve=n(1662),We=n(1576),Ge=n(1577),Ze=n(206),Je=n(1705),Ke=n(389),Xe=n(1635),$e=n(1580),et=n(1646),tt=(n(1734),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var nt,rt,ot=(Qe=Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),tt(t,[{key:"render",value:function(){var e=this.props.activateReward;return s.a.createElement("div",{className:"Reward"},s.a.createElement("button",{className:"Reward-activateBtn",onClick:e},"开启赞赏"),s.a.createElement("div",{className:"Reward-activateHint"},"赞赏开启后，读者将可以付费支持你的创作。"))}}]),t}(),Re.propTypes={activateReward:i.a.func},Qe),at=(n(1735),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var it,ct,st=(rt=nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),at(t,[{key:"render",value:function(){var e=this.props,t=e.tagline,n=e.activateReward,r=e.totalMoney,o=e.showRewarders;return s.a.createElement("div",null,s.a.createElement("div",{className:"Reward-tagline"},t||G.i,s.a.createElement("a",{className:"Reward-editButton",onClick:n},s.a.createElement(w.a,{left:!0,name:"modify"}),s.a.createElement("span",null,"编辑"))),Boolean(r)&&s.a.createElement("div",{className:"Reward-money"},s.a.createElement("span",{onClick:o},"￥ ",r.toFixed(2))))}}]),t}(),nt.propTypes={activateReward:i.a.func,tagline:i.a.string,totalMoney:i.a.number,showRewarders:i.a.func},rt),lt=n(1629),ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pt,ft,dt,mt=(ct=it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),ut(t,[{key:"render",value:function(){var e=this.props,t=e.modalShown,n=e.onLoad,r=e.items,o=e.voteupCount,a=e.isRewardList,i=e.onClose,c=e.notice;return s.a.createElement(T.b,{size:"fullPage",onClose:i},t&&s.a.createElement(lt.a,{items:r,text:"赞赏了",isFetching:!1,isDrained:!1,voteupCount:o,onLoad:n,isRewardList:a,notice:c,type:"rewardPeople"}))}}]),t}(),it.propTypes={onLoad:i.a.func,modalShown:i.a.bool},ct),ht=n(202),yt=(n(1736),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var vt,gt,wt=Object(he.a)({module:"UserList",moduleName:"*** 人已赞赏"})((dt=ft=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=bt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={hoverName:""},r.hoverUser=function(e){r.setState({hoverName:e.target.dataset.name})},bt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),yt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.users,r=t.handleListShown,o=t.rewardMemberCount,a=t.onUserClick,i=this.state.hoverName,c=n.slice(0,5);return s.a.createElement("div",{className:"Reward-count"},s.a.createElement("p",{className:"Reward-User-text",onClick:r},Object(ht.formatNumber)(o)+" 人已赞赏"),s.a.createElement("div",null,c.map(function(t,n){return s.a.createElement(f.Link,{key:n,to:"//www.zhihu.com/"+t.userType+"/"+t.urlToken,className:"Reward-User-img","data-hover-title":i,target:"_blank",onClick:a},s.a.createElement("img",{src:t.avatarUrl,className:"Reward-User-avatar","data-name":t.name,"data-index":n,onMouseOver:e.hoverUser,alt:"赞赏用户"}))}),o>6&&s.a.createElement("span",{className:"Reward-MoreUser",onClick:r},s.a.createElement("i",null),s.a.createElement("i",null),s.a.createElement("i",null))))}}]),t}(),ft.propTypes={users:i.a.array,handleListShown:i.a.func,rewardMemberCount:i.a.number,onUserClick:i.a.func},ft.defaultProps={users:[]},pt=dt))||pt,Mt=(n(1737),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Nt,Et,Ot=(gt=vt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),Mt(t,[{key:"render",value:function(){var e=this.props,t=e.rewardMemberCount,n=e.handleListShown,r=e.isAuthor,o=e.users,a=e.onUserClick;return t?s.a.createElement(wt,{users:o,onUserClick:a,handleListShown:n,rewardMemberCount:t}):s.a.createElement("div",{className:"Reward-countZero"},r?"还没有人赞赏。":"还没有人赞赏，快来当第一个赞赏的人吧！")}}]),t}(),vt.propTypes={rewardMemberCount:i.a.number,handleListShown:i.a.func,isAuthor:i.a.bool,users:i.a.array,onUserClick:i.a.func},gt),jt=(n(1738),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Tt,Ct,kt,Dt=(Et=Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),jt(t,[{key:"render",value:function(){var e=this.props,t=e.tagline,n=e.onClick;return s.a.createElement("div",null,s.a.createElement("div",{className:"Reward-tagline"},t||G.i),s.a.createElement("button",{className:"Reward-rewardBtn",onClick:n},"赞赏"))}}]),t}(),Nt.propTypes={onClick:i.a.func,tagline:i.a.string},Et),It=(n(1739),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function At(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var zt=function(){return n.e(2).then(n.bind(null,2834)).then(function(e){return e.TipjarDialog})},St=Object(p.connect)(null,{updateAnswerReward:Z.B,updateArticleReward:ae.l,createArticleTipjar:ae.b,getRewardUserDetails:ae.i,getPagingArticleRewardUser:ae.f,getPagingArticleRewardUserDetails:ae.g,getArticleRewardUser:ae.e,updateEntitiesUsers:ae.m,getRewardUser:ae.h,createTipjar:ae.c,removeTradeNumber:ae.k,onRewardSuccess:ae.j,showNotification:oe.g},null,{withRef:!0})((kt=Ct=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=At(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={TipjarRender:!1,modalShown:!1,rewardModalShown:!1},r.onSubmitReward=function(e){O.a.set("isRewardable",!0),r.updateReward(e),r.unactivateReward()},r.onPaySuccess=function(){var e=r.props,t=e.reward,n=e.currentUser,o=e.id,a=e.type,i=t[a][o].users,c=[n];Array.isArray(i)&&(i.push(n),c=i),r.props.onRewardSuccess(c,o,a),r.colseTijarDialog(),r.props.showNotification("你已赞赏成功！")},r.onLoad=function(e){"article"===r.props.type?"normal"===e?r.onLoadArticleRewardUser():r.onLoadArticleRewardUserDetails():r.onLoadRewardUser()},r.onLoadArticleRewardUser=function(){var e=r.props.id;r.props.getArticleRewardUser(e)},r.onLoadArticleRewardUserDetails=function(){var e=r.props,t=e.id;e.isAuthor?r.props.getPagingArticleRewardUserDetails(t):r.props.getPagingArticleRewardUser(t)},r.onLoadRewardUser=function(){var e=r.props,t=e.id;e.isAuthor?r.props.getRewardUserDetails(r.props.id):r.props.getRewardUser(t).then(function(e){var t=e.payload.data;if(t.length>0){var n={};t.forEach(function(e){n[e.urlToken]=e}),r.props.updateEntitiesUsers(n)}})},r.handleListShown=function(e){var t=r.props.onRewardUserMoreClick;t&&t(e),r.setState({modalShown:!0})},r.handleListHide=function(){r.setState({modalShown:!1})},r.updateReward=function(e){var t=r.props,n=t.type,o=t.id,a=t.rewardInfo.canOpenReward;if("article"===n){var i=!!a||void 0;r.props.updateArticleReward(o,e,i)}else r.props.updateAnswerReward(o,e)},r.activateReward=function(){r.setState({rewardModalShown:!0})},r.unactivateReward=function(){r.setState({rewardModalShown:!1})},r.showRewarders=function(){r.setState({modalShown:!0})},r.addReward=r.context.authRequired(function(e,t){var n=r.props,o=n.id;"article"===n.type?r.props.createArticleTipjar(o,e):r.props.createTipjar(o,e,t)},void 0,oe.b),r.handleRewardButtonClick=function(e){var t=r.props.onRewardButtonClick;t&&t(e),r.setState({TipjarRender:!0})},r.colseTijarDialog=function(){r.setState({TipjarRender:!1})},r.removeTradeNumber=function(){var e=r.props,t=e.id,n=e.type;r.props.removeTradeNumber(t,n)},At(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),It(t,[{key:"componentDidMount",value:function(){var e=this.props.rewardInfo;e&&e.isRewardable&&this.onLoad("normal")}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,r=t.isAuthor,o=t.isMobile,a=t.id,i=t.reward,c=t.author,l=t.type,u=t.ua,p=t.rewardInfo,f=p.canOpenReward,d=p.isRewardable,m=p.tagline,h=p.rewardTotalMoney,y=p.rewardMemberCount,b=t.onRewardUserClick;if(r&&n&&"organization"===n.userType)return null;var v=this.state,g=v.TipjarRender,w=v.modalShown,M=v.rewardModalShown,N=s.a.createElement(et.a,{submitRewardText:function(t){return e.onSubmitReward(t)},onClose:this.unactivateReward,tagline:m,edit:!0});if(r&&f)return s.a.createElement("div",null,s.a.createElement(ot,{activateReward:this.activateReward}),M&&N);if(d){var E=i&&i[l][a]||{},O=E.tradeNumber,T=E.users,C=E.notice,k=s.a.createElement(mt,{modalShown:w,items:T,voteupCount:y,onLoad:this.onLoad,isRewardList:r,notice:C,onClose:this.handleListHide}),D=s.a.createElement(Ot,{rewardMemberCount:y,handleListShown:this.handleListShown,onUserClick:b,users:T,isAuthor:r});if(!r)return s.a.createElement("div",{className:"Reward"},s.a.createElement(Dt,{tagline:m,onClick:this.handleRewardButtonClick}),D,M&&N,k,s.a.createElement(j.a,{getComponent:zt,author:c,tagline:m,isMobile:o,ua:u,addReward:this.addReward,colseTijarDialog:this.colseTijarDialog,tradeNumber:O,removeTradeNumber:this.removeTradeNumber,onPaySuccess:this.onPaySuccess,TipjarRender:g,type:l}));var I=(Number(h)||0)/100;return s.a.createElement("div",{className:"Reward"},s.a.createElement(st,{tagline:m,activateReward:this.activateReward,totalMoney:I,showRewarders:this.showRewarders}),M&&N,k,D)}return null}}]),t}(),Ct.propTypes={reward:i.a.object,isAuthor:i.a.bool,author:i.a.object,id:i.a.number,rewardInfo:i.a.object,currentUser:i.a.object,ua:i.a.object,type:i.a.string,isMobile:i.a.bool,onRewardButtonClick:i.a.func,onRewardUserClick:i.a.func,onRewardUserMoreClick:i.a.func},Ct.contextTypes={authRequired:i.a.func},Ct.defaultProps={rewardInfo:{},type:"answer"},Tt=kt))||Tt,xt=n(1615),_t=n(8),Pt=function(e){return s.a.createElement(_t.a,e,s.a.createElement("path",{d:"M16.387 10.869l-3.188-4.27A1 1 0 1 1 14.8 5.401l4.92 6.59-4.883 7.491a1 1 0 1 1-1.676-1.092l3.6-5.522H7a3 3 0 0 1-3-3V7a1 1 0 1 1 2 0v2.869a1 1 0 0 0 1 1h9.387z"}))};Pt.defaultProps={name:"Jump"};var Lt=Pt;n(1740);var Rt=function(e){var t=e.className,n=e.commercial;if(!(n&&n.tail&&n.tail.url&&n.tail.message))return null;var r=n.tail,o=r.url,a=r.message;return s.a.createElement("a",{className:u()("CommercialQuestionTail",t),href:o},a,s.a.createElement(Lt,{className:"CommercialQuestionTail-Icon",center:!0,text:!0}))},Qt=n(1597),Ut=n(1618);function Bt(e){var t=e.markInfo,n=G.x[t.markType];if(!n)return null;var r=t.roundtable&&"https://www.zhihu.com/roundtable/"+t.roundtable.urlToken;return r?s.a.createElement("a",{href:r},n):s.a.createElement("span",null,n)}var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.contentExpanded,r=t.unescapable,o=e.labelInfo,a=e.hermesLabel;return s.a.createElement(c.Fragment,null,!n&&!r&&s.a.createElement(Qt.b,{labelInfo:o||a}))},qt=n(1715),Ht=(n(1758),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Ft(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}!function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ft(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(e,t){v.default.trackEvent(r.node,{id:4238,action:"OpenUrl",name:t},{link:{url:e}})},Ft(r,n)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,s.a.Component),Ht(t,[{key:"componentDidMount",value:function(){var e=this.props.mediaCard.playInfo,t=e.link,n=e.btnText;v.default.trackCardShow(this.node,{id:4239,name:n},{link:{url:t}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mediaCard,r=t.zaInfo,o=t.className,a=n.title,i=n.playInfo,c=i.link,l=i.btnText,p=n.duration;return s.a.createElement("a",{className:u()("MediaCard",o),href:c,target:"_blank",onClick:function(){return e.handleClick(c,l)},onRef:function(t){return e.node=t},"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[r]}})},s.a.createElement("div",{className:"MediaCard-content"},s.a.createElement("div",{className:"MediaCard-content-title"},a),s.a.createElement(qt.a,{className:"MediaCard-play-icon"})),s.a.createElement("div",{className:"MediaCard-content"},s.a.createElement("div",{className:"MediaCard-content-duration"},p),s.a.createElement("div",{className:"MediaCard-play-text"},l)))}}])}();var Vt,Wt,Gt=n(97),Zt=n(1547),Jt=(n(1759),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Xt="dark",$t="light",en=(Wt=Vt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Kt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(e,t){v.default.trackEvent(r.node,{id:4240,action:"OpenUrl"},{link:{url:e,anchor:t}})},Kt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),Jt(t,[{key:"componentDidMount",value:function(){var e=this.props.goodsCard.body.link;v.default.trackCardShow(this.node,{id:4241},{link:{url:e,anchor:"课程"}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.zaInfo,o=t.goodsCard,a=t.className,i=n===Xt,c=o.header.title,l=o.body,p=l.title,f=l.cover,d=l.coverLabel,m=l.link,h=l.desc,y=l.label;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:u()("GoodsCard",a)},s.a.createElement("h1",{className:"GoodsCard-header"},c),s.a.createElement("a",{href:m,target:"_blank",className:"GoodsCard-content",onClick:function(){return e.handleClick(m,p)},ref:function(t){return e.node=t},"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[r]}})},s.a.createElement("div",{className:"GoodsCard-cover"},s.a.createElement("img",{className:u()("GoodsCard-cover-img",{"GoodsCard-cover-img--dark":i}),src:Object(Gt.imgUrl)(f,{size:"200x0"})}),s.a.createElement("div",{className:"GoodsCard-cover-label"},d)),s.a.createElement("div",{className:"GoodsCard-contnt"},s.a.createElement("div",null,s.a.createElement("h2",{className:"GoodsCard-contnt-title"},p),h&&s.a.createElement("p",{className:"GoodsCard-contnt-desc"},h)),s.a.createElement("p",{className:"GoodsCard-contnt-label"},y)),s.a.createElement("div",{className:"GoodsCard-contnt-ArrowRight"},s.a.createElement(Zt.a,null)))))}}]),t}(),Vt.propTypes={theme:i.a.oneOf([Xt,$t])},Vt.defaultProps={theme:$t},Wt),tn=(n(1760),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function nn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var rn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=nn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(e,t){v.default.trackEvent(r.node,{id:4240,action:"OpenUrl"},{link:{url:e,anchor:t}})},nn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),tn(t,[{key:"componentDidMount",value:function(){var e=this.props.btnInfo,t=e.btnText,n=e.link;v.default.trackCardShow(this.node,{id:4241},{link:{url:n,anchor:t}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.btnInfo,r=t.zaInfo,o=t.className,a=n.btnText,i=n.link;return s.a.createElement("div",{className:u()("PurchaseBtn",o)},s.a.createElement("div",{className:"PurchaseBtn-mask"}),s.a.createElement("a",{className:"PurchaseBtn-HybridLink",href:i,target:"_blank",onClick:function(){return e.handleClick(i,a)},ref:function(t){return e.node=t},"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[r]}})},a," ",s.a.createElement(Zt.a,null)))}}]),t}();n(1761);var on,an,cn,sn,ln,un=function(e){var t=e.introCard,n=e.RichTextComponent,r=e.className,o=t.description,a=t.contentName,i=t.authorDesc;return s.a.createElement("section",{className:u()("IntroCard",r)},s.a.createElement("p",{className:"IntroCard-description"},o),s.a.createElement("p",{className:"IntroCard-contentName",dangerouslySetInnerHTML:{__html:a}}),n?s.a.createElement(n,{className:"IntroCard-authorDesc",html:i}):s.a.createElement("p",{className:"IntroCard-authorDesc",dangerouslySetInnerHTML:{__html:i}}))},pn=n(1706),fn=n(1581),dn=(n(1683),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function yn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function bn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var vn=function(e){return"plain"===e||"special-plain"===e},gn=vn,wn={allowed:"允许规范转载",need_payment:"允许付费转载",disallowed:"禁止转载"},Mn=(on=Object(he.a)(function(e){var t=e.answer,n=e.trackCardShow,r=void 0===n||n,o=e.zaInfos,a=void 0===o?{}:o;return hn({module:"AnswerItem",card:{has_image:Boolean(t.thumbnailExtraInfo&&"image"===t.thumbnailExtraInfo.type),has_video:Boolean(t.thumbnailExtraInfo&&"video"===t.thumbnailExtraInfo.type),content:{type:"Answer",token:t.id&&t.id.toString(),upvote_num:t.voteupCount,comment_num:t.commentCount,publish_timestamp:new Date(t.createTime).getTime(),parent_token:t.question&&t.question.id.toString(),author_member_hash_id:t.author&&t.author.id,video_id:t.thumbnailExtraInfo&&t.thumbnailExtraInfo.videoId}},content:{type:"Answer",token:t.id}},a.index&&{index:a.index},a.cardShow&&{view:{id:a.cardShow}},{trackCardShow:r})}),an=Object(p.connect)(function(e,t){var n=e.entities,r=n.drafts,o=void 0===r?{}:r,a=n.questions,i=n.answers,c=e.question.draftStatus,s=e.reward,l=e.switches,u=e.video.shareVideoDetail,p=t.answer,f=t.relatedTo,d=i[p.id]?hn({},i[p.id]):p;a[d.question.id]&&(d.question=hn({},p.question,a[d.question.id]));var m=Object(se.c)(e),h=["question","answer"].includes(f),y=Object(ie.e)(e)&&h,b=Object(ie.d)(e);return{draft:p&&o["question_"+p.question.id],draftStatus:c[p.question.id],answer:d,ua:Object(ie.k)(e),reward:s,switches:l,isHuman:y,edition:b,referer:Object(ie.g)(e),shouldOia:Object(ie.h)(e)&&h,shouldSpecialOia:Object(ie.i)(e),canOia:Object(ie.b)(e),isWechat:e.env.userAgent.Wechat,concernedUpvoters:Object(Z.d)(e,{id:p.id}),currentUser:m,shareVideoDetail:u,isBrandAnswer:Object(Z.i)(p),paidContent:Object(Z.u)(e,p.id),permission:Object(J.H)(e),isOpposeReasonOpen:Object(le.b)(e)}},{updateAnswerVote:Z.F,updateAnswerUnhelpful:Z.E,updateAnswerReshipmentSettings:Z.A,updateAnswerCommentPermission:Z.z,updateAnswerCollapsed:Z.y,updateAnswerStick:Z.C,deleteAnswer:Z.f,restoreAnswer:Z.v,updateAnswer:Z.x,loadAnswerForSettings:Z.q,showNotification:oe.g,addAnnotation:function(e,t,n,r){return{API:{types:ne.ADD_ANNOTATION,endpoint:"v3/collaboration/annotation",method:"POST",body:Object(X.getFormData)(Object(K.decamelizeKeys)({objectType:e,urlToken:t,reason:n,detail:r}))},UPDATE:{success:function(n){var r=re(e);return r?te({},r,te({},t,n)):null}}}},cancelAnnotation:function(e,t,n,r){return{API:{types:ne.CANCEL_ANNOTATION,endpoint:"v3/collaboration/annotation_cancel",method:"POST",body:Object(X.getFormData)(Object(K.decamelizeKeys)({objectType:e,urlToken:t,reason:n,detail:r}))},UPDATE:{success:function(n){var r=re(e);return r?te({},r,te({},t,ee({},n,{annotationDetail:null}))):null}}}},addRewardTagline:ae.a,updateAnswerReward:Z.B,getVoteDownReason:Z.h,selectVoteDownReason:Z.w,loadAnswerConcernedVoters:Z.n,loadCurrentUser:se.j,loadVideoDetails:ce.d,loadMarketAnswerPaidContent:Z.s,updateOpposeReasonPreSetting:le.f,readContentRightsNotification:ue.N,postToolsRecommend:ue.M}),on(cn=Object(f.withRouter)(cn=an(cn=Object(Qt.d)((ln=sn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=bn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={commentsShown:!1,commentsAutoFocus:!0,reportModalShown:!1,deleteModalShown:!1,collapseModalShown:!1,favlistsShown:!1,editing:!1,commentPattern:"fixed",addAnnotationModalShown:!1,cancelAnnotationModalShown:!1,guideShown:!1,shareVideoQuery:r.getShareVideoId(),shouldShowVideoDetails:!1,contentExpanded:r.props.expanded,hasFetchedLabels:!1},r.rewardContainerRef=s.a.createRef(),r.onCloseReward=function(){var e=r.props.answer.id;O.a.set("isRewardable",!1),r.props.updateAnswerReward(e,"")},r.openModal=function(e,t){r.setState(hn({},t))},r.openDeleteModal=function(){setTimeout(function(){r.setState({deleteModalShown:!0})})},r.closeModal=function(){r.setState({commentsShown:!1});var e=r.props.onCloseComment;"function"==typeof e&&e()},r.closeDeleteModal=function(){r.setState({deleteModalShown:!1})},r.disableAuth=function(){var e=r.props,t=(e.edition,e.router),n=(t=void 0===t?{}:t).location;(n=void 0===n?{}:n).pathname;return!1}(),r.loadAnswerConcernedVoters=function(){var e=r.props,t=e.concernedUpvoters,n=e.answer,o=e.loadAnswerConcernedVoters;!t&&r.context.currentUser&&o(n.id)},r.handleExpand=function(e){var t=r.props.onToggleExpand;e&&r.loadAnswerConcernedVoters(),t&&t(e),r.setState({contentExpanded:e})},r.handleVote=r.context.authRequired(function(e){var t=r.props,n=t.answer.id;(0,t.updateAnswerVote)(n,e)},G.N.vote),r.handleUpdateUnhelpful=r.context.authRequired(function(){var e=r.props,t=e.answer,n=t.id,o=t.relationship.isNothelp,a=e.updateAnswerUnhelpful,i=!o;v.default.trackEvent(r.contentItem,{action:i?"NoHelp":"UnNoHelp",element:"Button"}),a(n,i)},G.N.unhelpful),r.handleReshipmentSettings=function(e){var t=r.props,n=t.answer.id,o=t.updateAnswerReshipmentSettings,a=t.loadCurrentUser,i=t.currentUser;"need_payment"===e?(void 0===i.caEnabled?a("ca_enabled"):Promise.resolve()).then(function(){r.props.currentUser.caEnabled?o(n,e):window.open("/copyright/invite")}):o(n,e)},r.handleLoadAnswerForSettings=function(){var e=r.props,t=e.answer.id;(0,e.loadAnswerForSettings)(t)},r.handleDeleteAnswer=function(){var e=r.props,t=e.answer.id;(0,e.deleteAnswer)(t)},r.handlePositionStatusChange=function(e){r.setState({positionStatus:e})},r.handleCollapseModalShow=function(){r.setState({collapseModalShown:!0})},r.handleCollapseModalHide=function(){r.setState({collapseModalShown:!1})},r.handleUpdateAnswerCollapsed=function(){var e=r.props,t=e.answer,n=t.id,o=t.collapsedBy,a=e.updateAnswerCollapsed,i=e.showNotification;return"community"===o?i("该回答因违反社区规范已被管理员折叠，暂无法公开","red"):a(n)},r.handleUpdateAnswerStick=function(){var e=r.props,t=e.answer.id;return(0,e.updateAnswerStick)(t)},r.handleRestoreAnswer=function(){var e=r.props,t=e.answer,n=t.id,o=t.question;(0,e.restoreAnswer)(o.id,n)},r.handleStartEditAnswer=function(){var e=r.props,t=e.draftStatus,n=e.hasPublishingDraft;t&&t.loading?N.a.alert("草稿正在加载中……"):n?N.a.alert("你有一份对该回答的修改正在发布中，请等待发布完成后再次修改。"):r.setState({editing:!0},function(){r.answerForm.getWrappedInstance().focus()})},r.handleCancelEditAnswer=function(){r.setState({editing:!1});var e=r.props,t=e.onCloseEditing,n=e.onCloseComment;"function"==typeof n&&n(),"function"==typeof t&&t()},r.handleSubmitAnswer=function(e){var t=r.props,n=t.answer.id,o=t.updateAnswer;return r.handleCancelEditAnswer(),o(n,e).then(function(e){return v.default.trackEvent(r.contentItem,{action:"StatusReport"},{status:{result:"Success",event:{action:"Edit"}}}),e})},r.handleReportOpen=function(){var e=r.props.zaInfos.report;v.default.trackEvent(r.contentItem,hn({action:"Report",element:"Button",is_intent:!0},e&&{id:e})),r.context.authRequired(function(){return r.setState({reportModalShown:!0})},G.N.report)()},r.handleReportHide=function(){r.setState({reportModalShown:!1})},r.handleLoadVoteDownReason=function(){var e=r.props,t=e.answer,n=t.id,o=t.question.id;(0,e.getVoteDownReason)(n,o)},r.handleSelectVoteDownReason=function(e){var t=r.props,n=t.answer.id,o=t.selectVoteDownReason,a=t.showNotification;o(n,e.reasonId).then(function(e){a(e.payload.message)})},r.handleSetShowVoteDownReason=function(e){(0,r.props.updateOpposeReasonPreSetting)(e)},r.handleFavlistsShown=function(e){var t=r.props,n=t.shouldOia,o=t.zaInfos.favlists;v.default.trackEvent(r.favButtonRef,hn({action:"Collect",element:"Button",is_intent:!0},o&&{id:o})),n?r.createOpenInAppHandler("collect_answer")(e):r.disableAuth?r.handleToggleGuide():r.context.authRequired(function(){return r.setState({favlistsShown:!0})},G.N.favlists)()},r.handleFavlistHide=function(){r.setState({favlistsShown:!1})},r.handleLogMoreClick=function(){var e=r.props.zaInfos.options;v.default.trackEvent(r.contentItem,hn({action:"Click",element_name:"MoreAction"},e&&{id:e}))},r.handleShowAddAnnotationModal=function(){return r.setState({addAnnotationModalShown:!0})},r.handleCloseAddAnnotationModal=function(){return r.setState({addAnnotationModalShown:!1})},r.handleShowCancelAnnotationModal=function(){return r.setState({cancelAnnotationModalShown:!0})},r.handleCloseCancelAnnotationModal=function(){return r.setState({cancelAnnotationModalShown:!1})},r.handleToggleGuide=function(){r.setState({guideShown:!r.state.guideShown})},r.handleClickVideoMoreButton=function(){r.setState({shouldShowVideoDetails:!1})},r.startEditing=function(){var e=r.props,t=e.answer.relationship,n=(t=void 0===t?{}:t).isAuthor,o=e.editable;r.context.currentUser&&n&&o&&r.handleStartEditAnswer()},r.addRewardTagline=function(e){var t=r.props.answer.id;Object(ae.a)(e,t)},r.createOpenInAppHandler=function(e){var t=r.props,n=t.answer,o=n.type,a=n.id,i=t.edition,c=t.location.query,s=t.referer;return function(t){t.preventDefault(),Object(W.b)(t,{href:Object(fe.a)({type:o,id:a},{utm_content:e,edition:i,query:c,referer:s})})}},r.renderLabels=function(){var e=r.props,t=e.useNewLabels,n=e.answer,o=e.canCollapse,a=e.relatedTo,i=r.state.contentExpanded,c=Ee({answer:n,canCollapse:o}),l=je({answer:n}),u=Oe({answer:n,canCollapse:o}),p=Te({answer:n});if(t){if(c)return{labels:[c],editingLabels:[]};var f=[s.a.createElement(Qt.a,{key:"labels",item:n,commercialLabels:u,neutralLabels:l})];return i||a?{labels:f,editingLabels:f}:{labels:[],editingLabels:f}}var d=[l,u,p];return{labels:[c].concat(d),editingLabels:d}},r.renderPrefix=function(){var e=r.props,t=e.answer,n=e.relatedTo,o={contentExpanded:r.state.contentExpanded,unescapable:Boolean(n)};return Yt(t,o)},bn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["PureComponent"]),mn(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.expanded,r=t.byComment,o=t.editing,a=t.loadVideoDetails,i=t.answer.id,c=t.loadMarketAnswerPaidContent,s=this.state.shareVideoQuery;s&&a(s).then(function(){e.setState({shouldShowVideoDetails:!0})}),n&&this.loadAnswerConcernedVoters(),r&&setTimeout(function(){return e.setState({commentsShown:Boolean(r)})}),o&&this.startEditing(),this.isPaidAnswer&&c(i)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.answer,r=n.reshipmentSettings,o=n.commentPermission,a=e.answer,i=a.reshipmentSettings,c=a.commentPermission,s=e.editing;!r&&i&&!o&&c&&setTimeout(function(){return t.settingsTogglerEl.click()}),s&&!this.props.editing&&this.startEditing()}},{key:"getShareVideoId",value:function(){this.props.location;return null}},{key:"renderReshipmentSettings",value:function(e){var t=this;return Object.keys(wn).map(function(n){var r=Object(de.a)(n,e);return s.a.createElement(M.b,{key:n,onClick:function(){return t.handleReshipmentSettings(n)},className:Object(de.b)(n,e)},r&&s.a.createElement(w.a,{className:"Button-icon",name:r}),wn[n])})}},{key:"renderAnswerExtraInfo",value:function(){var e=this.props,t=e.answer,n=t.id,r=t.type,o=t.voteupCount,a=t.markInfos,i=t.isNormal,l=void 0===i||i,u=e.actor,p=e.action,f=(e.isHuman,e.concernedUpvoters),m=e.useNewLabels,h=a&&a.length>0&&!m;if(!h&&!o)return null;var y=u&&u.urlToken,b=h&&a.filter(function(e){return G.x[e.markType]}).map(function(e,t){return s.a.createElement(c.Fragment,{key:t},0!==t&&"、",s.a.createElement(Bt,{markInfo:e}))});return l&&s.a.createElement("div",{className:"AnswerItem-extraInfo",key:"answerExtraInfo"},h&&b.length&&s.a.createElement(d.CJKSpace,null,"收录于",b),h&&Boolean(o)&&" · ",s.a.createElement(Ve.a,{id:n,type:r,voteupCount:o,upvotedFollowees:(f||[]).filter(function(e){return y!==e.urlToken}),too:"voted"===p}))}},{key:"renderSettings",value:function(){var e=this,t=this.context.currentUser,n=this.props,r=n.answer,o=r.collapsedBy,a=r.relationship,i=(a=void 0===a?{}:a).isAuthor,c=r.reshipmentSettings,l=r.commentPermission,u=r.question.questionType,p=r.rewardInfo,f=(p=void 0===p?{}:p).isRewardable,d=void 0!==f&&f,h=r.relevantInfo,y=n.answer,b=n.canCollapse;return t&&i?c&&l?s.a.createElement(M.c,{key:"settings",toggler:s.a.createElement(g.c,{preset:"plain",onRef:function(t){e.settingsTogglerEl=t},icon:m.a,label:"设置"}),reversed:!0,menuClassName:"AnswerItem-selfMenu",itemClassName:"AnswerItem-selectMenuItem"},this.renderReshipmentSettings(c),s.a.createElement(M.a,null),s.a.createElement(me.c,{target:y,onChange:this.props.updateAnswerCommentPermission,current:y.commentPermission}),s.a.createElement(M.a,null),d&&s.a.createElement(M.b,{onClick:this.onCloseReward},"关闭赞赏"),s.a.createElement(M.b,{onClick:this.openDeleteModal},"删除"),"commercial"===u&&b&&"nobody"===o&&(!h||"brand_special"!==h.relevantType)&&[s.a.createElement(M.a,{key:"MenuDivider"}),s.a.createElement(M.b,{key:"MenuItem",onClick:this.handleUpdateAnswerCollapsed},"隐藏")]):s.a.createElement(g.c,{key:"settings",preset:"plain",onClick:this.handleLoadAnswerForSettings,icon:m.a,label:"设置"}):null}},{key:"renderReshipment",value:function(e,t){var n=this;return"need_payment"===t?s.a.createElement(M.b,{onClick:function(){v.default.trackEvent(n.contentItem,{action:"Authorize",element:"Button",is_intent:!0})},tag:"a",href:"/copyright/apply?answer="+e,target:"_blank"},"申请授权"):"disallowed"===t?s.a.createElement(M.b,{tag:"a",target:"_blank",href:"/terms#sec-licence-6"},"禁止转载"):null}},{key:"renderOptions",value:function(){var e=this;if(!this.context.currentUser)return null;var t=this.props,n=t.answer,r=t.canCollapse,o=t.renderExtraOptions,a=t.permission.canBrandAdminEdit,i=n.id,c=n.reshipmentSettings,l=n.relationship,u=(l=void 0===l?{}:l).isAuthor,p=l.isNothelp,f=n.collapsedBy,d=n.question.questionType,m=n.annotationAction,y=void 0===m?[]:m,b=n.annotationDetail,v={toggler:s.a.createElement(g.c,{preset:"plain",className:"OptionsButton",icon:h.a,"aria-label":"更多"}),reversed:!0,onOpen:this.handleLogMoreClick,menuClassName:"AnswerItem-selfMenu",itemClassName:"AnswerItem-selfMenuItem"},w="commercial"===d,N="nobody"!==f;return u?null:s.a.createElement(M.c,hn({},v,{key:"options"}),!1,r&&!w&&s.a.createElement(M.b,{onClick:N?this.handleUpdateAnswerCollapsed:this.handleCollapseModalShow},N?"取消隐藏":"隐藏"),a&&w&&!N&&s.a.createElement(M.b,{onClick:this.handleUpdateAnswerCollapsed},"隐藏"),y&&y.some(function(e){return G.a.add===e})&&!b&&s.a.createElement(M.b,{onClick:this.handleShowAddAnnotationModal},"标记内容"),y&&y.some(function(e){return G.a.cancel===e})&&b&&s.a.createElement(M.b,{onClick:this.handleShowCancelAnnotationModal},"撤销标记"),s.a.createElement(M.b,{onClick:this.handleUpdateUnhelpful},p?"撤销没有帮助":"没有帮助"),s.a.createElement(M.b,{onClick:this.handleReportOpen},"举报"),this.renderReshipment(i,c),o&&o({itemClassName:"AnswerItem-selfMenuItem",getContainer:function(){return e.contentItem}}))}},{key:"renderMeta",value:function(){var e=function(e){var t=e.thumbnail,n=e.voteupCount,r=e.question.id,o=e.id,a=e.createdTime,i=e.updatedTime,c=e.commentCount;return{image:t,upvoteCount:n,url:"https://www.zhihu.com/question/"+r+"/answer/"+o,dateCreated:new Date(1e3*a).toISOString(),dateModified:new Date(1e3*i).toISOString(),commentCount:c}}(this.props.answer);return Object.keys(e).map(function(t){return s.a.createElement("meta",{key:t,itemProp:t,content:e[t]})})}},{key:"renderBrandQuestionPrizeTip",value:function(){var e=this.props.answer,t=e.id,n=e.question.prize,r=(n=void 0===n?{}:n).winnersAnswerTokens,o=n.prizes;if(!n.status)return null;var a=["一","二","三"],i=null;return o&&r&&r.forEach(function(e,n){e.includes(t)&&null===i&&(i=o&&o[1]&&o[1].name?"得"+a[n]+"等奖":"奖")}),i&&s.a.createElement("div",{className:"AnswerItem-brandQuestionPrizeTip"},"该回答在有奖问答中获",i)}},{key:"renderBrandEntityTrack",value:function(){var e=this.state.contentExpanded,t=this.props,n=t.answer,r=t.expanded,o=t.isBrandAnswer,a=n.question;return(r||e)&&(a&&"commercial"===a.questionType||o)?s.a.createElement(Ye.a,{type:n.type,id:n.id}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.answer,r=t.reward,o=t.answer,a=o.id,i=o.isNormal,c=void 0===i||i,l=o.isDelete,p=o.question,d=o.rewardInfo,m=o.question,h=m.title,v=m.id,M=m.questionType,E=m.isMuted,O=m.voteDownReason,j=m.commercial,T=o.author,C=o.excerpt,k=o.content,D=o.editableContent,I=o.voteupCount,A=o.commentCount,z=o.adminClosedComment,S=o.relationship,x=(S=void 0===S?{}:S).voting,_=S.isAuthor,P=S.isRecognized,L=o.collapsedBy,R=o.isSticky,U=o.createdTime,B=o.updatedTime,Y=o.thumbnail,q=o.thumbnailExtraInfo,H=o.reviewInfo,F=(H=void 0===H?{}:H).isReviewing,W=H.editType,Z=o.relevantInfo,J=(Z=void 0===Z?{}:Z).relevantType,K=o.annotationDetail,X=o.paidInfo,$=void 0===X?{}:X,ee=o.creatorRightsNotification,te=t.relatedTo,ne=t.editable,re=t.byComment,oe=t.draft,ae=t.expanded,ie=t.lastreadTouchable,ce=t.preset,se=t.canCollapse,le=t.canStick,ue=t.itemProp,fe=void 0===ue?"answer":ue,de=t.addAnnotation,me=t.cancelAnnotation,he=t.showNotification,ye=t.dataZaIndex,ve=t.blockReading,ge=(t.edition,t.isWechat,t.lessExcerpt),we=(t.isHuman,t.ua),Me=t.shouldSpecialOia,Ne=t.shareVideoDetail,Ee=t.shouldOia,Oe=t.formatContent,je=t.zaInfos,Te=je.expand,Ce=je.title,ke=je.voteUp,De=je.thank,Ie=je.voteDown,Ae=je.toggleComment,ze=je.share,Se=je.getCommentAction,xe=t.handleToggleSticky,_e=t.renderActionButtons,Pe=t.paidContent,Le=void 0===Pe?{}:Pe,Re=t.permission.canBrandAdminEdit,Qe=t.isOpposeReasonOpen,Ye=t.readContentRightsNotification,Ve="function"==typeof xe,et=this.context.currentUser,tt="/question/"+v+"/answer/"+a,nt=this.state,rt=nt.reportModalShown,ot=nt.deleteModalShown,at=nt.collapseModalShown,it=nt.favlistsShown,ct=nt.editing,st=nt.commentsShown,lt=nt.commentsAutoFocus,ut=nt.commentPattern,pt=nt.addAnnotationModalShown,ft=nt.cancelAnnotationModalShown,dt=nt.positionStatus,mt=nt.shareVideoQuery,ht=nt.shouldShowVideoDetails,yt=nt.contentExpanded,bt=mt&&ht?{title:Ne.title,thumbnail:Ne.coverUrl,isLens:!0,id:mt,isPlayable:!0,url:"https://www.zhihu.com/video/"+mt}:null;if(l)return s.a.createElement("div",{className:"AnswerItem-deleted"},"你已经删除了该问题的回答，如果需要修改，请先  ",s.a.createElement("a",{onClick:this.handleRestoreAnswer},"撤销删除"));var vt=!(F&&"create"===W),gt="commercial"===M,wt="nobody"!==L,Mt=$.content,Nt=$.hasPurchased,Et=$.type,Ot=!function(e){return"special-plain"===e}(ce)&&s.a.createElement(Ke.a,{className:u()("AnswerItem-authorInfo",{"AnswerItem-authorInfo--related":te}),key:"authorInfo",preset:gn(ce)?"plain":"default",author:T,relatedTo:te}),jt=this.renderAnswerExtraInfo(),Tt=this.renderLabels(),Ct=Tt.labels,kt=Tt.editingLabels,Dt=Le.introCard,It=Le.goodsCard,At=Le.btnInfo,zt=Le.zaInfo;if(ct)return s.a.createElement("div",null,Ot,kt,jt,s.a.createElement(Je.a,{className:"AnswerItem-form",bordered:!0,isEdit:!0,ref:function(t){e.answerForm=t},question:p,defaultValue:D,onDeleteDraft:this.handleCancelEditAnswer,onCancel:this.handleCancelEditAnswer,onSubmit:this.handleSubmitAnswer,isRewardable:d.isRewardable,addRewardTagline:this.addRewardTagline}));var _t=vn(ce)?[[Ot].concat(yn(Ct)),jt]:[[Ot].concat(yn(Ct),[jt]),null],Pt=dn(_t,2),Lt=Pt[0],Qt=Pt[1],Bt=Me&&!("mainEntityOfPage"===fe||"acceptedAnswer"===fe),Yt=Et===G.D.EBOOK,qt=this.isPaidAnswer&&Boolean(It)&&Yt,Ht=this.isPaidAnswer&&!Nt&&Boolean(At)&&Yt,Ft=this.isPaidAnswer&&Boolean(Dt),Vt=this.isPaidAnswer&&Yt?Mt:k,Wt=!bt&&s.a.createElement($e.a,hn({created:U,updated:B,href:tt},Ee&&{onClick:this.createOpenInAppHandler("click_answer")}));return s.a.createElement(He.e,{onRef:function(t){return e.contentItem=t},className:"AnswerItem","data-za-index":ye,"data-zop":JSON.stringify({authorName:T.name,itemId:a,title:h,type:"answer"}),data:n,link:tt,meta:Lt,title:!te&&s.a.createElement("div",{itemProp:"zhihu:question",itemType:"http://schema.org/Question",itemScope:!0},s.a.createElement("meta",{itemProp:"url",content:"https://www.zhihu.com/question/"+v}),s.a.createElement("meta",{itemProp:"name",content:h}),Ve&&this.props.isSticky&&s.a.createElement(Ut.a,null),s.a.createElement(f.Link,hn({to:tt,target:"_blank","data-za-detail-view-element_name":"Title"},Ce&&{"data-za-detail-view-id":Ce}),h)),lastreadTouchable:ie,name:a,itemProp:fe,itemType:"http://schema.org/Answer",itemScope:!0},Ft&&s.a.createElement(un,{className:"AnswerItem-IntroCard",introCard:Dt,RichTextComponent:fn.a}),this.renderMeta(),gt&&this.renderBrandQuestionPrizeTip(),this.renderBrandEntityTrack(),c||_?s.a.createElement($e.b,hn({onToggleExpend:this.handleExpand},Bt&&{expandText:"App 内查看"},!1,{cover:Y,hasVideo:Boolean(q&&"video"===q.type),videoData:bt,handleClickVideoMoreButton:this.handleClickVideoMoreButton,unescapable:Boolean(te),expanded:ae,onPositionStatusChange:this.handlePositionStatusChange,before:Qt,excerpt:Oe?Oe(C,n):C,html:Oe?Oe(Vt||C,n):Vt||C,prefix:this.renderPrefix(),after:s.a.createElement("div",null,Ht&&s.a.createElement(rn,{btnInfo:At,zaInfo:zt}),qt&&s.a.createElement(en,{className:"AnswerItem-GoodsCard",goodsCard:It,zaInfo:zt}),s.a.createElement(Rt,{className:"AnswerItem-CommercialQuestionTail",commercial:j}),Wt,et&&_&&ne&&s.a.createElement("a",{className:"AnswerItem-editButton",onClick:this.handleStartEditAnswer},s.a.createElement(w.a,{left:!0,name:"modify"}),s.a.createElement("span",{className:"AnswerItem-editButtonText"},"修改",oe&&oe.editableContent&&"（有未发布的编辑草稿）")),et&&s.a.createElement(St,{ref:this.rewardContainerRef,reward:r,currentUser:et,rewardInfo:d,isAuthor:_,id:a,author:T,ua:we})),data:n,onClick:Bt?this.createOpenInAppHandler("expand_answer"):this.disableAuth&&ve&&this.handleToggleGuide},ge?{limit:74}:{},{zaIds:{expand:Te}}),vt&&Re&&gt&&wt&&s.a.createElement(g.c,{className:u()("ContentItem-rightButton AnswerItem-mainAction AnswerItem-open",{"AnswerItem-mainAction--disabled":"community"===L}),onClick:this.handleUpdateAnswerCollapsed},"公开回答"),vt&&le&&!wt&&"brand_special"!==J&&s.a.createElement(g.c,{className:"ContentItem-rightButton AnswerItem-mainAction AnswerItem-brandQuestionButton",onClick:this.handleUpdateAnswerStick},R?"取消精选":"设为精选"),_e({componentList:[{name:"vote",component:vt&&s.a.createElement(Xe.a,hn({key:"vote",disabled:gt&&E,count:I},Ee&&{onClick:this.createOpenInAppHandler("vote_answer")},{onVote:this.handleVote,disableAuth:this.disableAuth,voting:x,isOwner:_,isRecognized:P,handleToggleGuide:this.handleToggleGuide,isShowVoteDownMenu:et&&Qe,positionStatus:dt,voteDownReason:O,onLoadVoteDownReason:this.handleLoadVoteDownReason,onSelectVoteDownReason:this.handleSelectVoteDownReason,onSetVoteDownReason:this.handleSetShowVoteDownReason,zaIds:{voteUp:ke,voteDown:Ie}}))},{name:"comment",component:vt&&s.a.createElement(We.a,hn({onInstance:function(t){return e.commentButton=t},key:"comment",onClick:this.openModal},!1,{commentsShown:st,commentClosed:z,count:A,positionStatus:dt,zaInfos:{toggleComment:Ae,getCommentAction:Se}}))},{name:"share",component:vt&&s.a.createElement(Fe.a,{key:"share",id:a,type:"answer",title:h,authorName:T&&T.name,href:tt,positionStatus:dt,zaShareId:ze})},{name:"favlist",component:vt&&(!et||!et.isOrg)&&s.a.createElement(Be.a,{key:"favlist",onRef:function(t){return e.favButtonRef=t},onClick:this.handleFavlistsShown,label:"收藏"})},{name:"thank",component:vt&&!_&&s.a.createElement(pn.a,{key:"thank",zaInfo:De,answer:n})},{name:"sticky",component:Ve&&_&&Object(pe.a)(et)&&s.a.createElement(g.c,{key:"sticky",preset:"plain",onClick:xe,icon:this.props.isSticky?y.a:b.a,label:this.props.isSticky?"取消置顶":"置顶"})},{name:"options",component:vt&&this.renderOptions()},{name:"settings",component:this.renderSettings()},{name:"annotation",component:!yt&&s.a.createElement(qe.a,{key:"annotation",annotationDetail:K})}]})):Wt,s.a.createElement(Ge.a,{shown:st,parent:n,byComment:re,commentPattern:ut,autoFocus:lt,onClose:this.closeModal}),s.a.createElement(Ze.a,{type:"answer",urlToken:a,shown:rt,onClose:this.handleReportHide,zaEnabled:!0}),s.a.createElement(Q,{addAnnotation:de,onClose:this.handleCloseAddAnnotationModal,shown:pt,type:G.b,urlToken:a,showNotification:he}),s.a.createElement(V,{cancelAnnotation:me,onClose:this.handleCloseCancelAnnotationModal,shown:ft,type:G.b,urlToken:a,showNotification:he}),et&&_&&s.a.createElement(xt.a,{title:"你确定要删除自己的答案吗？",subtitle:"答案内容不会被永久删除，你还可以撤消本次删除操作。",shown:ot,onCancel:this.closeDeleteModal,onSubmit:this.handleDeleteAnswer}),se&&s.a.createElement(xt.a,{title:"隐藏答案",subtitle:"隐藏后该回答将不展示也不流通，是否确定隐藏？",shown:at,onCancel:this.handleCollapseModalHide,onSubmit:this.handleUpdateAnswerCollapsed}),s.a.createElement(be.a,{id:a,type:"answer",shown:it,onClose:this.handleFavlistHide,zaEnabled:!0}),!1,s.a.createElement(Ue,{notification:ee,onRead:function(e){Ye("answer",a,e)},onUseAdmire:function(){e.rewardContainerRef.current.getWrappedInstance().activateReward()},onUseRecommend:function(){var t=e.props.postToolsRecommend;N.a.confirm(s.a.createElement("div",{style:{textAlign:"center"}},"该推荐将使用本月的 1 次推荐次数。"),{title:"确定是否推荐？"}).then(function(){return t("answer",a)},function(){})}}))}},{key:"isPaidAnswer",get:function(){return"paid"===this.props.answer.answerType}}]),t}(),sn.contextTypes=hn({currentUser:i.a.object,authRequired:i.a.func},!1),sn.propTypes={relatedTo:i.a.oneOf(["question","answer"]),editable:i.a.bool,preset:i.a.oneOf(["special-plain","plain","primary"]),lessExcerpt:i.a.bool,shareVideoDetail:i.a.object,formatContent:i.a.func,renderExtraOptions:i.a.func,zaInfos:ye.a,onToggleExpand:i.a.func,useNewLabels:i.a.bool.isRequired,renderActionButtons:i.a.func},sn.defaultProps={editable:!1,preset:"primary",zaInfos:{},renderActionButtons:pn.b},cn=ln))||cn)||cn)||cn)||cn);n.d(t,"a",function(){return Mn})},1635:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(2),u=n.n(l),p=n(4),f=n(1820),d=n(1821),m=n(9),h=n(202),y=n(32),b=n(168),v=n(24),g=n(70),w=(n(1682),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={step:0},r.containerRef=s.a.createRef(),r.reasonButtonRefs=[],r.toggleStep=function(){r.setState({step:0===r.state.step?1:0},function(){r.popover.position()})},r.handleKeyDown=function(e){var t=Number(e.key);t&&r.reasonButtonRefs[t-1]&&r.reasonButtonRefs[t-1].focus()},r.handleNeverShowVoteDownReason=function(){r.props.onSetVoteDownReason(!1),r.popover.close()},r.handleSelectReason=function(e){r.props.onSelectVoteDownReason(e),r.popover.close()},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),w(t,[{key:"componentDidUpdate",value:function(){"absolute"===this.props.positionStatus&&this.popover.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.reasonList,r=t.positionStatus,o=this.state.step,a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).sort(function(e,t){return e.sort-t.sort});return s.a.createElement(g.a,{className:"VoteDownReasonMenu",targetClassName:"VoteDownReasonMenu-target",positionStatus:r,toggler:this.props.toggler,onOpen:function(){e.setState({step:0})},getContainer:function(){return document.querySelector(".ContentItem-actions")},onClick:this.props.onTogglerClick,ref:function(t){e.popover=t,e.props.popoverRef&&e.props.popoverRef(t)},placement:"top",arrowed:!0,preventCloseOnTarget:!0},s.a.createElement("div",{className:"VoteDownReasonMenu-container",onKeyDown:this.handleKeyDown,tabIndex:-1},s.a.createElement("div",{className:"VoteDownReasonMenu-header"},0===o&&"已反对，你觉得",1===o&&"不再显示该反馈功能？"),s.a.createElement("div",{className:"VoteDownReasonMenu-action"},0===o&&s.a.createElement(p.c,{preset:"plain",className:"VoteDownReasonMenu-ignoreButton preventCloseOnTarget",onClick:this.toggleStep},"不再显示"),0===o&&s.a.createElement("div",{className:"VoteDownReasonMenu-spliter"}),s.a.createElement(p.c,{preset:"plain",className:"VoteDownReasonMenu-closeButton",onClick:function(){e.popover.close()},"aria-label":"关闭",tabIndex:1},s.a.createElement(v.a,{className:"VoteDownReasonMenu-closeIcon",name:"remove",width:12,height:12,fill:"#a5b6cf"}))),0===o&&s.a.createElement("div",{className:"VoteDownReasonMenu-reasonList"},a.map(function(t,n){return s.a.createElement(p.c,{preset:"plain",className:"VoteDownReasonMenu-reason",key:t.reasonId,onClick:function(){e.handleSelectReason(t)},onRef:function(t){return e.reasonButtonRefs[n]=t}},t.name)})),1===o&&s.a.createElement("div",{className:"VoteDownReasonMenu-disableReason"},s.a.createElement("div",{className:"VoteDownReasonMenu-disableReasonHint"},"你可以在「设置」页面中的「屏蔽」开启。"),s.a.createElement("div",{className:"VoteDownReasonMenu-disableReasonButtonList"},s.a.createElement(p.c,{className:"preventCloseOnTarget",onClick:this.toggleStep},"返回"),s.a.createElement(p.c,{color:"blue",onClick:this.handleNeverShowVoteDownReason},"不再显示")))))}}]),t}(),r.defaultProps={reasonList:[]},o),E=n(10);n(1636);n.d(t,"a",function(){return I});var O,j,T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=(j=O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={recognizeInfo:{showRecognizeModal:!1,action:"",voteType:"",isRecognized:r.props.isRecognized}},r.voteUpButtonRef=s.a.createRef(),r.voteDownButtonRef=s.a.createRef(),r.shouldShowMenu=function(){var e=r.props,t=e.voting,n=e.voteDownReason,o=e.onLoadVoteDownReason;return!!e.isShowVoteDownMenu&&(-1===t?(r.popover.close(),!1):!!n||(r.isPendingForVoteDownReason=!0,o(),!1))},r.onVote=r.context.authRequired(function(e){r.props.onVote(e)},E.N.vote),r.voteUp=function(e){var t=r.props.voting,n=C(1===t?["UnUpvote","neutral"]:["Upvote","up"],2),o=n[0],a=n[1];r.vote(e,o,a),r.voteUpButtonRef.current.focus()},r._voteDown=function(e){var t=r.props.voting,n=C(-1===t?["UnDownvote","neutral"]:["Downvote","down"],2),o=n[0],a=n[1];r.vote(e,o,a),r.voteDownButtonRef.current.focus()},r.voteDown=function(e){r.shouldShowMenu()&&r.popover.open(),r._voteDown(e)},r.vote=function(e,t,n){var o=r.props,a=o.disableAuth,i=o.handleToggleGuide,c=o.onClick,s=o.type,l=o.zaIds,u=l.voteUp,p=l.voteDown,f=t.includes("Upvote")?u:p;"article"===s&&"down"===n&&m.default.trackEvent(r.voteDownButtonRef.current,{action:"Click",id:2315,name:"反对"}),m.default.trackEvent(t.includes("Upvote")?r.voteUpButtonRef.current:r.voteDownButtonRef.current,T({action:t,element:"Button"},f&&{id:f})),c?c(e):a?i():r.onVoteWithRecognize(t,n)},r.onVoteWithRecognize=function(e,t){var n=r.props.voting;!r.state.recognizeInfo.isRecognized||1!==n||"UnUpvote"!==e&&"Downvote"!==e?r.onVote(t):r.setState({recognizeInfo:T({},r.state.recognizeInfo,{showRecognizeModal:!0,action:e,voteType:t})})},r.handleConfirmCancelRecognize=function(){r.onVote(r.state.recognizeInfo.voteType),r.setState({recognizeInfo:T({},r.state.recognizeInfo,{isRecognized:!1,showRecognizeModal:!1})})},r.handleCloseCancelRecognizeModal=function(){return r.setState({recognizeInfo:T({},r.state.recognizeInfo,{showRecognizeModal:!1})})},r.handleTogglerClick=function(e){r.shouldShowMenu()||e.preventDefault(),r._voteDown(e)},r.renderVoteUpButton=function(){var e=r.props,t=e.isOwner,n=e.count,o=e.voting,a=e.disabled,i=e.hideDesc,c=1===o?"已赞同":"赞同",l=[c,Object(h.niceNumber)(n)].join(" "),d=[!i&&c,0!==n&&Object(h.niceNumber)(n)].filter(Boolean).join(" ");return s.a.createElement(p.c,{className:u()("VoteButton VoteButton--up",{"is-active":1===o}),disabled:t||a,onClick:r.voteUp,"aria-label":l,onRef:r.voteUpButtonRef},s.a.createElement(f.a,{center:!0,size:10,className:"VoteButton-TriangleUp"}),d)},r.renderVoteDownButton=function(){var e=r.props,t=e.voting,n=e.disabled,o=-1===t?"已反对":"反对";return s.a.createElement(p.c,{className:u()("VoteButton VoteButton--down",{"is-active":-1===t},{"VoteButton--mobileDown":!1}),disabled:n,onClick:r._voteDown,"aria-label":o,onRef:r.voteDownButtonRef},s.a.createElement(d.a,{center:!0,size:10}))},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),k(t,[{key:"componentWillReceiveProps",value:function(e){e.voteDownReason&&this.isPendingForVoteDownReason&&(this.isPendingForVoteDownReason=!1,this.popover.open())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOwner,r=t.positionStatus,o=t.isShowVoteDownMenu,a=t.voteDownReason,i=this.state.recognizeInfo,c=i.showRecognizeModal,l="UnUpvote"===i.action,u=o&&!0;return s.a.createElement("span",{ref:this.voteButtonRef},s.a.createElement(b.c,{keyMap:{VOTE_UP:"v",VOTE_DOWN:"d"},handlers:{VOTE_UP:this.voteUp,VOTE_DOWN:this.voteDown}}),this.renderVoteUpButton(),!n&&!u&&this.renderVoteDownButton(),!n&&u&&s.a.createElement(N,{reasonList:a,toggler:this.renderVoteDownButton(),popoverRef:function(t){return e.popover=t},positionStatus:r,onTogglerClick:this.handleTogglerClick,onSelectVoteDownReason:this.props.onSelectVoteDownReason,onSetVoteDownReason:this.props.onSetVoteDownReason}),s.a.createElement(y.b,{title:"确定"+(l?"取消赞同":"选择反对"),onClose:this.handleCloseCancelRecognizeModal},c&&s.a.createElement("div",null,s.a.createElement("div",null,l?"取消赞同":"选择反对","时，你赠与作者的专业徽章也会收回，并且赠与次数不会返还，是否仍要取消？"),s.a.createElement(y.a,{direction:"horizontal"},s.a.createElement(p.c,{onClick:this.handleCloseCancelRecognizeModal},l?"暂不取消":"暂不选择"),s.a.createElement(p.c,{preset:"primary",color:"blue",onClick:this.handleConfirmCancelRecognize},l?"取消赞同":"选择反对")))))}}]),t}(),O.contextTypes={authRequired:i.a.func},O.propTypes={voting:i.a.oneOf([-1,0,1]).isRequired,disabled:i.a.bool,type:i.a.string,hideDesc:i.a.bool,zaIds:i.a.shape({voteUp:i.a.number,voteDown:i.a.number}),isRecognized:i.a.bool},O.defaultProps={voting:0,disabled:!1,type:"",hideDesc:!1,zaIds:{}},j)},1636:function(e,t,n){},1637:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=n(1916),s=n(1617),l=n(205),u=(n(1741),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});var p={alpha:1,group:"GYL02A"},f={alpha:.08,group:"GYL02A"},d={brand_special:c.a},m=u({},s.b,{COMMERCIAL_ICONS:d});t.a=Object(l.a)(null)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelInfo,n=e.extra,r=void 0===n?{}:n,a=e.className;if(!t)return null;var c,s,l,u=t.type,d=t.text,h=t.foregroundColor,y=t.backgroundColor,b=r.customIcon,v=r.customIconClassName,g=function(e){return"GBL07A"===(e||p).group?"commercial":"positive"}(h),w=function(e){return"GBL07A"===(e||f).group?"commercial":"positive"}(y),M=b||m[function(e){return"recognition"===e?"professional":e}(u)];return M?o.a.createElement("span",{className:i()("Label-icon","Label-iconColor--"+g,(c={},s="Label-iconColor--"+w+"Background",l=y,s in c?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l,c),a)},o.a.createElement(M,{center:!0,className:i()("Label-iconImg",v)}),d):null})},1638:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1640:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(59),u=n.n(l),p=n(17),f=n(9),d=n(416),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleViewed=function(){var e=r.props.extra;setTimeout(function(){f.default.trackCardShow(r,{},e)})},r.trackEvent=function(e,t,n){f.default.trackEvent(e,t,h({},r.props.extra,n))},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),m(t,[{key:"componentDidMount",value:function(){this.setModule()}},{key:"componentDidUpdate",value:function(){this.setModule()}},{key:"setModule",value:function(){var e=this.props,t=e.module,n=e.index,r=e.isAd,o=e.moduleName,a=e.content,i=e.list,c=e.card,s=e.attachedInfoBytes;if(t){var l=Object(p.findDOMNode)(this);l&&f.default.setModule(l,{module:t,index:n,is_ad:r,module_name:o},function(e,t,n,r){return e?{card:{content:e}}:h({},t&&{card:t},n&&{list:n},r&&{attached_info_bytes:r})}(a,c,i,s))}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.trackCardShow,r=e.children,o="string"==typeof r.type?r:Object(c.cloneElement)(r,{trackEvent:this.trackEvent});return n?s.a.createElement(d.a,{id:t,onViewed:this.handleViewed},o):o}}]),t}(),r.propTypes={id:i.a.string,module:i.a.string,index:i.a.string,isAd:i.a.bool,content:i.a.object,extra:i.a.object,trackCardShow:i.a.bool,attachedInfoBytes:i.a.string},r.defaultProps={id:null,module:null,index:null,isAd:!1,content:null,extra:null,attachedInfoBytes:null,trackCardShow:!1},o);!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}}();var v=n(132),g=n(396),w=n(78);n(1674);n.d(t,"a",function(){return D});var M,N,E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C={zhihu:"注册或登录",wechat:"使用微信快速登录",weibo:"使用微博快速登录",qq:"使用 QQ 快速登录"},k={qq:"qqconn",weibo:"sina",wechat:"wechat_mp"},D=(N=M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.jumpToOAuthUrl=function(e){var t=r.props,n=t.redirectUrl,o=void 0===n?location.href:n,a=t.edition,i=t.utm,c=Object(w.b)(o,a,i),s=c.utmSource,l=c.refSource,p=u()(navigator.userAgent).isZhihu;location.href="zhihu"!==e?"https://www.zhihu.com/oauth/redirect/login/"+k[e]+"?next=/oauth/account_callback&from="+encodeURIComponent(o)+"&utm_source="+s+"&ref_source="+l:p?"zhihu://signin?next="+o:"https://www.zhihu.com/signin?next="+o+(s?"?utm_source="+s:"")},r.renderSignButtons=function(){var e=r.props.buttons;return"string"==typeof e?r.renderSingleSignButton({name:e}):e.map(function(e){return"string"==typeof e?r.renderSingleSignButton({name:e}):"object"===(void 0===e?"undefined":O(e))?r.renderSingleSignButton(e):null})},r.renderSingleSignButton=function(e){var t=e.name,n=e.text,o=e.fill,a=e.color,i="#fff"===o||"#ffffff"===o;return-1===Object.keys(C).indexOf(t)?null:s.a.createElement("button",{className:"SignInModal-button-"+t,key:t,style:{backgroundColor:o,borderColor:i?"#0f88eb":o,color:i?"#0f88eb":a},onClick:function(){r.jumpToOAuthUrl(t)}},n||C[t])},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),j(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.utm,r=e.edition,o=r.yidianzixun,a=r.baidu,i=e.urlScheme,c=this.props.title||(a||!i?"":"打开 App 或")+"登录后继续操作";return o&&(c="打开知乎 App 继续操作"),s.a.createElement(v.b,{size:"small",className:"SignInModal",title:c,onClose:t},s.a.createElement(b,{module:"SignForm",moduleName:c,trackCardShow:!0},s.a.createElement("div",{className:"SignInModal-content"},i&&!a&&s.a.createElement(g.a,E({className:"SignInModal-openInAppButton",href:i},n),"立即打开",o?"":" App"),!o&&this.renderSignButtons())))}}]),t}(),M.propTypes={onClose:i.a.func.isRequired,urlScheme:i.a.string,redirectUrl:i.a.string,edition:i.a.object,buttons:i.a.oneOfType([i.a.array,i.a.string])},M.defaultProps={buttons:["zhihu"],edition:{},utm:{}},N)},1642:function(e,t,n){},1643:function(e,t,n){"use strict";function r(e,t){return e===t?"check":null}function o(e,t){return e===t?"is-selected":null}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},1644:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a);n(1680);t.a=function(e){var t=e.header,n=e.options,r=e.className,a=e.onRef,c=e.showOptions,s=void 0===c||c;return o.a.createElement("div",{className:i()("Topbar",r,!1),ref:a},o.a.createElement("div",{className:"Topbar-title"},t),s&&o.a.createElement("div",{className:"Topbar-options"},n))}},1645:function(e,t,n){},1646:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,o,a=n(0),i=n.n(a),c=n(1),s=n.n(c),l=n(2),u=n.n(l),p=n(132),f=n(67),d=n(4),m=n(10),h=(n(1729),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var y=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChangeInputType=function(e){n.setState({checked:e.target.checked})},n.onChangeInputValue=function(e){n.setState({text:e.target.value})},n.submit=function(){var e=n.state.text;n.props.submitRewardText(e)};var r,o=e.tagline;return n.state={text:(r=o,r.replace(/^「/,"").replace(/」$/,"")||"予人玫瑰，手有余香"),checked:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),h(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.edit,r=this.state,o=r.text,a=r.checked;return i.a.createElement(p.b,{onClose:t,className:"RewardForm-rewardModal"},i.a.createElement("p",{className:"RewardForm-rewardTitle"},n?"编辑赞赏描述":"开启赞赏"),i.a.createElement(f.a,{className:"RewardForm-rewardInput",maxLength:"20",type:"text",value:o,onChange:this.onChangeInputValue}),i.a.createElement("div",{className:"RewardForm-remark"},!n&&i.a.createElement("div",{className:"RewardForm-Protocol"},i.a.createElement("input",{className:"RewardForm-rewardCheckbox",type:"checkbox",onChange:this.onChangeInputType,checked:a}),i.a.createElement("p",null,"我已同意",i.a.createElement("a",{className:"RewardForm-rewardLink",href:"/terms/tipjar"},"《知乎赞赏功能使用协议》"))),i.a.createElement("p",{className:"RewardForm-prompting"},"还可以输入"+(20-o.length)+"个字")),i.a.createElement(d.c,{className:u()("RewardForm-rewardSubmit",{"RewardForm-rewardSubmit-disabled":!a}),onClick:this.submit,disabled:!a},"确定"))}}]),t}(),r.propTypes={onClose:s.a.func,submitRewardText:s.a.func,edit:s.a.bool,tagline:s.a.string},r.defaultProps={tagline:m.i},o)},1648:function(e,t,n){var r=n(1772),o=n(2006),a=n(2007),i="[object Null]",c="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?c:i:s&&s in Object(e)?o(e):a(e)}},1649:function(e,t,n){var r=n(1771),o=n(1853);e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var l=t[c],u=a?a(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?o(n,l,u):r(n,l,u)}return n}},1650:function(e,t,n){"use strict";var r=n(701),o=n(2028);e.exports={connections:{},EE:new r,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:o}},1651:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(17),s=n(61),l=n(387),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.check=function(){var e=n.props.offset,t=e,r=n.childNodes.map(function(e){return Object(c.findDOMNode)(e)}).filter(function(e){return e}).map(function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseInt(t.marginBottom,10)+parseInt(t.marginTop,10)}),o=n.el&&n.el.clientHeight,a=document.documentElement.clientHeight-e;if(n.sticky&&n.sticky.updateHeight(),o>a){var i=o;r.every(function(e){return!(i<a)&&(i-=e,!0)}),t=e-o+i}n.state.stickyOffset!==t&&n.setState({stickyOffset:t})},n.childNodes=[],n.state={stickyOffset:e.offset},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),u(t,[{key:"componentDidMount",value:function(){this.resizeHandler=Object(s.subscribe)("resize",this.check),this.timeout=setTimeout(this.check)}},{key:"componentWillUnmount",value:function(){this.resizeHandler.unsubscribe(),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,o=t.onRef;return i.a.createElement("div",{className:r,ref:o},i.a.createElement(l.a,{offset:this.state.stickyOffset,ref:function(t){e.sticky=t}},i.a.createElement("div",{ref:function(t){e.el=t}},a.Children.toArray(n).map(function(t,n){return Object(a.cloneElement)(t,{ref:function(t){e.childNodes[n]=t}})}))))}}]),t}();p.propTypes={offset:o.a.number,onRef:o.a.func,className:o.a.string},p.defaultProps={offset:0,onRef:function(){},className:""}},1654:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(4),s=n(32),l=(n(1664),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={logoutModalShown:!1},r.handleLogoutModalShow=function(){r.setState({logoutModalShown:!0})},r.handleLogoutModalHide=function(){r.setState({logoutModalShown:!1})},r.handleClick=function(){var e=r.context.currentUser;e&&e.urlToken?r.handleLogoutModalShow():location.href="https://www.zhihu.com/org/signup"},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),l(t,[{key:"render",value:function(){var e=this.state.logoutModalShown;return o.a.createElement(r.Fragment,null,o.a.createElement(c.c,{className:"OrgCreateButton",onClick:this.handleClick},"申请开通知乎机构号"),e&&o.a.createElement(s.b,{className:"OrgCreateButton-logoutModal",title:"开通提示",onClose:this.handleLogoutModalHide},o.a.createElement("p",null,"若想访问机构号注册页面，请您请先退出当前帐号登录状态"),o.a.createElement(s.a,null,o.a.createElement(c.c,{preset:"primary",color:"blue",onClick:function(){location.href="/logout?next=/org/signup"}},"退出登录"),o.a.createElement(c.c,{onClick:this.handleLogoutModalHide},"我再想想"))))}}]),t}();p.contextTypes={currentUser:i.a.object};var f=p,d=(n(1665),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),d(t,[{key:"render",value:function(){var e=this,t=(new Date).getFullYear();return o.a.createElement("footer",{className:"Footer",ref:function(t){e.footerEl=t}},o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"//liukanshan.zhihu.com/"},"刘看山"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"/question/19581624"},"知乎指南"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"/terms"},"知乎协议"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"/term/privacy"},"知乎隐私保护指引"),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",href:"/app"},"应用"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"https://app.mokahr.com/apply/zhihu"},"工作"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement(f,{className:"Footer-item"}),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"https://zhuanlan.zhihu.com/p/51068775"},"侵权举报"),o.a.createElement("span",{className:"Footer-dot"}),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"http://www.12377.cn"},"网上有害信息举报专区"),o.a.createElement("br",null),o.a.createElement("span",{className:"Footer-item"},"违法和不良信息举报：010-82716601"),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",href:"/jubao"},"儿童色情信息举报专区"),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"https://zhstatic.zhihu.com/assets/zhihu/certificates/certificate-ICP.png"},"电信与服务业务经营许可证"),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",rel:"noopener noreferrer",href:"https://zhstatic.zhihu.com/assets/zhihu/certificates/certificate-1.jpeg"},"网络文化经营许可证"),o.a.createElement("br",null),o.a.createElement("a",{className:"Footer-item",target:"_blank",href:"/contact"},"联系我们"),o.a.createElement("span",null," © ",t," 知乎"))}}]),t}();t.a=m},1655:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n.n(r),a=o.a.shape({cardShow:o.a.number,expand:o.a.number,title:o.a.number,voteUp:o.a.number,voteDown:o.a.number,share:o.a.number,favlists:o.a.number,thank:o.a.number,options:o.a.number,report:o.a.number,toggleComment:o.a.number,getCommentAction:o.a.func})},1657:function(e,t,n){var r=n(1849),o=n(1658);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},1658:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},1659:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},1660:function(e,t,n){var r=n(2003);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},1662:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(13),i=n(39),c=n(392),s=n(390),l=n(174),u=n(1),p=n.n(u),f=n(132),d=n(109),m=n(395),h=n(4),y=n(202),b=n(133),v=function(e){var t=e.upvotedFollowees,n=e.voteupCount,r=e.actionText,a=e.canClick,i=e.onClick;if(!n)return null;var c=t.length,s=c===n?"":Object(y.formatNumber)(n)+" 人";return o.a.createElement(m.CJKSpace,null,t.map(function(e,t){return o.a.createElement("span",{key:t},t>0&&"、",o.a.createElement(b.a,{key:t,noBadge:!0,user:e},e.name))}),c>0&&n-c>0&&"等",a?o.a.createElement(h.c,{preset:"plain",onClick:i},s,r):s+r)};v.propTypes={voteupCount:p.a.number.isRequired,upvotedFollowees:p.a.array.isRequired,actionText:p.a.string.isRequired,canClick:p.a.bool,onClick:p.a.func},v.defaultProps={voteupCount:0,actionText:"赞了",upvotedFollowees:[]};var g,w,M=v,N=n(1629),E=(n(1725),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j,T,C,k=(w=g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={modalShown:!1},r.handleListHide=function(){return r.setState({modalShown:!1})},r.handleListShown=function(){return r.setState({modalShown:!0})},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),E(t,[{key:"componentWillReceiveProps",value:function(){var e=this.props.modalShown;e&&!this.state.modalShown&&this.setState({modalShown:e})}},{key:"render",value:function(){var e=this.props,t=e.voteupCount,n=e.upvotedFollowees,r=e.openable,a=e.type,i=e.too,c=e.isFetching,s=e.isDrained,l=e.items,u=e.onLoad;if(t<=0)return null;var p=this.state.modalShown,m=void 0;return m="pin"===a?"为该"+d.b[a]+"鼓掌":"column"===a?"关注":(i?"也":"")+"赞同了该"+d.b[a],o.a.createElement("span",{className:"Voters"},o.a.createElement(M,{canClick:r,onClick:this.handleListShown,voteupCount:t,upvotedFollowees:n,actionText:m}),o.a.createElement(f.b,{size:"fullPage",onClose:this.handleListHide},p&&o.a.createElement(N.a,{isFetching:c,isDrained:s,text:"column"===a?"关注了":"赞同了",items:l,voteupCount:t,onLoad:u})))}}]),t}(),g.propTypes={openable:p.a.bool,upvotedFollowees:p.a.array,id:p.a.oneOfType([p.a.number,p.a.string]),type:p.a.oneOf(["pin","answer","article","column"]).isRequired,modalShown:p.a.bool},g.defaultProps={openable:!0},w),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var S={answer:"answers",article:"articles",pin:"pins",column:"columns"};var x=Object(a.connect)(function(e,t){var n=t.id,r=t.type,o=e.entities.users,a=e[S[r]]||{},i=a.voters,c=void 0===i?{}:i,s=a.concernedUpvoters,l=void 0===s?{}:s,u=c[n]||{isFetching:!1,isDrained:!1,order:"normal",ids:[]},p=u.isFetching,f=u.isDrained,d=u.order,m=u.ids,h=(l[n]||{ids:[]}).ids;return{isFetching:p,isDrained:f,order:d,items:[].concat(z(h),z(m.filter(function(e){return!h.includes(e)}))).map(function(e){return o[e]})}},{loadAnswerVoters:i.r,loadArticleVoters:c.c,loadPinVoters:s.f,loadColumnsFollowers:l.c})((C=T=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleLoad=function(){var e=r.props,t=e.type,n=e.id,o=e.loadAnswerVoters,a=e.loadPinVoters,i=e.loadArticleVoters,c=e.loadColumnsFollowers;switch(t){case"answer":return o(n);case"pin":return a(n);case"article":return i(n);case"column":return c(n);default:return null}},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),I(t,[{key:"render",value:function(){return o.a.createElement(k,D({onLoad:this.handleLoad},this.props))}}]),t}(),T.propsTypes=D({},k.propsTypes),T.defaultProps=D({},k.defaultProps),j=C))||j;t.a=x},1663:function(e,t,n){},1664:function(e,t,n){},1665:function(e,t,n){},1667:function(e,t,n){},1668:function(e,t,n){},1669:function(e,t,n){},1670:function(e,t,n){"use strict";var r=n(1671),o="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,a,i,c,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),c.selectNode(l),s.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:o),window.prompt(a,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(c):s.removeAllRanges()),l&&document.body.removeChild(l),i()}return u}},1671:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},1672:function(e,t,n){},1673:function(e,t,n){},1674:function(e,t,n){},1675:function(e,t,n){},1676:function(e,t,n){e.exports=n.p+"assets/deleteComment.97d8abc0.gif"},1677:function(e,t,n){},1678:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjEzNSIgdmlld0JveD0iMCAwIDQwMCAxMzUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiYWNrZ3JvdW5kX2JsdWUtYSIgeDE9IjUwJSIgeDI9IjUwJSIgeTE9IjEwMS45NDUlIiB5Mj0iODQuNzE0JSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDg0RkYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDM2QUQzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGVsbGlwc2UgaWQ9ImJhY2tncm91bmRfYmx1ZS1iIiBjeD0iNDUwIiBjeT0iNDAzLjE2MyIgcng9IjQ1MCIgcnk9IjQwMy4xNjMiLz4KICA8L2RlZnM+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjUwIC02NzIpIj4KICAgIDxlbGxpcHNlIGN4PSI0NTAiIGN5PSI0MDMuMTYzIiBmaWxsPSJ1cmwoI2JhY2tncm91bmRfYmx1ZS1hKSIgZmlsbC1ydWxlPSJub256ZXJvIiByeD0iNDUwIiByeT0iNDAzLjE2MyIvPgogICAgPG1hc2sgaWQ9ImJhY2tncm91bmRfYmx1ZS1jIiBmaWxsPSIjZmZmIj4KICAgICAgPHVzZSB4bGluazpocmVmPSIjYmFja2dyb3VuZF9ibHVlLWIiLz4KICAgIDwvbWFzaz4KICAgIDxnIG1hc2s9InVybCgjYmFja2dyb3VuZF9ibHVlLWMpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgxIDUwMi42MSkiPgogICAgICAgIDxwYXRoIGQ9Ik0xMzIuMDY3NTgzLDYzLjI4OTQ4OSBMMjY5LjM1MzA1NywzNjUuNTM0Njk0IEwxMDUuMDQ0MzU2LDc0LjI0NTk1MzkgQzEwMS4zNTI2MjYsNjcuNzAzMzU2NCAxMDQuMjk5NDgxLDU5LjcyNjU4MzQgMTExLjYyMzU4OSw1Ni40MzE0MjU5IEMxMTguOTQ3Njk3LDUzLjEzMzYxNzUgMTI3Ljg3NzI5Miw1NS43NjYwMzIxIDEzMS41NjkwMjIsNjIuMzA4NjI5NiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMwMDNCOTQiIGZpbGwtb3BhY2l0eT0iLjE2IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMzIuMDY3NTgzLDYzLjI4OTQ4OSBMMjY5LjM1MzA1NywzNjUuNTM0Njk0IEwxMDUuMDQ0MzU2LDc0LjI0NTk1MzkgQzEwMS4zNTI2MjYsNjcuNzAzMzU2NCAxMDQuMjk5NDgxLDU5LjcyNjU4MzQgMTExLjYyMzU4OSw1Ni40MzE0MjU5IEMxMTguOTQ3Njk3LDUzLjEzMzYxNzUgMTI3Ljg3NzI5Miw1NS43NjYwMzIxIDEzMS41NjkwMjIsNjIuMzA4NjI5NiBDMTMxLjc0NzA3OSw2Mi42MjQwOTUyIDEzMS45MTkyMDIsNjIuOTY4NzIxNCAxMzIuMDY3NTgzLDYzLjI4OTQ4OSBNOTIuMTgxNDM5NSwxMzAuNDQwNTkgTDI2OSwzNjcuMzI2NTMxIEw2OC4zMzI1NzAxLDE0Ni4yNDk2NTMgQzYzLjE1NzA2LDE0MC41NDczMjYgNjQuMTE1MDQ4NCwxMzIuMTYxMzk0IDcwLjQ3Mzk1NiwxMjcuNTIwMjc1IEM3Ni44MzI4NjM2LDEyMi44NzkxNTUgODYuMTgxNDA2OCwxMjMuNzQwODg3IDkxLjM1NjkxNywxMjkuNDQwNTU1IEM5MS42NDc1NzYsMTI5Ljc2MjM3NCA5MS45MzIzMDMyLDEzMC4xMDU0NzEgOTIuMTgxNDM5NSwxMzAuNDQwNTkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMDAzQjk0IiBmaWxsLW9wYWNpdHk9Ii4xNiIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMjMxLjk5OTg5NCwzODEuMzI2NTQ1IEwzMS4zMzI0NjQ1LDE2MC4yNDk2NjcgQzI2LjE1Njk1NDQsMTU0LjU0NzM0IDI3LjExNDk0MjgsMTQ2LjE2MTQwOCAzMy40NzM4NTA0LDE0MS41MjAyODkgQzM5LjgzMjc1OCwxMzYuODc5MTY5IDQ5LjE4MTMwMTIsMTM3Ljc0MDkwMSA1NC4zNTY4MTE0LDE0My40NDA1NjkgQzU0LjY0NzQ3MDQsMTQzLjc2MjM4OCA1NC45MzIxOTc2LDE0NC4xMDU0ODUgNTUuMTgxMzMzOSwxNDQuNDQwNjA0IEwyMzEuOTk5ODk0LDM4MS4zMjY1NDUgWiIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1IDEzMCAyNTkuOTMpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwM0I5NCIgZmlsbC1vcGFjaXR5PSIuMTYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTUwOS45OTk5MywzODEuMzI2NTIyIEwzMDkuMzMyNSwxNjAuMjQ5NjQ0IEMzMDQuMTU2OTksMTU0LjU0NzMxNyAzMDUuMTE0OTc4LDE0Ni4xNjEzODUgMzExLjQ3Mzg4NiwxNDEuNTIwMjY2IEMzMTcuODMyNzk0LDEzNi44NzkxNDYgMzI3LjE4MTMzNywxMzcuNzQwODc4IDMzMi4zNTY4NDcsMTQzLjQ0MDU0NiBDMzMyLjY0NzUwNiwxNDMuNzYyMzY1IDMzMi45MzIyMzMsMTQ0LjEwNTQ2MiAzMzMuMTgxMzcsMTQ0LjQ0MDU4MSBMNTA5Ljk5OTkzLDM4MS4zMjY1MjIgWiIgdHJhbnNmb3JtPSJzY2FsZSgtMSAxKSByb3RhdGUoLTE1IDAgMzM1OC45OTcpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwNS44ODMwODYsMzIuOTA2OTE5MyBMMjY5LjM1MjI2NCwzNjcuMzI2NTMxIEwxNzYuODA2MjkzLDM4LjM2NDgzNzYgQzE3NC44MDM2NjEsMzEuMjUwNDMwNCAxNzkuNjM0OTM3LDI0LjAzMjQ5MjcgMTg3LjU5NzkyNSwyMi4yNDU5MjcgQzE5NS41NjA5MTQsMjAuNDU2NzA2NyAyMDMuNjQyNzUzLDI0Ljc3NTc4OSAyMDUuNjQyNDE0LDMxLjg5MDE5NjEiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMDAzQjk0IiBmaWxsLW9wYWNpdHk9Ii4xNiIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMjA1Ljg4MzA4NiwzMi45MDY5MTkzIEwyNjkuMzUyMjY0LDM2Ny4zMjY1MzEgTDE3Ni44MDYyOTMsMzguMzY0ODM3NiBDMTc0LjgwMzY2MSwzMS4yNTA0MzA0IDE3OS42MzQ5MzcsMjQuMDMyNDkyNyAxODcuNTk3OTI1LDIyLjI0NTkyNyBDMTk1LjU2MDkxNCwyMC40NTY3MDY3IDIwMy42NDI3NTMsMjQuNzc1Nzg5IDIwNS42NDI0MTQsMzEuODkwMTk2MSBDMjA1LjczNDUyMywzMi4yMTkzNzAyIDIwNS44MTc3MTgsMzIuNTc3NzQ1MiAyMDUuODgzMDg2LDMyLjkwNjkxOTMiLz4KICAgICAgICA8cGF0aCBkPSJNMjgzLjM2Mjk4NywxNC4wMjE5MTQ5IEwyNjguNzUyNTk3LDM2Ny4zMjY1MzEgTDI1NC4xNDIyMDgsMTQuMDIxOTE0OSBDMjUzLjgzODMxMiw2LjY4NDUzNjE2IDI2MC4xMzUzOSwwLjUxNjAzNzQ0NiAyNjguMjAzMjQ3LDAuMjM5NzU2NzExIEMyNzYuMjc0MDI2LC0wLjAzNjUyNDAyMzggMjgzLjA1OTA5MSw1LjY4NTY3NTA0IDI4My4zNjI5ODcsMTMuMDIzMDUzOCIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMwMDNCOTQiIGZpbGwtb3BhY2l0eT0iLjE2IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0yODMuMzYyOTg3IDE0LjAyMTkxNDlMMjY4Ljc1MjU5NyAzNjcuMzI2NTMxIDI1NC4xNDIyMDggMTQuMDIxOTE0OUMyNTMuODM4MzEyIDYuNjg0NTM2MTYgMjYwLjEzNTM5LjUxNjAzNzQ0NiAyNjguMjAzMjQ3LjIzOTc1NjcxMSAyNzYuMjc0MDI2LS4wMzY1MjQwMjM4IDI4My4wNTkwOTEgNS42ODU2NzUwNCAyODMuMzYyOTg3IDEzLjAyMzA1MzggMjgzLjM3NzU5NyAxMy4zNDcxNTIzIDI4My4zNzc1OTcgMTMuNzAzMTI5NCAyODMuMzYyOTg3IDE0LjAyMTkxNDlNMzYxLjk3MjkwOCAzOC4zNjQ4Mzc2TDI2OS4xNjkwMSAzNjcuMzI2NTMxIDMzMi44MTYwMTQgMzIuOTA2OTE5M0MzMzQuMTkyNTIgMjUuNjc1NzA4NCAzNDEuODg4NDM4IDIwLjgwNDQ2MzIgMzUwLjAwNzQzOSAyMi4wMzM1NTY2IDM1OC4xMjM0NTkgMjMuMjU3MzQwOSAzNjMuNTg3NzcgMzAuMTE2OTAzNiAzNjIuMjExMjY0IDM3LjM1MDc2OTEgMzYyLjE0ODY5NiAzNy42ODUyNTI0IDM2Mi4wNjUyNzEgMzguMDQwOTcyOCAzNjEuOTcyOTA4IDM4LjM2NDgzNzYiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMDAzQjk0IiBmaWxsLW9wYWNpdHk9Ii4xNiIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNNDcwLjQ0MTIxNSAxNDYuMjc5MDk1TDI2OS4xNjg0MDggMzY3LjMyNjUzMSA0NDYuNTE3Nzc3IDEzMC40NzIxMzdDNDUxLjA5MzAzOCAxMjQuMzYzNjk0IDQ2MC4zNDE3MjkgMTIyLjcyNTU1NyA0NjcuMTc3ODQ3IDEyNi44MTU1ODEgNDc0LjAwODAxNSAxMzAuOTA1NjA1IDQ3NS44NDM0NzQgMTM5LjE3MDc1IDQ3MS4yNjgyMTMgMTQ1LjI4MTg1MiA0NzEuMDEyMzc5IDE0NS42MjIyNDQgNDcwLjcyNjc5NyAxNDUuOTY3OTU1IDQ3MC40NDEyMTUgMTQ2LjI3OTA5NU00MzMuNDc3NTE2IDc0LjI0NTk1MzlMMjY5LjE2NTg0NyAzNjUuNTM0Njk0IDQwNi40NTQyODggNjMuMjg5NDg5QzQwOS41Mzc2NTQgNTYuNTAwMzUxMiA0MTguMjAwMTYzIDUzLjIyOTA1MjQgNDI1Ljc5NzI5MiA1NS45ODYwNjI3IDQzMy40MDAzNTcgNTguNzQwNDIyIDQzNy4wNTk0NDMgNjYuNDc1OTU2NiA0MzMuOTc2MDc3IDczLjI2NTA5NDQgNDMzLjgyNDcyOCA3My41OTExNjM5IDQzMy42NTI2MDYgNzMuOTM1NzkwMiA0MzMuNDc3NTE2IDc0LjI0NTk1MzkiLz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},1679:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTA3IiB2aWV3Qm94PSIwIDAgMTIwIDEwNyI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0xMDkuNjgxODYsNzUuODA0NzcwNiBDMTA5LjY4MTg2LDc1LjgwNDc3MDYgMTA4Ljc2MDkzNyw3NS43MjY1MzA3IDEwOC4xMTA2NDgsNzYuNjU3NzE0NCBDMTA4LjExMDY0OCw3Ni42NTc3MTQ0IDEwNC4wODE5MzEsNTQuODk5MzEwNiAxMDQuMjA2MzQ1LDQ4LjkwOTQ2NDcgQzEwNC40MTI4NDgsMzkuMDgzMjk1NiAxMDMuOTEzOTA4LDI2LjE5NDIyNDYgMTAzLjY4MTc1MywyMC45NTcyNzggQzEwMy42MzE3MzEsMTkuODE3MDI2OCAxMDIuNDAxNjk2LDE5LjExNTQzMjQgMTAxLjQwNTA5OCwxOS42NzMzNzMxIEM5Ny4zNTcxNDI2LDIxLjk0MzYxNDUgOTEuODYyMzg4OSwyNi4wOTQxODAxIDkwLjAzNzIxNzQsMjcuNDk3MzY4OCBDODkuNjQzNDUyNCwyNy44MDAwNjc3IDg5LjE0NDUxMjMsMjcuODg0NzIwOCA4OC42Njk5NDIxLDI3Ljc0MjM0OTcgQzgwLjc3NDExOTUsMjUuMzY0MzY4IDY4Ljk1ODYwMzQsMjQuMzc4MDMxNSA2NS40OTU1MjMzLDI0LjEzMDQ4NTQgQzY0Ljg5MDEyNTYsMjQuMDg2ODc2MyA2NC4zOTM3NTA4LDIzLjY4MTU2NzYgNjQuMTc4MjcwMiwyMy4xMTQ2NDg2IEM2Mi44NjQ4NjUxLDE5LjY0MTMwNzYgNjAuMTkwNTk3NywxNS40ODk0NTkzIDU4Ljc4MDk5NTgsMTMuNDE0MTc2NSBDNTguMjc2OTI1MywxMi42NzE1MzgzIDU3LjI1ODUyMzIsMTIuNTE3NjIzNiA1Ni41NTMwODEsMTMuMDcyOTk5IEM1Mi41Njc5NzM2LDE2LjIxMjg1ODMgNDcuOTc3NDY4NiwyMS4yODU2MjkzIDQ2LjMzODI3NzQsMjMuMTQ0MTQ4OSBDNDUuOTUyMjA4MSwyMy41ODI4MDU3IDQ1LjM2NDc2NzEsMjMuNzU4NTI1IDQ0LjgwMDQxMzMsMjMuNjA4NDU4MiBDNDAuMzgxNzc5NiwyMi40MjU4ODA1IDIxLjM5NjQwNTEsMTcuNDY1OTgwMiAxOC41NDEyODgsMTguNjg3MDM2NiBDMTIuMTQxMDAyOSwyMS40MjU0MzUxIDExLjA1MjA1NjYsMzEuOTEzNDM3MiAxMy44Mjg5MzM4LDM4LjA0MzA4OSBDMTUuMjM3MjUzMSw0MS4xNDk2MDAxIDE4LjEzNDY5NjcsNDIuNjg3NDY0MSAyMi42ODU0NDA1LDQ1LjEwMzkyNDUgQzI3LjE2ODIwNTIsNDcuNDgzMTg4NyAzMS4zMzU0NDQ5LDQ4LjY2NTc2NjUgMzQuNDQ0NTIxMiw0OS4yODc4MzgyIEMzNS4xMTkxODA1LDQ5LjQyMjUxMzYgMzUuNjEwNDI0OSw0OS45OTE5OTc5IDM1LjY1OTE2NDUsNTAuNjc4MjAwOCBDMzYuMTQxNDMwNSw1Ny4zNjcwNzU4IDM4LjYxMTc2MDksOTAuNTI1NDI2MiA0MC44NDM1MjM2LDk4LjczNjc3MzggQzQzLjMzMDUyODIsMTA3Ljg4NDQzNiA3MC44NDY2MjMzLDEwNi4xNzk4MzEgODQuMzkyMzk2OSwxMDQuNjk4NDAyIEM5NC45NzI3NDc4LDEwMy41NDE0NzcgMTA0LjQyOTUyMiw5OC4wNjQ2Nzk4IDEwNC40Mjk1MjIsOTguMDY0Njc5OCBDMTE1LjEyMjc0MywxMDAuNTI0NzQ5IDEyMC42OTE4ODksOTIuODg0MTY4NSAxMTkuNTU5MzM0LDgzLjg3NTAyOTggQzExOC42MTQwNDEsNzYuMzUxMTY3NyAxMTIuNjcyOTM1LDc1LjY2MjM5OTYgMTA5LjY4MTg2LDc1LjgwNDc3MDYiLz4KICAgIDxwYXRoIGZpbGw9IiMzNjM2MzYiIGQ9Ik0yNC42MDM0NzM4IDQ2LjA2MDg4ODlDMTkuOTcwNjQyMiA0My43NzY1Mzg3IDE1LjQ0NTU1MDkgNDEuODM0NjQ4NiAxMy44Mjk0NDY5IDM4LjA0MzIxNzIgMTAuOTE3ODk0NCAzMS4yMTMyNTM4IDExLjk4MTE4ODIgMjEuMDE3Njg5NSAxOC41NDE4MDEgMTguNjg3MTY0OSAyMC44MTU4OTAzIDE3Ljg3NzgzMDIgMjguNDE1NDI3MSAxOS41MzQ5NzgyIDMzLjMxNTA0NDEgMjAuNzQ1NzczNiAzMy4zOTg0MTQ1IDIwLjc0NDQ5MSAzMi41Mzc3NzUgMjkuMDA4NDI2MSAzMC42MzA1MTU3IDM0LjI4NjQxNjcgMjguNzIzMjU2NCAzOS41NjQ0MDcyIDI0LjYwMzQ3MzggNDYuMDYwODg4OSAyNC42MDM0NzM4IDQ2LjA2MDg4ODlNNjYuMjE5MTc4OCAzNS43ODYwNTg2QzY2LjAzMzE5ODUgMzguMzM0NjI5IDY3LjY2OTgyNDUgNDAuNjQ0NjMxNyA2OS44NzU5MzQ4IDQwLjk0MzQ4MjcgNzIuMDc5NDc5OCA0MS4yNDM2MTYzIDc0LjAxNzUyMiAzOS40MTk3Mjc0IDc0LjIwMzUwMjMgMzYuODcxMTU3IDc0LjM4ODE5OTkgMzQuMzIxMzA0IDcyLjc1Mjg1NjUgMzIuMDEyNTgzOSA3MC41NDgwMjg5IDMxLjcxMjQ1MDMgNjguMzQxOTE4NiAzMS40MTM1OTk0IDY2LjQwNTE1OSAzMy4yMzc0ODgyIDY2LjIxOTE3ODggMzUuNzg2MDU4NiIvPgogICAgPHBvbHlnb24gZmlsbD0iI0IyQjJCMiIgcG9pbnRzPSI1My41MjUgNjMuMjQgNzIuMTYyIDEwNS4zNDUgMzAuNzA5IDEwNi4xMTMgMTcuNDMzIDY2LjYxIi8+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNDYuNDkyMDYzOCw3Ny40OTAxMzYzIEw3LjQzODc4MTUxLDc5LjUzMzM1MzUgQzcuNDM4NzgxNTEsNzkuNTMzMzUzNSA2Ljg4MDg0MDgzLDY4LjI2Mjk1MTggMTQuNDcyNjgxOSw2Ni44ODY2OTgxIEMyMi4wNjMyNDA0LDY1LjUxMDQ0NDUgNTMuNTI0NjgxNiw2My4yNDAyMDMxIDUzLjUyNDY4MTYsNjMuMjQwMjAzMSBMNDYuNDkyMDYzOCw3Ny40OTAxMzYzIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNCMkIyQjIiIGQ9Ik00Ni40OTIwNjM4LDc3LjQ5MDEzNjMgQzQ2LjQ5MjA2MzgsNzcuNDkwMTM2MyA0OC4zOTQxOTI2LDYzLjI0MDIwMzEgNTMuNTI0NjgxNiw2My4yNDAyMDMxIEM1OC42NTUxNzA2LDYzLjI0MDIwMzEgNzIuMTYyNDY1NSwxMDUuMzQ0ODQ0IDcyLjE2MjQ2NTUsMTA1LjM0NDg0NCIvPgogICAgPHBhdGggc3Ryb2tlPSIjMzYzNjM2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMi42MzciIGQ9Ik04MS42OTcwOTQ1LDY4LjI1MzA3NTYgQzgxLjY5NzA5NDUsNjguMjUzMDc1NiA3MS4xODYwMDUyLDc2Ljc0OTE2NTQgNTguNzc2NjM0OSw4MS4wNTIzNjMxIi8+CiAgICA8cG9seWxpbmUgc3Ryb2tlPSIjMzYzNjM2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMi42MzciIHBvaW50cz0iNTguNzI1IDc1LjUzMSA2My45MzYgNzguOTk1IDYyLjQ2MyA4NS4xMzUiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0zLjk1MTk3MjkyIDM0LjUzMzU3OEM0LjMwMjEyODggMzYuMjM4MTgzIDUuNjQ1MDM0MjkgMzcuNTc5ODA1OCA3LjM0OTYzOTI2IDM3LjkzMTI0NDMgNy40NDk2ODM4IDM3Ljk1MTc2NjMgNy40NDk2ODM4IDM4LjA5MDI4OTUgNy4zNDk2MzkyNiAzOC4xMTA4MTE0IDUuNjQ1MDM0MjkgMzguNDYwOTY3MyA0LjMwMjEyODggMzkuODAzODcyOCAzLjk1MTk3MjkyIDQxLjUwNzE5NTIgMy45MzE0NTA5NyA0MS42MDcyMzk3IDMuNzkyOTI3NzYgNDEuNjA3MjM5NyAzLjc3MjQwNTgxIDQxLjUwNzE5NTIgMy40MjA5NjczMSAzOS44MDM4NzI4IDIuMDc5MzQ0NDQgMzguNDYwOTY3My4zNzQ3Mzk0NjcgMzguMTEwODExNC4yNzQ2OTQ5MzIgMzguMDkwMjg5NS4yNzQ2OTQ5MzIgMzcuOTUxNzY2My4zNzQ3Mzk0NjcgMzcuOTMxMjQ0MyAyLjA3OTM0NDQ0IDM3LjU3OTgwNTggMy40MjA5NjczMSAzNi4yMzgxODMgMy43NzI0MDU4MSAzNC41MzM1NzggMy43OTI5Mjc3NiAzNC40MzM1MzM0IDMuOTMxNDUwOTcgMzQuNDMzNTMzNCAzLjk1MTk3MjkyIDM0LjUzMzU3OE0xMTUuMTEyODY3IDYxLjEzOTc4MDlDMTE1LjQ2MzAyMyA2Mi44NDQzODU5IDExNi44MDU5MjkgNjQuMTg2MDA4NyAxMTguNTEwNTM0IDY0LjUzNzQ0NzIgMTE4LjYxMDU3OCA2NC41NTc5NjkyIDExOC42MTA1NzggNjQuNjk2NDkyNCAxMTguNTEwNTM0IDY0LjcxNzAxNDMgMTE2LjgwNTkyOSA2NS4wNjcxNzAyIDExNS40NjMwMjMgNjYuNDEwMDc1NyAxMTUuMTEyODY3IDY4LjExMzM5ODEgMTE1LjA5MjM0NSA2OC4yMTM0NDI2IDExNC45NTM4MjIgNjguMjEzNDQyNiAxMTQuOTMzMyA2OC4xMTMzOTgxIDExNC41ODMxNDQgNjYuNDEwMDc1NyAxMTMuMjQwMjM5IDY1LjA2NzE3MDIgMTExLjUzNTYzNCA2NC43MTcwMTQzIDExMS40MzY4NzIgNjQuNjk2NDkyNCAxMTEuNDM2ODcyIDY0LjU1Nzk2OTIgMTExLjUzNTYzNCA2NC41Mzc0NDcyIDExMy4yNDAyMzkgNjQuMTg2MDA4NyAxMTQuNTgzMTQ0IDYyLjg0NDM4NTkgMTE0LjkzMzMgNjEuMTM5NzgwOSAxMTQuOTUzODIyIDYxLjAzOTczNjMgMTE1LjA5MjM0NSA2MS4wMzk3MzYzIDExNS4xMTI4NjcgNjEuMTM5NzgwOU04OC42OTA5ODQ2LjEyNDkxNTQxN0M4OS4yNzc4ODg4IDIuOTgyNzY4NjYgOTEuNTI5MDEgNS4yMzM4ODk4OCA5NC4zODgxODUxIDUuODIyMTE1OTEgOTQuNTU0NzM5IDUuODU1MTYyMzIgOTQuNTU0NzM5IDYuMDg3ODA5MDIgOTQuMzg4MTg1MSA2LjEyMjE3NzI5IDkxLjUyOTAxIDYuNzEwNDAzMzIgODkuMjc3ODg4OCA4Ljk2MTUyNDU0IDg4LjY5MDk4NDYgMTEuODE5Mzc3OCA4OC42NTc5MzgyIDExLjk4NTkzMTcgODguNDI1MjkxNSAxMS45ODU5MzE3IDg4LjM4OTYwMTQgMTEuODE5Mzc3OCA4Ny44MDI2OTcyIDguOTYxNTI0NTQgODUuNTUxNTc2IDYuNzEwNDAzMzIgODIuNjkzNzIyOCA2LjEyMjE3NzI5IDgyLjUyNzE2ODkgNi4wODc4MDkwMiA4Mi41MjcxNjg5IDUuODU1MTYyMzIgODIuNjkzNzIyOCA1LjgyMjExNTkxIDg1LjU1MTU3NiA1LjIzMzg4OTg4IDg3LjgwMjY5NzIgMi45ODI3Njg2NiA4OC4zODk2MDE0LjEyNDkxNTQxNyA4OC40MjUyOTE1LS4wNDE2Mzg0NzIzIDg4LjY1NzkzODItLjA0MTYzODQ3MjMgODguNjkwOTg0Ni4xMjQ5MTU0MTciLz4KICA8L2c+Cjwvc3ZnPgo="},1680:function(e,t,n){},1681:function(e,t,n){},1682:function(e,t,n){},1683:function(e,t,n){},1687:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},1688:function(e,t,n){var r=n(1855),o=n(1859);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},1689:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},1690:function(e,t,n){var r=n(1861),o=n(2026),a=n(1688);e.exports=function(e){return a(e)?r(e):o(e)}},1691:function(e,t,n){var r=n(2034),o=n(2035),a=n(2036),i=n(2037),c=n(2038);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=c,e.exports=s},1692:function(e,t,n){var r=n(1773);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1693:function(e,t,n){var r=n(1616)(Object,"create");e.exports=r},1694:function(e,t,n){var r=n(2053);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1695:function(e,t,n){"use strict";var r=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultImageIcon=function(e){return i.default.createElement("svg",(0,a.default)({viewBox:"0 0 24 19",width:"24",height:"18",fill:"#e6eaee"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.8 2.5c4.4 0 9.4 15.6 9.4 16H0S2.8 6 6 6.4c1.2 0 1.8 5.8 1.8 5.8s2.5-9.5 5-9.8zm7.8 3c-2 0-3-1.2-3-2.7 0-1.6 1.5-2.8 3-2.8 1.6 0 2.8 1.2 2.8 2.8 0 1.5-1.2 2.7-2.8 2.7z"}))},t.DownloadIcon=function(e){return i.default.createElement("svg",(0,a.default)({width:"22",height:"24",viewBox:"0 0 22 24"},e),i.default.createElement("path",{d:"M12.5529341,14.1404734 L18.169832,9.26282809 C18.7810874,8.65157268 19.7534925,8.63293695 20.3417595,9.22120397 C20.9300266,9.80947106 20.9113909,10.7818762 20.3001355,11.3931316 L13.0513943,17.6878498 L12.2520561,18.4871879 C11.4710076,19.2682365 10.2046776,19.2682365 9.42362902,18.4871879 L8.70753902,17.7710979 L1.69466746,11.7582264 C1.10640039,11.1699593 1.12503611,10.1975542 1.73629152,9.58629879 C2.34754694,8.97504338 3.31995206,8.95640766 3.90821914,9.54467473 L9.54022989,14.3735893 L9.54022989,1.50635209 C9.54022989,0.674416801 10.2146467,1.52824032e-16 11.046582,0 C11.8785173,-8.18957847e-16 12.5529341,0.674416801 12.5529341,1.50635208 L12.5529341,14.1404734 Z M21.298428,22.2454939 L21.298428,22.2581981 C21.298428,23.0866252 20.6268551,23.7581981 19.798428,23.7581981 L2.2947352,23.7581981 C1.466308,23.7581981 0.7947352,23.0866252 0.7947352,22.2581981 L0.7947352,22.2454939 C0.7947352,21.4170668 1.466308,20.7454939 2.2947352,20.7454939 L19.798428,20.7454939 C20.6268551,20.7454939 21.298428,21.4170668 21.298428,22.2454939 Z"}))},t.PauseIcon=function(e){return i.default.createElement("svg",(0,a.default)({width:"100",height:"100",viewBox:"0 0 100 100"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("circle",{cx:"50",cy:"50",r:"47.222",fill:"#000",fillOpacity:".2"}),i.default.createElement("path",{fill:"#FFF",d:"M50,100 C22.3857625,100 0,77.6142375 0,50 C0,22.3857625 22.3857625,0 50,0 C77.6142375,0 100,22.3857625 100,50 C100,77.6142375 77.6142375,100 50,100 Z M50,97.2222222 C76.0801132,97.2222222 97.2222222,76.0801132 97.2222222,50 C97.2222222,23.9198868 76.0801132,2.77777778 50,2.77777778 C23.9198868,2.77777778 2.77777778,23.9198868 2.77777778,50 C2.77777778,76.0801132 23.9198868,97.2222222 50,97.2222222 Z M66.0426405,48.1352959 C67.5072274,49.0506627 67.5117218,50.5319565 66.0426405,51.4501323 L43.8196795,65.339483 C42.3550926,66.2548498 41.1678103,65.6054361 41.1678103,63.8674518 L41.1678103,35.7179765 C41.1678103,33.9896292 42.3505982,33.3277694 43.8196795,34.2459452 L66.0426405,48.1352959 Z"})))},t.TriangleIcon=s,t.CloseIcon=l,t.ArrowDown=function(e){return i.default.createElement("svg",(0,a.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z"}))},t.ArrowUp=function(e){return i.default.createElement("svg",(0,a.default)({width:"22",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z",transform:"matrix(1 0 0 -1 0 24)"}))},t.AddIcon=u,t.DownloadIconWhite=function(e){return i.default.createElement("svg",(0,a.default)({width:"12",height:"14",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M41,34.647593 L46.4821856,29.8952505 C47.0573478,29.3171615 47.9939599,29.3212723 48.5741674,29.9044323 C49.1543749,30.4875923 49.1584649,31.4289706 48.5833027,32.0070596 L41.7409518,37.9384886 L41.0759034,38.6069213 C40.2968396,39.3899495 39.0305137,39.3931633 38.2474854,38.6140995 C38.2450866,38.6117128 38.2426938,38.6093201 38.2403072,38.6069213 L37.5569882,37.920125 L30.6628707,31.936666 C30.0826632,31.353506 30.0785732,30.4121277 30.6537354,29.8340386 C31.2288976,29.2559496 32.1655097,29.2600604 32.7457172,29.8432204 L38,34.403454 L38,22.5 C38,21.6715729 38.6715729,21 39.5,21 C40.3284271,21 41,21.6715729 41,22.5 L41,34.647593 Z M49,42.5 C49,43.3284271 48.3284271,44 47.5,44 L31.5,44 C30.6715729,44 30,43.3284271 30,42.5 C30,41.6715729 30.6715729,41 31.5,41 L47.5,41 C48.3284271,41 49,41.6715729 49,42.5 Z",transform:"translate(-30 -21)"}))},t.ActiveStar=function(e){var t=e.style;return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:t},i.default.createElement("path",{fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.UnActiveStar=function(e){return i.default.createElement("svg",(0,a.default)({width:"16",height:"16",viewBox:"0 0 24 25"},e),i.default.createElement("path",{fill:"none",stroke:"#FA0",strokeWidth:"1.764",d:"M11.9819001,0.879433133 C11.9795516,0.880021622 11.9838641,0.88895781 11.971605,0.931278979 L9.35049088,9.81286791 L8.69117778,9.81286791 L0.919983421,9.8127698 C0.919003912,9.81278441 0.901713576,9.82663106 0.888917203,9.87045367 C0.870461414,9.93365758 0.891089579,10.0000872 0.912838593,10.0169576 L7.7173316,15.1202144 L7.54568587,15.7068089 L5.12624332,23.9743743 C5.10962557,24.0267157 5.12267547,24.0829123 5.14588507,24.110054 L11.9857433,18.4090959 L12.5501987,18.8772825 L18.8564176,24.1084404 C18.8797348,24.0814822 18.8926963,24.023831 18.8720512,23.9578624 L16.254506,15.1071827 L16.7478316,14.7396633 L23.0777374,10.0241232 C23.1088665,10.000165 23.1295357,9.93375829 23.111104,9.87052561 C23.0983169,9.82665738 23.0810031,9.81278318 23.0932681,9.81286791 L14.6235931,9.81286791 L14.4369752,9.18051713 L12.0011958,0.92688923 C11.9873473,0.879051627 11.9964848,0.872771777 12.0017908,0.875210734 Z"}))},t.VarietyStar=function(e){return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:e.style},i.default.createElement("clipPath",{id:"cut-off-bottom-test"},i.default.createElement("rect",{x:"0",y:"0",width:e.cutWidth,height:"25"})),i.default.createElement("path",{clipPath:"url(#cut-off-bottom-test)",fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.Pad=function(e){return i.default.createElement("svg",(0,a.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 24 25"}),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M9.705 2h4.854c.855-.021 1.568.635 1.595 1.47v1.96a1.498 1.498 0 0 1-.486 1.057 1.57 1.57 0 0 1-1.109.412H9.705c-.854.022-1.565-.635-1.59-1.47V3.47c.025-.834.736-1.491 1.59-1.47zm.46 1.402a.504.504 0 0 0-.414.164.667.667 0 0 0-.174.458v.852c0 .174.063.34.174.458a.504.504 0 0 0 .413.164h3.941a.503.503 0 0 0 .413-.164.666.666 0 0 0 .174-.458v-.852a.666.666 0 0 0-.174-.458.503.503 0 0 0-.413-.164h-3.94zM11.456 14.71l5.01-4.603c.232-.213.963-.736 1.573-.108.372.456.449.976 0 1.42l-5.78 5.16c-.238.22-.558.34-.888.33a1.253 1.253 0 0 1-.868-.375 1.021 1.021 0 0 1-.156-.201l-.09-.08-3.252-3.348c-.452-.464-.485-1.053 0-1.485.485-.432 1.078-.2 1.53.264l2.92 3.026z",fill:"#8590A6"}),i.default.createElement("path",{d:"M19.005 4.625c1.5 0 2.727 1.191 2.727 2.648v12.542c0 1.456-1.227 2.648-2.727 2.648H5.727c-1.5 0-2.727-1.192-2.727-2.648V7.273c0-1.457 1.227-2.648 2.727-2.648",stroke:"#8590A6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))},t.CloseIconOpacity=function(e){return i.default.createElement("svg",(0,a.default)({},e,{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),i.default.createElement("g",{id:"回答页卡片测试",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"突出功能区1-安装",transform:"translate(-645.000000, -380.000000)"},i.default.createElement("g",{id:"关闭",transform:"translate(645.000000, 380.000000)"},i.default.createElement("circle",{id:"Oval-2",fill:"#000000",opacity:"0.399999976",cx:"18",cy:"18",r:"18"}),i.default.createElement("path",{d:"M18,19.3076607 L10.5784861,26.7291746 C10.2173856,27.0902751 9.63192593,27.0902751 9.2708254,26.7291746 C8.90972487,26.3680741 8.90972487,25.7826144 9.2708254,25.4215139 L16.6923393,18 L9.2708254,10.5784861 C8.90972487,10.2173856 8.90972487,9.63192593 9.2708254,9.2708254 C9.63192593,8.90972487 10.2173856,8.90972487 10.5784861,9.2708254 L18,16.6923393 L25.4215139,9.2708254 C25.7826144,8.90972487 26.3680741,8.90972487 26.7291746,9.2708254 C27.0902751,9.63192593 27.0902751,10.2173856 26.7291746,10.5784861 L19.3076607,18 L26.7291746,25.4215139 C27.0902751,25.7826144 27.0902751,26.3680741 26.7291746,26.7291746 C26.3680741,27.0902751 25.7826144,27.0902751 25.4215139,26.7291746 L18,19.3076607 Z",id:"Combined-Shape",stroke:"#FFFFFF",fill:"#FFFFFF",strokeLinecap:"round"})))))},t.default=function(e){var t=e.className,n=e.name,r=(0,o.default)(e,["className","name"]),s=p[n];return s?i.default.createElement(s,(0,a.default)({className:(0,c.default)("Icon Icon--".concat(n),t)},r)):null};var o=r(n(1790)),a=r(n(1687)),i=r(n(0)),c=r(n(2));function s(e){return i.default.createElement("svg",(0,a.default)({},e,{viewBox:"0 0 24 24"}),i.default.createElement("path",{d:"M9.218 16.78a.737.737 0 0 0 1.052 0l4.512-4.249a.758.758 0 0 0 0-1.063L10.27 7.22a.737.737 0 0 0-1.052 0 .759.759 0 0 0-.001 1.063L13 12l-3.782 3.716a.758.758 0 0 0 0 1.063z",fillRule:"evenodd"}))}function l(e){return i.default.createElement("svg",(0,a.default)({viewBox:"0 0 12 12"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M3 2L2 3l3 3-3 3 1 1 3-3 3 3 1-1-3-3 3-3-1-1-3 3"}))}function u(e){return i.default.createElement("svg",(0,a.default)({viewBox:"0 0 24 24"},e),i.default.createElement("path",{d:"M13.491 10.488s-.012-5.387 0-5.998c-.037-1.987-3.035-1.987-2.997 0-.038 1.912 0 5.998 0 5.998H4.499c-1.999.01-1.999 3.009 0 3.009s5.995-.01 5.995-.01v5.999c0 2.019 3.006 2.019 2.997 0-.01-2.019 0-5.998 0-5.998s3.996.009 6.004.009c2.008 0 2.008-3-.01-3.009h-5.994z",fillRule:"evenodd"}))}var p={close:l,triangle:s,add:u}},1697:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(17),s=n(387),l=n(61),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=!1,f="pointer";function d(){f="pointer"}function m(){f="wheel"}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.currentDirection=null,a.lastEmitDirection=null,a.startPosition=0,a.previousPosition=0,a.handleScroll=function(){var e=window.pageYOffset;if(!(e<0)){var t=e<a.previousPosition?"up":"down";t!==a.currentDirection&&(a.currentDirection=t,a.startPosition=a.previousPosition),a.previousPosition=e;var n=a.props,r=n.threshold,o=n.emitOnce,i=n.onScrollUp,c=n.onScrollDown;Math.abs(a.startPosition-e)>=r&&("wheel"!==f||o&&a.lastEmitDirection===t||("up"===t&&i&&i(),"down"===t&&c&&c()),a.lastEmitDirection=t,a.startPosition=e)}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),u(t,[{key:"componentDidMount",value:function(){p||(window.addEventListener("click",d),window.addEventListener("wheel",m,{passive:!0}),window.addEventListener("mousewheel",m,{passive:!0}),window.addEventListener("touchmove",m,{passive:!0}),p=!0);var e=this.props,t=e.throttleRate,n=e.useRAF,r=window.pageYOffset;this.startPosition=r,this.previousPosition=r,this.subscription=Object(l.subscribe)("scroll",this.handleScroll,{throttleRate:t,useRAF:n})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"render",value:function(){return this.props.children||null}}]),t}();h.propTypes={throttleRate:i.a.number,useRAF:i.a.bool,emitOnce:i.a.bool,threshold:i.a.number,onScrollUp:i.a.func,onScrollDown:i.a.func},h.defaultProps={threshold:100,useRAF:!0,emitOnce:!0};var y,b,v=h,g=n(168),w=n(10),M=(n(1663),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=(b=y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={enabled:!1,shown:!1},r.handleScrollUp=function(){r.state.shown&&r.canToggle()&&r.setState({shown:!1})},r.handleScrollDown=function(){!r.state.shown&&r.canToggle()&&r.setState({shown:!0})},r.handlePositionStatusChange=function(e){r.canToggle()&&("normal"!==e?r.enable():r.disable())},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),M(t,[{key:"componentDidMount",value:function(){this.appHeader=document.querySelector(".AppHeader"),this.portal=document.createElement("div"),this.portal.classList.add("PageHeader"),this.appHeader.appendChild(this.portal),this.renderPortal()}},{key:"componentWillReceiveProps",value:function(e){this.renderPortal(e)}},{key:"componentDidUpdate",value:function(e,t){var n=t.shown,r=this.state.shown,o=this.props.onStatusChange;n!==r&&o&&o(r),!n&&r&&(this.appHeader.classList.add("is-hidden"),this.portal.classList.add("is-shown")),n&&!r&&(this.appHeader.classList.remove("is-hidden"),this.portal.classList.remove("is-shown"))}},{key:"componentWillUnmount",value:function(){this.appHeader.classList.remove("is-hidden"),Object(c.unmountComponentAtNode)(this.portal),this.appHeader.removeChild(this.portal)}},{key:"canToggle",value:function(){return!(this.props.prevent||document.activeElement&&document.activeElement.closest(".SearchBar"))}},{key:"enable",value:function(){this.setState({enabled:!0,shown:!0})}},{key:"disable",value:function(){this.setState({enabled:!1,shown:!1})}},{key:"renderPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;Object(c.unstable_renderSubtreeIntoContainer)(this,e.children,this.portal)}},{key:"render",value:function(){var e=this,t=this.props.offset,n=this.state.enabled;return o.a.createElement("div",null,o.a.createElement(g.a,{keyMap:{FOCUS_SEARCH:"/"},handlers:{FOCUS_SEARCH:function(){return e.setState({shown:!1})}}}),o.a.createElement(s.a,{offset:t,onPositionStatusChange:this.handlePositionStatusChange},o.a.createElement("div",null)),n&&o.a.createElement(v,{onScrollUp:this.handleScrollUp,onScrollDown:this.handleScrollDown}))}}]),t}(),y.propTypes={prevent:i.a.bool,offset:i.a.number,onStatusChange:i.a.func},y.defaultProps={prevent:!1,offset:w.f},b);n.d(t,"a",function(){return T});var O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={show:!1},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),O(t,[{key:"componentDidMount",value:function(){this.appHeader=document.querySelector(".AppHeader"),this.setState({show:Boolean(this.appHeader)})}},{key:"render",value:function(){return this.state.show?o.a.createElement(E,this.props):null}}]),t}()},1698:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1803)),a=s(n(0)),i=s(n(1620)),c=(s(n(1804)),n(1805));function s(e){return e&&e.__esModule?e:{default:e}}i.default.any,i.default.func,i.default.node;var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,c.getChildMapping)(n.children)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,c.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,c.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var a in n){var i=t&&t.hasOwnProperty(a);!n[a]||i||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,c=e.props.childFactory(r),s=function(t){e.childRefs[n]=t};c===r&&i&&(s=(0,o.default)(r.ref,s)),t.push(a.default.cloneElement(c,{key:n,ref:s}))}};for(var i in this.state.children)n(i);var c=r({},this.props);return delete c.transitionLeave,delete c.transitionName,delete c.transitionAppear,delete c.transitionEnter,delete c.childFactory,delete c.transitionLeaveTimeout,delete c.transitionEnterTimeout,delete c.transitionAppearTimeout,delete c.component,a.default.createElement(this.props.component,c,t)},t}(a.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},1699:function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(1620));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},1700:function(e,t,n){e.exports=n.p+"assets/logo.f6eef033.png"},1701:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(24),i=function(e,t){return t>=e+1?"rating":t>=e+.5?"ratingHalf":"ratingNone"};t.a=function(e){var t=e.score;if(0===t)return null;var n=Math.round(2*t)/2;return o.a.createElement("div",{className:"Rating"},Array.from({length:5}).map(function(e,t){return o.a.createElement(a.a,{style:{marginLeft:0},key:t,width:15,height:15,name:i(t,n)})}))}},1702:function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}},1705:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),c=n(13),s=n(2),l=n.n(s),u=n(688),p=n.n(u),f=n(1883),d=n(1884),m=n(8),h=function(e){return i.a.createElement(m.a,e,i.a.createElement("path",{d:"M12 2C6.478 2 2 6.498 2 12.013 2 17.527 6.478 22 12 22s10-4.473 10-9.987C22.025 6.498 17.547 2 12 2zm3.575 14.693s-3.677-2.45-4.135-2.8c-.458-.349-.458-.813-.458-.813l.005-5.66c0-.56.458-1.017 1.018-1.017s1.017.457 1.017 1.017l-.004 5.152 3.727 2.495c.458.305.62.99.27 1.44-.35.45-1.004.487-1.44.186z",fillRule:"evenodd"}))};h.defaultProps={name:"Time"};var y=h,b=n(4),v=n(24),g=n(38),w=n(213),M=n(387),N=n(140),E=n(142),O=n(384),j=n(21),T=n.n(j),C=n(1726),k=n(293),D=n(9),I=n(385),A=n(132),z=(n(1645),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x="AnswerOrg::know",_=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleHide=function(){T.a.set(x,!0),r.props.onClose()},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),z(t,[{key:"render",value:function(){var e=this.props,t=e.shown,n=e.onClose;return i.a.createElement(A.b,{title:"机构帐号提问规则",subtitle:"这是一个「机构提问」，请在回答前了解以下规则",onClose:n},t&&i.a.createElement("div",null,i.a.createElement("ul",{className:"AnswerModal-list"},i.a.createElement("li",null,"1. 提问机构如需使用你的回答，由提问机构联系你，共同商定确认使用条件。"),i.a.createElement("li",null,"2.「机构提问」下的回答，站内传播与社区公共提问下的回答有所区别。"),i.a.createElement("li",null,"3. 提问机构可能「隐藏」回答，被「隐藏」回答不在社区内流通。")),i.a.createElement("a",{className:"AnswerModal-moreLink",href:"/org-intro#org-question",target:"_blank"},"了解更多"),i.a.createElement(A.a,{direction:"horizontal"},i.a.createElement(b.c,{onClick:this.handleHide},"不再显示"),i.a.createElement(b.c,{color:"blue",preset:"primary",onClick:n},"知道了"))))}}],[{key:"getKnown",value:function(){return T.a.get(x)}}]),t}(),P=n(32),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Q="AnswerBrand::know",U=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleHide=function(){T.a.set(Q,!0),r.props.onClose()},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),L(t,[{key:"render",value:function(){var e=this.props,t=e.shown,n=e.onClose;return i.a.createElement(P.b,{title:"品牌提问规则",subtitle:"这是一个「品牌提问」，请在回答前了解：",onClose:n},t&&i.a.createElement("div",null,i.a.createElement("p",null,"「品牌提问」由品牌方管理，回答由品牌方筛选后展示，传播与社区提问有所区别。回答著作权归作者所有。"),i.a.createElement("a",{className:"AnswerModal-moreLink",href:"/introduction/brand_question",target:"_blank"},"了解品牌提问"),i.a.createElement(P.a,{direction:"horizontal"},i.a.createElement(b.c,{onClick:this.handleHide},"知道了，继续回答"),i.a.createElement(b.c,{color:"blue",preset:"primary",onClick:n},"取消"))))}}],[{key:"getKnown",value:function(){return T.a.get(Q)}}]),t}(),B=(n(1728),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q,H,F=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=r.props.handleChange,n=e.target.checked;t(e),D.default.trackEvent(r.circle,{id:4063,action:n?"Open":"Close"})},Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),B(t,[{key:"componentDidMount",value:function(){D.default.trackCardShow(this,{id:4062})}},{key:"render",value:function(){var e=this,t=this.props,n=t.draft,r=t.isAnswerRewardable,o=t.isChecked;return i.a.createElement("label",{className:l()("CircleEntry-openCircleLabel",{"CircleEntry-openCircleLabel--withoutReward":!n&&!r,"CircleEntry-openCircleDraftsLabel":n,"CircleEntry-openCircleDraftsLabel--withoutReward":n&&!r}),ref:function(t){e.circle=t},htmlFor:"CircleEntry-openCircleInput"},i.a.createElement("input",{type:"checkbox",id:"CircleEntry-openCircleInput",checked:o,onChange:this.handleChange}),"发布到圈内说")}}]),t}(),V=n(1615),W=n(409),G=n(1646),Z=n(426),J=n(137),K=n(134),X=n(1581),$=n(1730),ee=n.n($),te=(n(1731),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var re,oe,ae={current:"当前草稿",saved:"自动保存",published:"发布过的版本"},ie=(H=q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.formatDate=function(e){return Object(J.format)("current"===e.versionType?1e3*e.updatedAt:1e3*e.createdAt,"YYYY-MM-DD HH:mm")},r.handleDraftClick=function(e){e.preventDefault()},ne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),te(t,[{key:"renderCurrentDraft",value:function(){var e=this.props,t=e.currentDraft,n=e.onRevert,r=t.isFetching,o=t.data;return i.a.createElement("div",{className:"DraftHistory-main"},r&&i.a.createElement(N.a,{className:"DraftHistory-loading"}),!r&&o&&i.a.createElement(i.a.Fragment,null,o.draft.title&&i.a.createElement("div",{className:"DraftHistory-draftTitle"},o.draft.title),i.a.createElement(X.a,{className:"DraftHistory-draft",html:o.draft.content,onClick:this.handleDraftClick}),i.a.createElement("div",{className:"DraftHistory-actions"},i.a.createElement("div",{className:"DraftHistory-meta"},this.formatDate(o)," ",ae[o.versionType]),i.a.createElement(b.c,{className:"DraftHistory-revert",disabled:"current"===o.versionType,onClick:function(){return n(o)}},"恢复此版本"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,r=t.currentVersion,o=t.currentDraft,a=t.getHistory,c=t.onSelect;return n?n.isFetching&&!n.items?i.a.createElement("div",{className:"DraftHistory"},i.a.createElement(N.a,{className:"DraftHistory-loading"})):i.a.createElement("div",{className:"DraftHistory"},i.a.createElement("div",{className:"DraftHistory-side"},i.a.createElement("div",{className:"DraftHistory-title"},"历史版本"),i.a.createElement(K.b,{className:"DraftHistory-history",getContainer:function(e){return e},isLoading:n.isFetching,isDrained:n.isDrained,onLoad:a},i.a.createElement("div",null,n.items&&n.items.map(function(t,n){return i.a.createElement("a",{key:n,href:"javascript:;",className:l()("DraftHistory-version",{"DraftHistory-version--selected":r&&t.versionType===r.versionType&&t.id===r.id}),onClick:function(){return c(t)}},i.a.createElement("div",{className:"DraftHistory-versionDate"},e.formatDate(t)),i.a.createElement("div",{className:"DraftHistory-versionType"},ae[t.versionType]))})))),n.items&&!n.items.length&&i.a.createElement("div",{className:"DraftHistory-main"},i.a.createElement("div",{className:"DraftHistory-empty"},i.a.createElement(ee.a,{className:"DraftHistory-emptyIcon"}),i.a.createElement("div",{className:"DraftHistory-emptyText"},"还没有历史版本"))),o&&this.renderCurrentDraft()):null}}]),t}(),q.propTypes={history:o.a.object,currentVersion:o.a.object,currentDraft:o.a.object,onSelect:o.a.func,onRevert:o.a.func},H),ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var le,ue,pe=(oe=re=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=se(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={currentVersion:null},r.getHistory=function(){var e=r.props,t=e.type,n=e.id;(0,e.getHistory)(t,n)},r.handleSelect=function(e){r.setState({currentVersion:e})},r.handleRevert=function(e){var t=r.props,n=t.revert,o=t.onReverted;n(e.versionType,e.id).then(function(){o&&o(e)})},se(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),ce(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.id;(0,e.getHistory)(t,n)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.drafts,o=n.getDraft,a=this.state.currentVersion,i=t.currentVersion;!a||i&&i.versionType===a.versionType&&i.id===a.id||r[a.versionType+"_"+a.id]||o(a.versionType,a.id)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.type,n=e.id;(0,e.reset)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.drafts,r=this.state.currentVersion;return i.a.createElement(ie,{history:t,currentVersion:r,currentDraft:r?n[r.versionType+"_"+r.id]:null,getHistory:this.getHistory,onSelect:this.handleSelect,onRevert:this.handleRevert})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.history&&e.history.items&&e.history.items.length&&!t.currentVersion?{currentVersion:e.history.items[0]}:null}}]),t}(),re.propTypes={type:o.a.string.isRequired,id:o.a.number.isRequired,onReverted:o.a.func},oe),fe=Object(c.connect)(function(e,t){var n=t.type,r=t.id;return{history:e.draftHistory.history[n+"_"+r],drafts:e.draftHistory.drafts}},{getHistory:Z.c,getDraft:Z.b,revert:Z.e,reset:Z.d})(pe),de=(n(1732),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var he,ye,be,ve,ge,we,Me=(ue=le=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=me(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleReverted=function(e){var t=r.props,n=t.onClose,o=t.onReverted;o&&o(e),n&&n(),D.default.trackEvent(null,{id:5016,action:"Click"})},r.handleClose=function(){var e=r.props.onClose;e&&e(),D.default.trackEvent(null,{id:5015,action:"Click"})},me(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),de(t,[{key:"render",value:function(){var e=this.props,t=e.shown,n=e.type,r=e.id;return i.a.createElement(P.b,{className:"DraftHistoryModal",size:"fullPage",onClose:this.handleClose},t&&i.a.createElement(fe,{type:n,id:r,onReverted:this.handleReverted}))}}]),t}(),le.propTypes={shown:o.a.bool.isRequired,onClose:o.a.func,type:o.a.string.isRequired,id:o.a.number.isRequired,onReverted:o.a.func},le.defaultProps={shown:!0},ue),Ne=n(1625),Ee=n(58),Oe=n(207),je=n(14),Te=n(18),Ce=n(410),ke=n(1643),De=n(1700),Ie=n.n(De),Ae=n(10),ze=(n(1733),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Se=(ge=["草稿保存于",""],we=["草稿保存于",""],Object.freeze(Object.defineProperties(ge,{raw:{value:Object.freeze(we)}})));var xe={allowed:"允许规范转载",need_payment:"允许付费转载",disallowed:"禁止转载"},_e=Object(c.connect)(function(e,t){var n=e.entities,r=n.questions,o=n.drafts,a=void 0===o?{}:o,i=n.answers,c=e.switches,s=e.question,l=Object(Te.c)(e),u=Object.values(i).filter(function(e){return e.author&&e.author.urlToken===(l&&l.urlToken)})[0]||{},p=u.rewardInfo&&u.rewardInfo.tagline;return{question:r[t.question.id]||t.question,draft:a["question_"+t.question.id],switches:c,rewardTagline:p,currentUser:l,isPuQuestion:Boolean(s&&s.brand&&s.brand.isPuQuestion)}},{addDraft:Ee.b,updateDraft:Ee.M,deleteDraft:Ee.i,showNotification:je.g,updateQuestionRewardinfo:Oe.n,loadCurrentUser:Te.j},null,{withRef:!0})((be=ye=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));ve.call(r);var o=r.props,a=o.defaultValue,i=o.draft,c=i?i.editableContent:a,s=i?i.updatedTime:0;return r.state={draft:c,content:{toHTML:function(){return""}},isEmpty:!c,isTyping:!1,isChecked:n.isCheckedCircle,reshipmentSettings:null,commentPermission:null,answerModalShown:!1,focusing:!1,selectedText:null,loadingShown:!1,isUploading:!1,rewardNotication:!0,checked:e.isRewardable,isFullscreen:!1,isToolbarSticky:!1,isLeaveActive:!1,toolbarMenuAttention:null,dateNow:0,rewardModalShown:!1,lastUpdatedTime:s,rewardTagline:e.rewardTagline,draftHistoryModalShown:!1},r.hasEdited=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),ze(t,[{key:"componentDidMount",value:function(){var e,t=this;this.shouldAnswerOrgQuestionModalShow=!_.getKnown(),this.onFocusAuthChecked=!1,"draft_history"!==T.a.get("last_viewed_attention")&&(e="draft_history",T.a.set("last_viewed_attention",e),this.setState({toolbarMenuAttention:"现在可以查看「历史版本」了"})),document.addEventListener("compositionstart",this.onCompositionStart),document.addEventListener("compositionend",this.onCompositionEnd),window.onbeforeunload=function(){return t.state.isUploading||t.composition||t.syncDraft.isPending()||t.props.draft&&t.props.draft.updating?"草稿尚未保存完毕，确定离开此页？":void 0},this.setState({dateNow:Date.now()}),this.reRenderTimer=setInterval(function(){return t.setState({dateNow:Date.now()})},6e4);var n=this.props,r=n.currentUser,o=n.loadCurrentUser;!r||void 0!==r.lastCommentPermission&&void 0!==r.caEnabled||o("last_comment_permission,ca_enabled")}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.state,r=e.currentUser,o={};if(n.reshipmentSettings||void 0===r.caEnabled||(o.reshipmentSettings=r.caEnabled?"need_payment":"allowed"),t.isCheckedCircle!==n.isChecked&&this.setState({isChecked:t.isCheckedCircle}),n.commentPermission||void 0===r.lastCommentPermission||(o.commentPermission=r.lastCommentPermission),Object.keys(o).length&&this.setState(o),!this.draftLoaded&&!this.state.draft&&!this.props.draft&&e.draft){var a=e.draft.editableContent;a&&(this.setState({draft:a,isEmpty:!a}),this.editable&&!this.editable.toHTML()&&this.editable.resetWithValue(a)),this.draftLoaded=!0}}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.focusing;if(this.props.tagline){var n=T.a.get("rewardNotication");t&&!n&&(this.setState({rewardNotication:!1}),T.a.set("rewardNotication",!0),this.timeout=setTimeout(function(){e.setState({rewardNotication:!0})},2e3))}}},{key:"componentWillUnmount",value:function(){this.syncDraft.cancel(),document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd),window.onbeforeunload=null,this.timeout&&clearTimeout(this.timeout),this.reRenderTimer&&clearInterval(this.reRenderTimer)}},{key:"getCloneContent",value:function(){return this.editable.state.editorState.getCurrentContent()}},{key:"deleteDraft",value:function(){var e=this.props,t=e.question,n=e.draft,r=e.deleteDraft;n&&r(t.id)}},{key:"renderReshipmentSettings",value:function(e){var t=this;return Object.keys(xe).map(function(n){var r=Object(ke.a)(n,e);return i.a.createElement(g.b,{key:n,onClick:function(){return t.handleReshipmentSettings(n)},className:Object(ke.b)(n,e)},r&&i.a.createElement(v.a,{className:"Button-icon",name:r}),xe[n])})}},{key:"renderFooter",value:function(){var e=this,t=this.props,n=t.draft,r=t.isEdit,o=t.switches,a=t.rewardTagline,c=t.question,s=c.commercial,u=c.relationship.isAnonymous,f=c.circleInfo,d=(f=void 0===f?{}:f).canWriteCircle,m=this.state,h=m.checked,y=m.commentPermission,w=m.focusing,E=m.isEmpty,j=m.isTyping,T=m.isChecked,C=m.isFullscreen,k=m.loadingShown,D=m.reshipmentSettings,I=m.rewardNotication,A=m.rewardModalShown,z=m.rewardTagline,S=m.selectedText,x=m.dateNow,_=null;if(k)_=i.a.createElement(N.a,{count:3});else if(S)_=S.length+" 个字";else if(n){var P=null;P=n.updating||j?"草稿保存中…":n.updated&&x<1e3*n.updatedTime+6e4?"草稿已保存":n.updateFailed?i.a.createElement("span",{className:"AnswerForm-draftStatus--failed"},"草稿保存失败"):p()(Se,Object(O.toRelativeString)(n.updatedTime)),_=i.a.createElement("div",null,i.a.createElement(b.c,{preset:"plain",className:"AnswerForm-delete","aria-label":"删除草稿","data-tooltip":"删除草稿",onClick:this.onDeleteDraftModalShow},i.a.createElement(v.a,{name:"delete"})),P)}else s&&s.tip&&s.tip.message&&(_=s.tip.message);var L=i.a.createElement("div",{className:l()("AnswerForm-footer",{"AnswerForm-footer--hidden":!C&&!w&&E})},i.a.createElement("div",{className:"AnswerForm-footerContent AnswerForm-container"},i.a.createElement("div",{className:"AnswerForm-status"},_),!I&&i.a.createElement("span",{className:"AnswerForm-Notication"},"你的回答可以开启赞赏了"),!u&&d&&i.a.createElement(F,{isChecked:T,draft:n,isAnswerRewardable:o.isAnswerRewardable,handleChange:this.onChangecircleSettings}),o.isAnswerRewardable&&i.a.createElement("div",{className:"AnswerForm-openRewardButton"},i.a.createElement("label",{className:l()("AnswerForm-openRewardLabel",{"AnswerForm-openRewardDraftsLabel":n}),ref:function(t){e.label=t},htmlFor:"AnswerForm-openRewardInput"},i.a.createElement("input",{type:"checkbox",id:"AnswerForm-openRewardInput",checked:h,onChange:this.onChangerewardSettings}),"开启赞赏"),A&&i.a.createElement(G.a,{submitRewardText:this.onSubmitReward,onClose:this.unactivateReward,tagline:z||a,edit:!1})),i.a.createElement("div",{className:"AnswerForm-footerRight"},r?i.a.createElement("a",{className:"AnswerForm-cancel",onClick:this.onCancel},n?"保存草稿并离开":"取消"):i.a.createElement(g.c,{toggler:i.a.createElement(b.c,{preset:"plain",onRef:function(t){e.settingsTogglerEl=t}},i.a.createElement(v.a,{left:!0,name:"setting"}),"设置"),reversed:!0,menuClassName:"AnswerItem-selfMenu",itemClassName:"AnswerItem-selectMenuItem"},this.renderReshipmentSettings(D),i.a.createElement(g.a,null),i.a.createElement(Ne.c,{onChange:this.handleChangeCommentPermission,current:y})),i.a.createElement(b.c,{className:"AnswerForm-submit",preset:"primary",color:"blue",onClick:this.onSubmit},r?"提交修改":"提交回答"))));return!C?i.a.createElement(M.a,{bottom:!0,container:function(){return e.form}},L):L}},{key:"render",value:function(){var e=this,t=this.props,n=t.bordered,r=t.className,o=t.defaultValue,a=t.draft,c=t.isEdit,s=t.question,u=t.currentUser,p=t.isPuQuestion,d=this.state,m=d.deleteDraftModalShown,h=d.isFullscreen,y=d.isToolbarSticky,v=d.isLeaveActive,g=d.toolbarMenuAttention,w=d.draftHistoryModalShown,M=(c?"修改":"写")+"回答...";if("commercial"===s.questionType){var N=p?"大咖提问":"品牌提问";M="这是一个「"+N+"」，请在回答前了解：「"+N+"」由品牌方管理，回答由品牌方筛选后展示，传播与社区提问有所区别。回答著作权归作者所有。"}var E=i.a.createElement(W.a,{className:l()("AnswerForm-editor","AnswerForm-container",{isToolbarSticky:y}),onRef:function(t){e.editable=t},large:!0,spread:!0,allowDragAndDrop:!0,allowLinkCard:!0,allowMention:!0,allowToolbar:!0,allowUploadDocument:!0,allowVideoTitleChange:!0,allowReference:!0,allowHeaderThree:!1,allowToolbarSticky:!h,toolbarStickyOffset:Ae.f,getToolbarPlugins:this.getToolbarPlugins,getToolbarMenuPlugins:this.getToolbarMenuPlugins,toolbarMenuAttention:g,minRows:3,placeholder:M,defaultValue:a?a.editableContent:o,onChange:this.onChangeContent,onAfterChange:this.onAfterChangeContent,onFocus:this.onFocusWithAuth,onSelectText:this.onSelectText,onSubmit:this.onSubmit,onError:this.handleError,onLoadStart:this.onLoadStart,onLoadEnd:this.onLoadEnd,onUploadStart:this.handleUploadStart,onUploadEnd:this.handleUploadEnd,onUploadError:this.handleUploadError,onBeforeVideoUpload:this.handleBeforeVideoUpload,logo:Ie.a,location:s.title,editingContentType:"answer"});return i.a.createElement(I.a,{module:"AnswerEditView",content:{type:"Answer",parent_token:String(s.id),author_member_hash_id:u.id}},i.a.createElement("form",{ref:function(t){e.form=t},className:l()("AnswerForm",r,{"AnswerForm--bordered":n}),onSubmit:function(e){return e.preventDefault()},noValidate:!0},h&&i.a.createElement("div",{className:l()("AnswerForm-fullscreenBackdrop",{isLeaveActive:v})}),i.a.createElement("div",{className:l()({"AnswerForm-fullscreenContent":h,isLeaveActive:v}),ref:function(t){return e.fullscreenContent=t}},i.a.createElement("div",{className:l()({"AnswerForm-fullscreenScroller":h}),ref:function(t){return e.scroller=t},onScroll:this.handleScroll},h&&i.a.createElement("div",{className:"AnswerForm-container",ref:this.handleFullscreenRef},i.a.createElement("div",{className:"AnswerForm-title"},s.title)),h&&i.a.createElement(b.c,{className:"AnswerForm-exitFullscreenButton",onClick:this.exitFullscreen,onMouseDown:function(e){return e.preventDefault()}},i.a.createElement(f.a,{text:!0,center:!0})," 退出全屏模式"),E),this.renderFooter()),h&&i.a.cloneElement(E,{readOnly:!0,className:"AnswerForm-cloneEditor",defaultValue:this.getCloneContent(),allowToolbarSticky:!1,toolbarMenuAttention:null,onRef:function(t){return e.cloneEditor=t}}),"org"===s.questionType&&i.a.createElement(_,{shown:this.state.answerModalShown,onClose:this.handleAnswerModalHide}),"commercial"===s.questionType&&i.a.createElement(U,{shown:this.state.answerModalShown,onClose:this.handleAnswerModalHide}),i.a.createElement(V.a,{title:"清除草稿",subtitle:c?"你确定要清除保存的草稿并取消编辑吗？":"你确定要清除保存的草稿吗？",shown:m,onCancel:this.onDeleteDraftModalHide,onSubmit:this.onDeleteDraft}),i.a.createElement(Me,{shown:w,onClose:this.hideDraftHistoryModal,type:"question",id:s.id,onReverted:this.handleReverted})))}}]),t}(),ye.propTypes={question:o.a.object,bordered:o.a.bool,isEdit:o.a.bool,defaultValue:o.a.string},ye.defaultProps={bordered:!1,isEdit:!1},ye.contextTypes={authRequired:o.a.func,isCheckedCircle:o.a.bool,onChangecircleSettings:o.a.func},ve=function(){var e=this;this.onCompositionStart=function(){e.composition=!0,e.syncDraft.cancel()},this.onCompositionEnd=function(){e.composition=!1,e.prevValue&&e.syncDraft(e.prevValue),e.prevValue=null},this.onChangeContent=function(t){e.loggingDeltaTime||(e.loggingDeltaTime=!0,e.startCompositionTime=Math.floor((new Date).getTime()/1e3)),e.hasEdited=!0,e.setState({content:t,isEmpty:t.isEmpty,isTyping:!0}),e.composition?e.prevValue=t:e.syncDraft(t)},this.onAfterChangeContent=function(e){var t=e.getSelection().getIsBackward(),n=document.getSelection();if(n.rangeCount){var r=n.getRangeAt(0).cloneRange();r.collapse(t);var o=r.getBoundingClientRect();if(0===o.height){var a=r.commonAncestorContainer;1===a.nodeType&&(o=a.getBoundingClientRect())}if(0!==o.height){var i=o.bottom-(window.innerHeight-64);i>0&&window.scrollBy(0,i)}}},this.onChangeReshipmentSettings=function(t){"need_payment"!==t||e.props.currentUser.caEnabled?e.setState({reshipmentSettings:t}):window.open("/copyright/invite")},this.onChangerewardSettings=function(t){var n=t.target.checked,r=e.props,o=r.question,a=o.relationship.isAnonymous,i=o.id,c=r.showNotification,s=e.state.rewardTagline;if(!a)return!n||s?(e.setState({rewardTagline:"",checked:!1}),void e.props.updateQuestionRewardinfo(i,!1)):void e.activateReward();c("匿名回答无法开启赞赏，请先取消匿名","red")},this.onSubmitReward=function(t){e.setState({rewardTagline:t,checked:!0});var n=e.props.question.id;Promise.resolve(e.props.updateQuestionRewardinfo(n,!0)).then(function(){return e.unactivateReward()})},this.onDeleteDraftModalShow=function(){e.setState({deleteDraftModalShown:!0})},this.onDeleteDraft=function(){e.props.isEdit||(e.editable.reset(),e.setState({draft:"",content:{toHTML:function(){return""}},isEmpty:!0})),e.deleteDraft();var t=e.props.onDeleteDraft;t&&t()},this.onDeleteDraftModalHide=function(){e.setState({deleteDraftModalShown:!1})},this.onSubmit=this.context.authRequired(function(t){var n=e.state,r=n.reshipmentSettings,o=n.commentPermission,a=n.rewardTagline,i=n.isChecked;if(e.editable){var c=e.editable.toHTML();if(c){var s=e.props,l=s.isEdit,u=s.onSubmit,p=s.showNotification,f=s.question,d=f.id,m=f.questionType,h=f.circleInfo,y=(h=void 0===h?{}:h).canWriteCircle,b=s.currentUser;if(e.editable.hasVideo("upload"))e.handleError("video-uploading");else if(e.editable.hasImage("upload"))e.handleError("image-uploading");else{if(e.editable.hasImage("error")||e.editable.hasVideo("error")&&!e.editable.hasVideo("error-review"))return t.persist(),void E.a.alert("草稿中含有上传失败的内容，请更改后重新提交",{title:"上传失败"});if(e.editable.hasVideo("error-review")||e.editable.hasVideo("censor"))return t.persist(),void E.a.alert("视频中包含未通过审核的信息，请更改后重新提交",{title:"视频未通过审核"});var v={content:c};l||(v.reshipmentSettings=r||"allowed",v.commentPermission=o||"all"),v.rewardSetting={canReward:Boolean(a),tagline:a},y&&(v.isCircle=i);var g=l?"Edit":"Answer";Promise.resolve(u(v)).then(function(){l||D.default.trackEvent(null,{id:4931,action:"StatusReport"},{module:[{card:{content:[{type:"Answer",parent_token:String(d),author_member_hash_id:b.id}]}}],status:{result:"Success",event:{action:"Submit"}}}),"commercial"===m&&p("已发布！由品牌筛选后进入推荐区。")}).catch(function(){l||D.default.trackEvent(e,{id:4931,action:"StatusReport"},{status:{result:"Fail",event:{action:"Submit"}}})}),"Answer"===g&&D.default.trackEvent(e,{id:4930}),D.default.trackEvent(e,{action:g,is_intent:!1})}}}else e.props.onCancel()}),this.onCancel=function(){var t=e.props.onCancel;e.editable.hasVideo("upload")?e.handleError("video-uploading-draft"):e.editable.hasImage("upload")?e.handleError("image-uploading-draft"):(e.hasEdited&&e.syncDraftImmediately(),t&&t())},this.onFocus=function(){"org"===e.props.question.questionType&&e.shouldAnswerOrgQuestionModalShow&&e.handleAnswerOrgQuestionModalShow(),e.setState({focusing:!0})},this.onFocusWithAuth=function(){return e.onFocusAuthChecked?e.onFocus():(e.onFocusAuthChecked=!0,e.context.authRequired(e.onFocus)())},this.onSelectText=function(t){e.setState({selectedText:t.replace(/\s/g,"")})},this.onLoadStart=function(){e.setState({loadingShown:!0})},this.onLoadEnd=function(){e.setState({loadingShown:!1})},this.getToolbarPlugins=function(){var t=e.state,n=t.isFullscreen,r=t.isLeaveActive;return(!n||r)&&i.a.createElement(w.a,{key:"enterFullscreen",icon:i.a.createElement(d.a,{text:!0}),className:"AnswerForm-enterFullscreenButton",onClick:e.toggleFullscreen},"全屏模式")},this.getToolbarMenuPlugins=function(){return i.a.createElement(w.b,{onClick:e.showDraftHistoryModal},i.a.createElement(y,{text:!0}),"历史版本")},this.toggleFullscreen=function(){var t=e.state.isFullscreen,n=function(){var t=e.scroller.querySelector(".Editable");return t?t.offsetTop:0};e.scrollTop=t?e.scroller.scrollTop-n():Math.max(-e.scroller.getBoundingClientRect().top,0),e.setState({isFullscreen:!t},function(){e.state.isFullscreen?e.scrollTop>0&&(e.scroller.scrollTop=e.scrollTop+n()):window.scrollTo(0,e.scroller.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top+e.scrollTop)})},this.exitFullscreen=function(){e.cloneEditor.resetWithValue(e.getCloneContent());e.fullscreenContent.addEventListener("animationend",function t(){e.fullscreenContent.removeEventListener("animationend",t),e.setState({isLeaveActive:!1}),e.toggleFullscreen()}),e.setState({isLeaveActive:!0})},this.handleFullscreenRef=function(t){t?k.hide():(k.show(),e.setState({isToolbarSticky:!1}))},this.handleScroll=function(){e.isHandleScrollPending||(e.isHandleScrollPending=!0,requestAnimationFrame(function(){var t=e.state,n=t.isFullscreen,r=t.isToolbarSticky,o=!1;if(n&&e.scroller){var a=e.scroller.querySelector(".Editable-toolbar");o=!!a&&e.scroller.scrollTop===a.offsetTop}o!==r&&e.setState({isToolbarSticky:o}),e.isHandleScrollPending=!1}))},this.showDraftHistoryModal=function(){e.syncDraft.flush(),e.setState({draftHistoryModalShown:!0}),D.default.trackEvent(null,{id:5013,action:"Click",name:"历史版本入口"})},this.hideDraftHistoryModal=function(){e.setState({draftHistoryModalShown:!1})},this.closeRewardModal=function(){e.label.click()},this.handleUploadStart=function(){e.setState({isUploading:!0})},this.handleUploadEnd=function(){e.setState({isUploading:!1})},this.handleUploadError=function(t,n){switch(n){case"video":e.handleError("video-upload-error");break;case"image":e.handleError("image-upload-error",t)}},this.handleAnswerOrgQuestionModalShow=function(){e.setState({answerModalShown:!0}),e.shouldAnswerOrgQuestionModalShow=!1},this.handleAnswerModalHide=function(){e.setState({answerModalShown:!1})},this.syncDraftImmediately=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.content).toHTML(),n=e.state.lastUpdatedTime,r=Math.floor((new Date).getTime()/1e3),o=void 0;o=!n||e.startCompositionTime-n>180?r-e.startCompositionTime:r-n,e.setState({isTyping:!1}),t?e.updateDraft(t,o).then(function(t){t.payload&&t.payload.updatedTime&&e.setState({lastUpdatedTime:t.payload.updatedTime}),e.loggingDeltaTime=!1,delete e.startCompositionTime,D.default.trackEvent(e,{action:"AutoSave"})}):e.deleteDraft()},this.syncDraft=Object(C.debounce)(this.syncDraftImmediately,2e3),this.updateDraft=function(t,n){var r=e.props,o=r.question.id,a=r.draft,i=r.addDraft,c=r.updateDraft;return a?c(o,t,n):i(o,t,n)},this.focus=function(){e.editable&&e.editable.focus()},this.hasVideo=function(){return!!e.editable&&e.editable.hasVideo()},this.handleChangeCommentPermission=function(t,n){var r=void 0===n?t:n;e.setState({commentPermission:r})},this.handleReshipmentSettings=function(t){"need_payment"!==t||e.props.currentUser.caEnabled||window.open("/copyright/invite"),e.setState({reshipmentSettings:t})},this.handleError=function(t,n){Object(Ce.b)(t,n,e.props.showNotification)},this.handleBeforeVideoUpload=function(){var t=e.props.question;return!t.relationship||!t.relationship.isAnonymous},this.handleReverted=function(t){e.editable.resetWithValue(t.draft.content)},this.unactivateReward=function(){e.setState({rewardModalShown:!1})},this.activateReward=function(){e.setState({rewardModalShown:!0})},this.onChangecircleSettings=function(t){var n=t.target.checked,r=e.context.onChangecircleSettings;e.setState({isChecked:n}),r(n)}},he=be))||he;t.a=_e},1706:function(e,t,n){"use strict";var r,o,a,i=function(e){return e.componentList.filter(function(e){var t=e.component;return Boolean(t)}).map(function(e){return e.component})},c=n(0),s=n.n(c),l=n(1),u=n.n(l),p=n(13),f=n(27),d=n.n(f),m=n(9),h=n(1556),y=n(4),b=(n(38),n(39)),v=n(205),g=n(168),w=n(10),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O={answer:u.a.object.isRequired,renderThankButtonText:u.a.func,zaInfo:u.a.number},j=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(O)),["updateAnswerThank"]),T=Object(v.a)(null)((a=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.buttonRef=s.a.createRef(),r.handleUpdateThanked=r.context.authRequired(function(){var e=r.props,t=e.answer,n=t.id,o=t.relationship.isThanked,a=e.updateAnswerThank,i=e.zaInfo,c=!o;m.default.trackEvent(r.buttonRef.current,M({action:c?"Thank":"UnThank",element:"Button"},i&&{id:i})),a(n,c)},w.N.thank),E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),N(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answer,r=t.renderThankButtonText,o=d()(this.props,j),a=r(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.c,{keyMap:{THANK:"t"},handlers:{THANK:function(t){e.buttonRef.current.focus(),e.handleUpdateThanked(t)}}}),s.a.createElement(y.c,M({onRef:this.buttonRef,preset:"plain",onClick:this.handleUpdateThanked,icon:h.a,label:a},o)))}}]),t}(),o.contextTypes={authRequired:u.a.func},o.propTypes=O,o.defaultProps={renderThankButtonText:function(e){var t=e.relationship;return(t=void 0===t?{}:t).isThanked?"取消感谢":"感谢"}},r=a))||r,C=Object(p.connect)(null,{updateAnswerThank:b.D})(T);n.d(t,"b",function(){return i}),n.d(t,"a",function(){return C})},1708:function(e,t,n){"use strict";var r,o=n(0),a=n.n(o),i=n(13),c=n(425),s=n.n(c),l=n(1584),u=n.n(l),p=n(99),f=n(424),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=Object(i.connect)(function(e){return{ua:e.env.userAgent}},{loadBrandEntityTrackUrl:f.b})(r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={urls:null,logged:!1},r.handleObserve=function(e){e&&r.log()},r.log=function(){r.state.logged||Promise.resolve(r.state.urls||r.load().then(function(e){return e?(e=r.normalize(e),r.setState({urls:e}),e):[]})).then(function(e){return e.forEach(function(e){return e&&Object(p.c)(e)})}).then(function(){return r.setState({logged:!0})})},r.load=function(){var e=r.props,t=e.type,n=e.id;return(0,e.loadBrandEntityTrackUrl)({type:t,id:n}).then(function(e){return e&&e.payload&&e.payload.data})},r.normalize=function(e){var t=u()(),n=r.props,o=n.ua,a=n.id,i=n.type,c=encodeURIComponent("其他");o.Android?c="android":o.iOS&&(c="ios");var s={os:c,id:a,sessionId:t,type:i};return e.map(function(e){return function(e,t){var n=t.os,r=t.id,o=t.sessionId,a=t.type;return e.replace("__OS__",n).replace("__REQUESTID__",o).replace("__SESSIONID__",o).replace("__ATOKEN__",r).replace("__AID__",r).replace("__PAGETYPE__",a)}(e,s)})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),d(t,[{key:"render",value:function(){return!this.state.logged&&a.a.createElement(s.a,{rootMargin:"0px 0px 0px 0px",onChange:this.handleObserve})}}]),t}())||r;n.d(t,"a",function(){return h})},1712:function(e,t,n){},1713:function(e,t,n){},1714:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"}))};i.defaultProps={name:"EditSurround"},t.a=i},1715:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M6 3.956v16.088C6 21.124 6.517 22 7.9 22c.326 0 .533-.087.896-.236L22 13.784c.571-.355 1.143-.87 1.143-1.784S22.57 10.571 22 10.216L8.796 2.236C8.433 2.087 8.226 2 7.9 2 6.514 2 6 2.876 6 3.956z"}))};i.defaultProps={name:"Play"},t.a=i},1717:function(e,t,n){},1718:function(e,t,n){},1719:function(e,t,n){},1720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=a(n(69));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement(o.default,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},e),r.default.createElement("g",{fill:"none",fillRule:"evenodd"},r.default.createElement("path",{fill:"#C2A469",d:"M12.17 2.18l2.077.372c.613.11 1.092.588 1.201 1.2l.372 2.079c.038.211.12.412.243.588L17.27 8.15c.356.51.356 1.188 0 1.698l-1.207 1.732a1.485 1.485 0 0 0-.243.588l-.372 2.078a1.485 1.485 0 0 1-1.2 1.201l-2.079.372c-.211.038-.412.12-.588.243L9.85 17.27a1.485 1.485 0 0 1-1.698 0l-1.732-1.207a1.485 1.485 0 0 0-.588-.243l-2.078-.372a1.485 1.485 0 0 1-1.201-1.2l-.372-2.079a1.485 1.485 0 0 0-.243-.588L.73 9.85a1.485 1.485 0 0 1 0-1.698l1.207-1.732c.122-.176.205-.377.243-.588l.372-2.078a1.485 1.485 0 0 1 1.2-1.201l2.079-.372c.211-.038.412-.12.588-.243L8.15.73a1.485 1.485 0 0 1 1.698 0l1.732 1.207.588.243z"}),r.default.createElement("path",{fill:"#FFF",d:"M9 11c-.481 0-.893-.19-1.236-.571a1.982 1.982 0 0 1-.514-1.373V5.945c0-.535.171-.993.514-1.374C8.107 4.191 8.52 4 9 4s.893.19 1.236.571c.343.381.514.839.514 1.374v3.11c0 .535-.171.993-.514 1.374-.343.38-.755.571-1.236.571zm3.143-2.889a.367.367 0 0 1 .107.264v.75c0 .863-.278 1.614-.832 2.253-.555.639-1.24 1.005-2.057 1.098v1.774c.002.2-.119.301-.361.301s-.363-.1-.361-.301v-1.774c-.816-.093-1.502-.46-2.057-1.098a3.326 3.326 0 0 1-.832-2.253v-.75c0-.102.036-.19.107-.264A.34.34 0 0 1 6.111 8a.34.34 0 0 1 .254.111.367.367 0 0 1 .107.264v.75c0 .723.248 1.341.742 1.854.495.514 1.09.771 1.786.771s1.291-.257 1.786-.77a2.578 2.578 0 0 0 .742-1.855v-.75c0-.102.035-.19.107-.264A.341.341 0 0 1 11.889 8c.098 0 .182.037.254.111z"})))};t.default=i},1721:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTA3IiB2aWV3Qm94PSIwIDAgMTIwIDEwNyI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImxpdWthbnNoYW5fY29pbi1hIiB4MT0iNjQuODc1JSIgeDI9IjM3Ljc1NyUiIHkxPSI1Ljg3OSUiIHkyPSI5MC43ODglIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI0ZGRjhBRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGRkRBNjEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMTA5LjY4MTg2LDc1LjgwNDc3MDYgQzEwOS42ODE4Niw3NS44MDQ3NzA2IDEwOC43NjA5MzcsNzUuNzI2NTMwNyAxMDguMTEwNjQ4LDc2LjY1NzcxNDQgQzEwOC4xMTA2NDgsNzYuNjU3NzE0NCAxMDQuMDgxOTMxLDU0Ljg5OTMxMDYgMTA0LjIwNjM0NSw0OC45MDk0NjQ3IEMxMDQuNDEyODQ4LDM5LjA4MzI5NTYgMTAzLjkxMzkwOCwyNi4xOTQyMjQ2IDEwMy42ODE3NTMsMjAuOTU3Mjc4IEMxMDMuNjMxNzMxLDE5LjgxNzAyNjggMTAyLjQwMTY5NiwxOS4xMTU0MzI0IDEwMS40MDUwOTgsMTkuNjczMzczMSBDOTcuMzU3MTQyNiwyMS45NDM2MTQ1IDkxLjg2MjM4ODksMjYuMDk0MTgwMSA5MC4wMzcyMTc0LDI3LjQ5NzM2ODggQzg5LjY0MzQ1MjQsMjcuODAwMDY3NyA4OS4xNDQ1MTIzLDI3Ljg4NDcyMDggODguNjY5OTQyMSwyNy43NDIzNDk3IEM4MC43NzQxMTk1LDI1LjM2NDM2OCA2OC45NTg2MDM0LDI0LjM3ODAzMTUgNjUuNDk1NTIzMywyNC4xMzA0ODU0IEM2NC44OTAxMjU2LDI0LjA4Njg3NjMgNjQuMzkzNzUwOCwyMy42ODE1Njc2IDY0LjE3ODI3MDIsMjMuMTE0NjQ4NiBDNjIuODY0ODY1MSwxOS42NDEzMDc2IDYwLjE5MDU5NzcsMTUuNDg5NDU5MyA1OC43ODA5OTU4LDEzLjQxNDE3NjUgQzU4LjI3NjkyNTMsMTIuNjcxNTM4MyA1Ny4yNTg1MjMyLDEyLjUxNzYyMzYgNTYuNTUzMDgxLDEzLjA3Mjk5OSBDNTIuNTY3OTczNiwxNi4yMTI4NTgzIDQ3Ljk3NzQ2ODYsMjEuMjg1NjI5MyA0Ni4zMzgyNzc0LDIzLjE0NDE0ODkgQzQ1Ljk1MjIwODEsMjMuNTgyODA1NyA0NS4zNjQ3NjcxLDIzLjc1ODUyNSA0NC44MDA0MTMzLDIzLjYwODQ1ODIgQzQwLjM4MTc3OTYsMjIuNDI1ODgwNSAyMS4zOTY0MDUxLDE3LjQ2NTk4MDIgMTguNTQxMjg4LDE4LjY4NzAzNjYgQzEyLjE0MTAwMjksMjEuNDI1NDM1MSAxMS4wNTIwNTY2LDMxLjkxMzQzNzIgMTMuODI4OTMzOCwzOC4wNDMwODkgQzE1LjIzNzI1MzEsNDEuMTQ5NjAwMSAxOC4xMzQ2OTY3LDQyLjY4NzQ2NDEgMjIuNjg1NDQwNSw0NS4xMDM5MjQ1IEMyNy4xNjgyMDUyLDQ3LjQ4MzE4ODcgMzEuMzM1NDQ0OSw0OC42NjU3NjY1IDM0LjQ0NDUyMTIsNDkuMjg3ODM4MiBDMzUuMTE5MTgwNSw0OS40MjI1MTM2IDM1LjYxMDQyNDksNDkuOTkxOTk3OSAzNS42NTkxNjQ1LDUwLjY3ODIwMDggQzM2LjE0MTQzMDUsNTcuMzY3MDc1OCAzOC42MTE3NjA5LDkwLjUyNTQyNjIgNDAuODQzNTIzNiw5OC43MzY3NzM4IEM0My4zMzA1MjgyLDEwNy44ODQ0MzYgNzAuODQ2NjIzMywxMDYuMTc5ODMxIDg0LjM5MjM5NjksMTA0LjY5ODQwMiBDOTQuOTcyNzQ3OCwxMDMuNTQxNDc3IDEwNC40Mjk1MjIsOTguMDY0Njc5OCAxMDQuNDI5NTIyLDk4LjA2NDY3OTggQzExNS4xMjI3NDMsMTAwLjUyNDc0OSAxMjAuNjkxODg5LDkyLjg4NDE2ODUgMTE5LjU1OTMzNCw4My44NzUwMjk4IEMxMTguNjE0MDQxLDc2LjM1MTE2NzcgMTEyLjY3MjkzNSw3NS42NjIzOTk2IDEwOS42ODE4Niw3NS44MDQ3NzA2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMzYzNjM2IiBkPSJNMjQuNjAzNDczOCA0Ni4wNjA4ODg5QzE5Ljk3MDY0MjIgNDMuNzc2NTM4NyAxNS40NDU1NTA5IDQxLjgzNDY0ODYgMTMuODI5NDQ2OSAzOC4wNDMyMTcyIDEwLjkxNzg5NDQgMzEuMjEzMjUzOCAxMS45ODExODgyIDIxLjAxNzY4OTUgMTguNTQxODAxIDE4LjY4NzE2NDkgMjAuODE1ODkwMyAxNy44Nzc4MzAyIDI4LjQxNTQyNzEgMTkuNTM0OTc4MiAzMy4zMTUwNDQxIDIwLjc0NTc3MzYgMzMuMzk4NDE0NSAyMC43NDQ0OTEgMzIuNTM3Nzc1IDI5LjAwODQyNjEgMzAuNjMwNTE1NyAzNC4yODY0MTY3IDI4LjcyMzI1NjQgMzkuNTY0NDA3MiAyNC42MDM0NzM4IDQ2LjA2MDg4ODkgMjQuNjAzNDczOCA0Ni4wNjA4ODg5TTY2LjIxOTE3ODggMzUuNzg2MDU4NkM2Ni4wMzMxOTg1IDM4LjMzNDYyOSA2Ny42Njk4MjQ1IDQwLjY0NDYzMTcgNjkuODc1OTM0OCA0MC45NDM0ODI3IDcyLjA3OTQ3OTggNDEuMjQzNjE2MyA3NC4wMTc1MjIgMzkuNDE5NzI3NCA3NC4yMDM1MDIzIDM2Ljg3MTE1NyA3NC4zODgxOTk5IDM0LjMyMTMwNCA3Mi43NTI4NTY1IDMyLjAxMjU4MzkgNzAuNTQ4MDI4OSAzMS43MTI0NTAzIDY4LjM0MTkxODYgMzEuNDEzNTk5NCA2Ni40MDUxNTkgMzMuMjM3NDg4MiA2Ni4yMTkxNzg4IDM1Ljc4NjA1ODYiLz4KICAgIDxjaXJjbGUgY3g9IjQ4IiBjeT0iODIiIHI9IjI1IiBmaWxsPSIjRkZCNDIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDxlbGxpcHNlIGN4PSI0MyIgY3k9IjgyIiBmaWxsPSIjRkZEQTYxIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHJ4PSIyNCIgcnk9IjI1Ii8+CiAgICA8cGF0aCBmaWxsPSJ1cmwoI2xpdWthbnNoYW5fY29pbi1hKSIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMjkuNTEyNDE3OCwxMDIuNjgxNjg2IEMyNy4yNTgyNzc0LDEwMS4wODM0OTEgMjUuMjc5MDIxNSw5OS4wOTU4ODYgMjMuNjYzODE4Nyw5Ni44MTE3NTUgTDQ2LjQ5NzAyNzIsNTcuMjYzNDc5MyBDNDkuMjQ5NTU4OCw1Ny42ODIwNDggNTEuODUwNDY0NCw1OC41ODcyOTMgNTQuMjE2NjY1Myw1OS44OTI2NzM4IEwyOS41MTI0MTc4LDEwMi42ODE2ODYgTDI5LjUxMjQxNzgsMTAyLjY4MTY4NiBaIE0zMy44OTc0MTE0LDEwNS4xMzkyMTMgQzMzLjI4MTExMTgsMTA0Ljg3NTg2OCAzMi42Nzc2NjE2LDEwNC41ODY1ODQgMzIuMDg4MzEyNCwxMDQuMjcyNjY0IEw1Ni43NzA0NDI5LDYxLjUyMTk2MDIgQzU3LjMxNDYwNzMsNjEuOTE5NzQ3MiA1Ny44NDIxOTMyLDYyLjM0MDQ3MTUgNTguMzUxOTA2NCw2Mi43ODI3ODUxIEwzMy44OTc0MTE0LDEwNS4xMzkyMTMgTDMzLjg5NzQxMTQsMTA1LjEzOTIxMyBaIi8+CiAgICA8cGF0aCBzdHJva2U9IiMzNjM2MzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyLjYzNyIgZD0iTTgxLjY5NzA5NDUsNjguMjUzMDc1NiBDODEuNjk3MDk0NSw2OC4yNTMwNzU2IDc1LjYwOTkzOTksODIuMDkxNzIyOCA2MS4zMzA4NDg4LDgwLjMzMzE5NjgiLz4KICAgIDxwb2x5bGluZSBzdHJva2U9IiMzNjM2MzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyLjYzNyIgcG9pbnRzPSI2My4wNTQgNzUuMzA3IDY3LjM4NCA4MC4zMzMgNjIuNDYzIDg1LjEzNSIvPgogICAgPHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMuOTUxOTcyOTIgMzQuNTMzNTc4QzQuMzAyMTI4OCAzNi4yMzgxODMgNS42NDUwMzQyOSAzNy41Nzk4MDU4IDcuMzQ5NjM5MjYgMzcuOTMxMjQ0MyA3LjQ0OTY4MzggMzcuOTUxNzY2MyA3LjQ0OTY4MzggMzguMDkwMjg5NSA3LjM0OTYzOTI2IDM4LjExMDgxMTQgNS42NDUwMzQyOSAzOC40NjA5NjczIDQuMzAyMTI4OCAzOS44MDM4NzI4IDMuOTUxOTcyOTIgNDEuNTA3MTk1MiAzLjkzMTQ1MDk3IDQxLjYwNzIzOTcgMy43OTI5Mjc3NiA0MS42MDcyMzk3IDMuNzcyNDA1ODEgNDEuNTA3MTk1MiAzLjQyMDk2NzMxIDM5LjgwMzg3MjggMi4wNzkzNDQ0NCAzOC40NjA5NjczLjM3NDczOTQ2NyAzOC4xMTA4MTE0LjI3NDY5NDkzMiAzOC4wOTAyODk1LjI3NDY5NDkzMiAzNy45NTE3NjYzLjM3NDczOTQ2NyAzNy45MzEyNDQzIDIuMDc5MzQ0NDQgMzcuNTc5ODA1OCAzLjQyMDk2NzMxIDM2LjIzODE4MyAzLjc3MjQwNTgxIDM0LjUzMzU3OCAzLjc5MjkyNzc2IDM0LjQzMzUzMzQgMy45MzE0NTA5NyAzNC40MzM1MzM0IDMuOTUxOTcyOTIgMzQuNTMzNTc4TTExNS4xMTI4NjcgNjEuMTM5NzgwOUMxMTUuNDYzMDIzIDYyLjg0NDM4NTkgMTE2LjgwNTkyOSA2NC4xODYwMDg3IDExOC41MTA1MzQgNjQuNTM3NDQ3MiAxMTguNjEwNTc4IDY0LjU1Nzk2OTIgMTE4LjYxMDU3OCA2NC42OTY0OTI0IDExOC41MTA1MzQgNjQuNzE3MDE0MyAxMTYuODA1OTI5IDY1LjA2NzE3MDIgMTE1LjQ2MzAyMyA2Ni40MTAwNzU3IDExNS4xMTI4NjcgNjguMTEzMzk4MSAxMTUuMDkyMzQ1IDY4LjIxMzQ0MjYgMTE0Ljk1MzgyMiA2OC4yMTM0NDI2IDExNC45MzMzIDY4LjExMzM5ODEgMTE0LjU4MzE0NCA2Ni40MTAwNzU3IDExMy4yNDAyMzkgNjUuMDY3MTcwMiAxMTEuNTM1NjM0IDY0LjcxNzAxNDMgMTExLjQzNjg3MiA2NC42OTY0OTI0IDExMS40MzY4NzIgNjQuNTU3OTY5MiAxMTEuNTM1NjM0IDY0LjUzNzQ0NzIgMTEzLjI0MDIzOSA2NC4xODYwMDg3IDExNC41ODMxNDQgNjIuODQ0Mzg1OSAxMTQuOTMzMyA2MS4xMzk3ODA5IDExNC45NTM4MjIgNjEuMDM5NzM2MyAxMTUuMDkyMzQ1IDYxLjAzOTczNjMgMTE1LjExMjg2NyA2MS4xMzk3ODA5TTg4LjY5MDk4NDYuMTI0OTE1NDE3Qzg5LjI3Nzg4ODggMi45ODI3Njg2NiA5MS41MjkwMSA1LjIzMzg4OTg4IDk0LjM4ODE4NTEgNS44MjIxMTU5MSA5NC41NTQ3MzkgNS44NTUxNjIzMiA5NC41NTQ3MzkgNi4wODc4MDkwMiA5NC4zODgxODUxIDYuMTIyMTc3MjkgOTEuNTI5MDEgNi43MTA0MDMzMiA4OS4yNzc4ODg4IDguOTYxNTI0NTQgODguNjkwOTg0NiAxMS44MTkzNzc4IDg4LjY1NzkzODIgMTEuOTg1OTMxNyA4OC40MjUyOTE1IDExLjk4NTkzMTcgODguMzg5NjAxNCAxMS44MTkzNzc4IDg3LjgwMjY5NzIgOC45NjE1MjQ1NCA4NS41NTE1NzYgNi43MTA0MDMzMiA4Mi42OTM3MjI4IDYuMTIyMTc3MjkgODIuNTI3MTY4OSA2LjA4NzgwOTAyIDgyLjUyNzE2ODkgNS44NTUxNjIzMiA4Mi42OTM3MjI4IDUuODIyMTE1OTEgODUuNTUxNTc2IDUuMjMzODg5ODggODcuODAyNjk3MiAyLjk4Mjc2ODY2IDg4LjM4OTYwMTQuMTI0OTE1NDE3IDg4LjQyNTI5MTUtLjA0MTYzODQ3MjMgODguNjU3OTM4Mi0uMDQxNjM4NDcyMyA4OC42OTA5ODQ2LjEyNDkxNTQxNyIvPgogIDwvZz4KPC9zdmc+Cg=="},1722:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTA3IiB2aWV3Qm94PSIwIDAgMTIwIDEwNyI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImxpdWthbnNoYW5fLWxvdWRzcGVha2VyLWEiIHgxPSI0NS45NjMlIiB4Mj0iNzAuMTc2JSIgeTE9IjMuNjMzJSIgeTI9Ijk1Ljc1MyUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRkZFMzg4Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0ZGQzI1MCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0xMDkuNjgxODYsNzYuODA0NzcwNiBDMTA5LjY4MTg2LDc2LjgwNDc3MDYgMTA4Ljc2MDkzNyw3Ni43MjY1MzA3IDEwOC4xMTA2NDgsNzcuNjU3NzE0NCBDMTA4LjExMDY0OCw3Ny42NTc3MTQ0IDEwNC4wODE5MzEsNTUuODk5MzEwNiAxMDQuMjA2MzQ1LDQ5LjkwOTQ2NDcgQzEwNC40MTI4NDgsNDAuMDgzMjk1NiAxMDMuOTEzOTA4LDI3LjE5NDIyNDYgMTAzLjY4MTc1MywyMS45NTcyNzggQzEwMy42MzE3MzEsMjAuODE3MDI2OCAxMDIuNDAxNjk2LDIwLjExNTQzMjQgMTAxLjQwNTA5OCwyMC42NzMzNzMxIEM5Ny4zNTcxNDI2LDIyLjk0MzYxNDUgOTEuODYyMzg4OSwyNy4wOTQxODAxIDkwLjAzNzIxNzQsMjguNDk3MzY4OCBDODkuNjQzNDUyNCwyOC44MDAwNjc3IDg5LjE0NDUxMjMsMjguODg0NzIwOCA4OC42Njk5NDIxLDI4Ljc0MjM0OTcgQzgwLjc3NDExOTUsMjYuMzY0MzY4IDY4Ljk1ODYwMzQsMjUuMzc4MDMxNSA2NS40OTU1MjMzLDI1LjEzMDQ4NTQgQzY0Ljg5MDEyNTYsMjUuMDg2ODc2MyA2NC4zOTM3NTA4LDI0LjY4MTU2NzYgNjQuMTc4MjcwMiwyNC4xMTQ2NDg2IEM2Mi44NjQ4NjUxLDIwLjY0MTMwNzYgNjAuMTkwNTk3NywxNi40ODk0NTkzIDU4Ljc4MDk5NTgsMTQuNDE0MTc2NSBDNTguMjc2OTI1MywxMy42NzE1MzgzIDU3LjI1ODUyMzIsMTMuNTE3NjIzNiA1Ni41NTMwODEsMTQuMDcyOTk5IEM1Mi41Njc5NzM2LDE3LjIxMjg1ODMgNDcuOTc3NDY4NiwyMi4yODU2MjkzIDQ2LjMzODI3NzQsMjQuMTQ0MTQ4OSBDNDUuOTUyMjA4MSwyNC41ODI4MDU3IDQ1LjM2NDc2NzEsMjQuNzU4NTI1IDQ0LjgwMDQxMzMsMjQuNjA4NDU4MiBDNDAuMzgxNzc5NiwyMy40MjU4ODA1IDIxLjM5NjQwNTEsMTguNDY1OTgwMiAxOC41NDEyODgsMTkuNjg3MDM2NiBDMTIuMTQxMDAyOSwyMi40MjU0MzUxIDExLjA1MjA1NjYsMzIuOTEzNDM3MiAxMy44Mjg5MzM4LDM5LjA0MzA4OSBDMTUuMjM3MjUzMSw0Mi4xNDk2MDAxIDE4LjEzNDY5NjcsNDMuNjg3NDY0MSAyMi42ODU0NDA1LDQ2LjEwMzkyNDUgQzI3LjE2ODIwNTIsNDguNDgzMTg4NyAzMS4zMzU0NDQ5LDQ5LjY2NTc2NjUgMzQuNDQ0NTIxMiw1MC4yODc4MzgyIEMzNS4xMTkxODA1LDUwLjQyMjUxMzYgMzUuNjEwNDI0OSw1MC45OTE5OTc5IDM1LjY1OTE2NDUsNTEuNjc4MjAwOCBDMzYuMTQxNDMwNSw1OC4zNjcwNzU4IDM4LjYxMTc2MDksOTEuNTI1NDI2MiA0MC44NDM1MjM2LDk5LjczNjc3MzggQzQzLjMzMDUyODIsMTA4Ljg4NDQzNiA3MC44NDY2MjMzLDEwNy4xNzk4MzEgODQuMzkyMzk2OSwxMDUuNjk4NDAyIEM5NC45NzI3NDc4LDEwNC41NDE0NzcgMTA0LjQyOTUyMiw5OS4wNjQ2Nzk4IDEwNC40Mjk1MjIsOTkuMDY0Njc5OCBDMTE1LjEyMjc0MywxMDEuNTI0NzQ5IDEyMC42OTE4ODksOTMuODg0MTY4NSAxMTkuNTU5MzM0LDg0Ljg3NTAyOTggQzExOC42MTQwNDEsNzcuMzUxMTY3NyAxMTIuNjcyOTM1LDc2LjY2MjM5OTYgMTA5LjY4MTg2LDc2LjgwNDc3MDYiLz4KICAgIDxwYXRoIGZpbGw9IiMzNjM2MzYiIGQ9Ik0yNC42MDM0NzM4IDQ3LjA2MDg4ODlDMTkuOTcwNjQyMiA0NC43NzY1Mzg3IDE1LjQ0NTU1MDkgNDIuODM0NjQ4NiAxMy44Mjk0NDY5IDM5LjA0MzIxNzIgMTAuOTE3ODk0NCAzMi4yMTMyNTM4IDExLjk4MTE4ODIgMjIuMDE3Njg5NSAxOC41NDE4MDEgMTkuNjg3MTY0OSAyMC44MTU4OTAzIDE4Ljg3NzgzMDIgMjguNDE1NDI3MSAyMC41MzQ5NzgyIDMzLjMxNTA0NDEgMjEuNzQ1NzczNiAzMy4zOTg0MTQ1IDIxLjc0NDQ5MSAzMi41Mzc3NzUgMzAuMDA4NDI2MSAzMC42MzA1MTU3IDM1LjI4NjQxNjcgMjguNzIzMjU2NCA0MC41NjQ0MDcyIDI0LjYwMzQ3MzggNDcuMDYwODg4OSAyNC42MDM0NzM4IDQ3LjA2MDg4ODlNNjYuMjE5MTc4OCAzNi43ODYwNTg2QzY2LjAzMzE5ODUgMzkuMzM0NjI5IDY3LjY2OTgyNDUgNDEuNjQ0NjMxNyA2OS44NzU5MzQ4IDQxLjk0MzQ4MjcgNzIuMDc5NDc5OCA0Mi4yNDM2MTYzIDc0LjAxNzUyMiA0MC40MTk3Mjc0IDc0LjIwMzUwMjMgMzcuODcxMTU3IDc0LjM4ODE5OTkgMzUuMzIxMzA0IDcyLjc1Mjg1NjUgMzMuMDEyNTgzOSA3MC41NDgwMjg5IDMyLjcxMjQ1MDMgNjguMzQxOTE4NiAzMi40MTM1OTk0IDY2LjQwNTE1OSAzNC4yMzc0ODgyIDY2LjIxOTE3ODggMzYuNzg2MDU4NiIvPgogICAgPHBhdGggZmlsbD0idXJsKCNsaXVrYW5zaGFuXy1sb3Vkc3BlYWtlci1hKSIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNNDcuMjE3OTYzNyw2Mi44ODkxNDI5IEw1OS4yMTc5NjM3LDU4LjIzNjQyMzUgQzYxLjE3NTYyNzYsNjAuMTQ2MjAwNiA2Mi4xNTQ0NTk2LDYzLjE0NjIwMDYgNjIuMTU0NDU5Niw2Ny4yMzY0MjM1IEM2Mi4xNTQ0NTk2LDcxLjMyNjY0NjUgNjEuMTc1NjI3Niw3NC4zMjY2NDY1IDU5LjIxNzk2MzcsNzYuMjM2NDIzNSBMNDcuMjE3OTYzNyw3MS41OTM2NTA5IEw0Ny4yMTc5NjM3LDYyLjg4OTE0MjkgWiIgdHJhbnNmb3JtPSJyb3RhdGUoLTEzIDU0LjY4NiA2Ny4yMzYpIi8+CiAgICA8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIyMSIgeD0iNDYuNDUiIHk9IjcxLjE5NiIgZmlsbD0iI0ZGOTgyQSIgZmlsbC1ydWxlPSJub256ZXJvIiByeD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTI1IDQ4LjQ1IDgxLjY5NikiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkNBNjYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTE3Ljc5MDE5OTYsNTMuMjg4NzU3IEMxOS45NDEwMjUzLDUyLjgyNzM5NDMgMjkuOTQxMDI1Myw1Ny43MDgzMTg1IDQ3Ljc5MDE5OTYsNjcuOTMxNTI5NiBDNDguNjM0NzU3Miw2OS4yNjA0MTY2IDQ5LjA1NzAzNiw3MC43MTI4MjU3IDQ5LjA1NzAzNiw3Mi4yODg3NTcgQzQ5LjA1NzAzNiw3My44NjQ2ODgyIDQ4LjYzNDc1NzIsNzUuMzE3MDk3MyA0Ny43OTAxOTk2LDc2LjY0NTk4NDMgQzMwLjczOTUwNyw4Ni4xNzc3MTk2IDIwLjczOTUwNyw5MS4wNTg2NDM4IDE3Ljc5MDE5OTYsOTEuMjg4NzU3IEMxNS42ODE3ODM1LDg1LjYxNTI4NzYgMTYuNjQzMjA2Nyw1Ny4yOTY2NDM4IDE3Ljc5MDE5OTYsNTMuMjg4NzU3IFoiIHRyYW5zZm9ybT0icm90YXRlKC0xMyAzMi44IDcyLjI3NCkiLz4KICAgIDxlbGxpcHNlIGN4PSIxOC4xNzgiIGN5PSI3NS42NjUiIGZpbGw9IiNGRjk4MkEiIGZpbGwtcnVsZT0ibm9uemVybyIgcng9IjQiIHJ5PSIxOSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEzIDE4LjE3OCA3NS42NjUpIi8+CiAgICA8cGF0aCBzdHJva2U9IiMzNjM2MzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyLjYzNyIgZD0iTTcxLjY5NzA5NDUsNzEuMjUzMDc1NiBDNzEuNjk3MDk0NSw3MS4yNTMwNzU2IDYxLjE4NjAwNTIsNzkuNzQ5MTY1NCA0OC43NzY2MzQ5LDg0LjA1MjM2MzEiLz4KICAgIDxwb2x5bGluZSBzdHJva2U9IiMzNjM2MzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyLjYzNyIgcG9pbnRzPSI0OC43MjUgNzguNTMxIDUzLjkzNiA4MS45OTUgNTIuNDYzIDg4LjEzNSIvPgogICAgPHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMuOTUxOTcyOTIgMzUuNTMzNTc4QzQuMzAyMTI4OCAzNy4yMzgxODMgNS42NDUwMzQyOSAzOC41Nzk4MDU4IDcuMzQ5NjM5MjYgMzguOTMxMjQ0MyA3LjQ0OTY4MzggMzguOTUxNzY2MyA3LjQ0OTY4MzggMzkuMDkwMjg5NSA3LjM0OTYzOTI2IDM5LjExMDgxMTQgNS42NDUwMzQyOSAzOS40NjA5NjczIDQuMzAyMTI4OCA0MC44MDM4NzI4IDMuOTUxOTcyOTIgNDIuNTA3MTk1MiAzLjkzMTQ1MDk3IDQyLjYwNzIzOTcgMy43OTI5Mjc3NiA0Mi42MDcyMzk3IDMuNzcyNDA1ODEgNDIuNTA3MTk1MiAzLjQyMDk2NzMxIDQwLjgwMzg3MjggMi4wNzkzNDQ0NCAzOS40NjA5NjczLjM3NDczOTQ2NyAzOS4xMTA4MTE0LjI3NDY5NDkzMiAzOS4wOTAyODk1LjI3NDY5NDkzMiAzOC45NTE3NjYzLjM3NDczOTQ2NyAzOC45MzEyNDQzIDIuMDc5MzQ0NDQgMzguNTc5ODA1OCAzLjQyMDk2NzMxIDM3LjIzODE4MyAzLjc3MjQwNTgxIDM1LjUzMzU3OCAzLjc5MjkyNzc2IDM1LjQzMzUzMzQgMy45MzE0NTA5NyAzNS40MzM1MzM0IDMuOTUxOTcyOTIgMzUuNTMzNTc4TTExNS4xMTI4NjcgNjIuMTM5NzgwOUMxMTUuNDYzMDIzIDYzLjg0NDM4NTkgMTE2LjgwNTkyOSA2NS4xODYwMDg3IDExOC41MTA1MzQgNjUuNTM3NDQ3MiAxMTguNjEwNTc4IDY1LjU1Nzk2OTIgMTE4LjYxMDU3OCA2NS42OTY0OTI0IDExOC41MTA1MzQgNjUuNzE3MDE0MyAxMTYuODA1OTI5IDY2LjA2NzE3MDIgMTE1LjQ2MzAyMyA2Ny40MTAwNzU3IDExNS4xMTI4NjcgNjkuMTEzMzk4MSAxMTUuMDkyMzQ1IDY5LjIxMzQ0MjYgMTE0Ljk1MzgyMiA2OS4yMTM0NDI2IDExNC45MzMzIDY5LjExMzM5ODEgMTE0LjU4MzE0NCA2Ny40MTAwNzU3IDExMy4yNDAyMzkgNjYuMDY3MTcwMiAxMTEuNTM1NjM0IDY1LjcxNzAxNDMgMTExLjQzNjg3MiA2NS42OTY0OTI0IDExMS40MzY4NzIgNjUuNTU3OTY5MiAxMTEuNTM1NjM0IDY1LjUzNzQ0NzIgMTEzLjI0MDIzOSA2NS4xODYwMDg3IDExNC41ODMxNDQgNjMuODQ0Mzg1OSAxMTQuOTMzMyA2Mi4xMzk3ODA5IDExNC45NTM4MjIgNjIuMDM5NzM2MyAxMTUuMDkyMzQ1IDYyLjAzOTczNjMgMTE1LjExMjg2NyA2Mi4xMzk3ODA5TTg4LjY5MDk4NDYuMTI0OTE1NDE3Qzg5LjI3Nzg4ODggMi45ODI3Njg2NiA5MS41MjkwMSA1LjIzMzg4OTg4IDk0LjM4ODE4NTEgNS44MjIxMTU5MSA5NC41NTQ3MzkgNS44NTUxNjIzMiA5NC41NTQ3MzkgNi4wODc4MDkwMiA5NC4zODgxODUxIDYuMTIyMTc3MjkgOTEuNTI5MDEgNi43MTA0MDMzMiA4OS4yNzc4ODg4IDguOTYxNTI0NTQgODguNjkwOTg0NiAxMS44MTkzNzc4IDg4LjY1NzkzODIgMTEuOTg1OTMxNyA4OC40MjUyOTE1IDExLjk4NTkzMTcgODguMzg5NjAxNCAxMS44MTkzNzc4IDg3LjgwMjY5NzIgOC45NjE1MjQ1NCA4NS41NTE1NzYgNi43MTA0MDMzMiA4Mi42OTM3MjI4IDYuMTIyMTc3MjkgODIuNTI3MTY4OSA2LjA4NzgwOTAyIDgyLjUyNzE2ODkgNS44NTUxNjIzMiA4Mi42OTM3MjI4IDUuODIyMTE1OTEgODUuNTUxNTc2IDUuMjMzODg5ODggODcuODAyNjk3MiAyLjk4Mjc2ODY2IDg4LjM4OTYwMTQuMTI0OTE1NDE3IDg4LjQyNTI5MTUtLjA0MTYzODQ3MjMgODguNjU3OTM4Mi0uMDQxNjM4NDcyMyA4OC42OTA5ODQ2LjEyNDkxNTQxNyIvPgogIDwvZz4KPC9zdmc+Cg=="},1723:function(e,t,n){},1724:function(e,t,n){},1725:function(e,t,n){},1726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1727);t.debounce=r.debounce},1727:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(110));t.debounce=function(e,t,n){var r=!1,a=o.default(function(){r=!1,e.apply(void 0,arguments)},t,n);return Object.assign(function(){r=!0,a.apply(void 0,arguments)},{cancel:a.cancel,flush:a.flush,isPending:function(){return r}})}},1728:function(e,t,n){},1729:function(e,t,n){},1730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=a(n(69));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement(o.default,Object.assign({width:"150",height:"120",viewBox:"0 0 150 120"},e),r.default.createElement("path",{fill:"#EBEEF5",d:"M102 30.998A2.996 2.996 0 0 0 98.998 28H50.002A2.996 2.996 0 0 0 47 30.998v58.147l.193-.125c1.453-.939 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.939 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.939 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.939 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.939 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.413-.913 3.363-.94 4.807-.075V30.998zm-1.508 60.542c-.464-.3-1.209-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.209-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.209-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.209-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.209-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.209-.298-1.67 0l-4.316 2.79A1.997 1.997 0 0 1 44 93V30.997A5.996 5.996 0 0 1 50.002 25h48.996A5.996 5.996 0 0 1 105 30.998V93a2 2 0 0 1-.396 1.2l-4.112-2.66z"}),r.default.createElement("path",{fill:"#F7F8FA",d:"M55 38.999c0-.552.439-.999.999-.999H75c.552 0 .999.439.999.999V58a.993.993 0 0 1-.999.999H56a.993.993 0 0 1-.999-.999V39zm25 .501c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0 1 80 39.5zm0 9c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0 1 80 48.5zm0 9c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0 1 80 57.5zm-25 9c0-.828.677-1.5 1.505-1.5h35.99a1.499 1.499 0 1 1 0 3h-35.99A1.499 1.499 0 0 1 55 66.5zm0 9c0-.828.665-1.5 1.505-1.5h24.99a1.499 1.499 0 1 1 0 3h-24.99A1.499 1.499 0 0 1 55 75.5z"}))};t.default=i},1731:function(e,t,n){},1732:function(e,t,n){},1733:function(e,t,n){},1734:function(e,t,n){},1735:function(e,t,n){},1736:function(e,t,n){},1737:function(e,t,n){},1738:function(e,t,n){},1739:function(e,t,n){},1740:function(e,t,n){},1741:function(e,t,n){},1742:function(e,t,n){},1743:function(e,t,n){var r=n(1744);e.exports=function(e){return r(2,e)}},1744:function(e,t,n){var r=n(1745),o="Expected a function";e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError(o);return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},1745:function(e,t,n){var r=n(1746);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},1746:function(e,t,n){var r=n(1747),o=1/0,a=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},1747:function(e,t,n){var r=n(173),o=n(296),a=NaN,i=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):c.test(e)?a:+e}},1748:function(e,t,n){},1749:function(e,t,n){},1750:function(e,t,n){},1751:function(e,t,n){},1752:function(e,t,n){},1753:function(e,t,n){},1754:function(e,t,n){},1755:function(e,t,n){},1756:function(e,t,n){},1757:function(e,t,n){},1758:function(e,t,n){},1759:function(e,t,n){},1760:function(e,t,n){},1761:function(e,t,n){},1764:function(e,t,n){"use strict";var r,o,a,i=n(1),c=n.n(i),s=n(0),l=n.n(s),u=n(384),p=n(202),f=n(24),d=n(1568),m=n(1576),h=n(1577),y=n(291),b=n(1572),v=n(133),g=n(203),w=(n(1823),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=Object(g.a)(function(e){var t=e.favlist,n=e.trackCardShow,r=void 0===n||n;return{module:"CollectionItem",card:{content:{type:"Collection",token:String(t.id),item_num:t.answerCount,follower_num:t.followerCount,publish_timestamp:1e3*t.updateTime,author_member_hash_id:(t.creator||{}).id}},trackCardShow:r}})((a=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={commentPattern:"fixed",commentsShown:!1,commentsAutoFocus:!0},r.handleCommentsShown=function(e,t){r.setState(t)},r.handleCommentsHide=function(){r.setState({commentsShown:!1})},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),M(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.preset,r=t.favlist,o=t.favlist,a=o.id,i=o.type,c=o.title,s=o.updatedTime,g=o.answerCount,M=o.followerCount,N=o.isFollowing,E=o.isPublic,O=o.creator,j=void 0===O?{}:O,T=o.commentCount,C=t.status,k=t.action,D=t.lastreadTouchable,I=t.zaInfos,A=I.follow,z=I.options,S=t.renderOptions,x=this.state,_=x.commentsShown,P=x.commentsAutoFocus,L=x.commentPattern,R="/collection/"+a,Q=l.a.createElement("a",{href:R,target:"_blank"},c);if(n===d.c.plain)return l.a.createElement(d.e,{data:r,link:R,title:Q});var U={id:a,type:i};return n===d.c.default?l.a.createElement(d.e,{data:r,link:R,title:l.a.createElement("div",{className:"FavlistItem-title"},Q,!E&&l.a.createElement(f.a,{grey:!0,className:"FavlistItem-lockIcon",name:"lock"})),meta:C||l.a.createElement(d.d,null,Object(u.toDateString)(s)+" 更新",Object(p.formatNumber)(g)+" 条内容",Object(p.formatNumber)(M)+" 人关注"),extra:k}):l.a.createElement(d.e,{data:r,link:R,onRef:function(t){e.contentItem=t},title:Q,lastreadTouchable:D},l.a.createElement(d.b,{key:"favlist-item-cells"},l.a.createElement("div",null,l.a.createElement("span",null,"关注数："),Object(p.formatNumber)(M)),l.a.createElement("div",null,l.a.createElement("span",null,"最后更新于："),Object(u.toDateString)(s)),l.a.createElement("div",null,l.a.createElement("span",null,"作者："),l.a.createElement(v.a,{user:j}))),l.a.createElement(d.a,{key:"favlist-item-actions"},l.a.createElement(y.a,w({},U,{isFollowing:N,zaId:A})),l.a.createElement(m.a,{onClick:this.handleCommentsShown,commentsShown:_,count:T}),l.a.createElement(b.a,w({},U,{title:c,authorName:j&&j.name})),S&&S(function(){return e.contentItem},z)),l.a.createElement(h.a,{parent:r,commentPattern:L,shown:_,autoFocus:P,onClose:this.handleCommentsHide}))}}]),t}(),o.propTypes={preset:c.a.oneOf(Object.values(d.c)),zaInfos:c.a.shape({follow:c.a.number,options:c.a.number}),renderOptions:c.a.func},o.defaultProps={preset:d.c.default,zaInfos:{}},r=a))||r;t.a=E},1770:function(e,t,n){var r=n(2e3),o=n(2001),a=n(2002);e.exports=function(e,t){return r(e)||o(e,t)||a()}},1771:function(e,t,n){var r=n(1853),o=n(1773),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1772:function(e,t,n){var r=n(1582).Symbol;e.exports=r},1773:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1774:function(e,t){var n=Array.isArray;e.exports=n},1775:function(e,t){e.exports=function(e){return function(t){return e(t)}}},1776:function(e,t,n){(function(e){var r=n(1856),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,c=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=c}).call(this,n(87)(e))},1777:function(e,t,n){var r=n(1616)(n(1582),"Map");e.exports=r},1778:function(e,t,n){var r=n(2065),o=n(1866),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,c=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return a.call(e,t)}))}:o;e.exports=c},1779:function(e,t,n){var r=n(2069),o=n(1777),a=n(2070),i=n(2071),c=n(2072),s=n(1648),l=n(1857),u=l(r),p=l(o),f=l(a),d=l(i),m=l(c),h=s;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=h(new o)||a&&"[object Promise]"!=h(a.resolve())||i&&"[object Set]"!=h(new i)||c&&"[object WeakMap]"!=h(new c))&&(h=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case m:return"[object WeakMap]"}return t}),e.exports=h},1780:function(e,t,n){var r=n(2075);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1781:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEDElEQVR4Ae3cQW5cRwwE0FGgAzhA7porxGe1gRxBWev9RaHRPc0syrsCySKnCmRjJMgfP/759fW6+O/fv//61u3Pn7+/YePfgq/Xy3zj1ptv3Hqx9cZP4z9OE5ZvT4Easqff8eoaclzSPcJPy1dvrPXi1Ruc8p3PfLHz7GL77/I5bzdkV9HD9TXksKC7dDVkV8HD9Y83RH5vnHHx6o1N+fYX218sf6o3Xz5x4jM/8XdDVGwY15BhA2xfQ1RkGMc3ZHi+R/t0gy1YvfHW38bdkNuKh341JAh0O1xDbise+o2/Ias33vzVN0U9duvl28XdkF0FD9fXkMOC7tLVkF0FD9fHN+T2jU39fEOSHokv1af4af5uSFL8cryGXBY8tashSaHL8ccbsnqj3z2v83iz3x3389nP+C7uhuwqeLi+hhwWdJeuhuwqeLj+05t8mP843btvuAPf1qcbogPDuIYMG2D7GqIiw/hj9e9D0k1NN976lK8+1htf5bN+F+/O1w3ZdeBwfQ05LOguXQ3ZVfBw/eN7iDc43UTn2c23v/yrOM1jP/ON2z/lG7de3A1RkWFcQ4YNsH0NUZFh/PH19fXt79RXb6bzr9abn27uav7qfOY7j/3NTzjxdUOSgpfjNeSy4KldDUkKXY7Hn2V583bn8wbLn+Kpf6rfjdtfPuN+PuPiboiKDOMaMmyA7WuIigzj+LMs50s303yxN3WVbzXf/uLEl+J+HvkTlr8bkhS7HK8hlwVP7WpIUuhy/PGzrNX+3kDrV2+sfKl+Nd/5Ur1x69N85ie+boiKDeMaMmyA7WuIigzjz3TTVm+k+fKn+K4e9kt8zmO+8cSf4omvG6IDw7iGDBtg+xqiIsN4+XuIN9KbuPp5Ep/xxO88p+sTv/E0r/FuiIoM4xoybIDta4iKDOP4PcT50o1MNzvV20+c6lf7my+2f4qbL7bez9MNUbFhXEOGDbB9DVGRYfz4nfruPN7E/xtfmmd1ft8E+Y3Lb7wbooLDuIYMG2D7GqIiw3j5e8juvN5QceL35lovTnwpnvpZv5pvfTdERYZxDRk2wPY1REWG8eP/XHz3DfbzenONi9N88qV8+cWr9Snf+ezXDVGRYVxDhg2wfQ1RkWH8eEOcJ90889MNXc23v1i+hFN9iq/yr+rRDUkKX47XkMuCp3Y1JCl0OR7fkMvzvNIN9yabbzzNb37iM574U779uyFJ0cvxGnJZ8NSuhiSFLsfH35B0Y1f1SHze7JRv/1Rv3Hr7ibshKjaMa8iwAbavISoyjOMbkm7i6fnt540V2//d9fZbxc5nfTdERYZxDRk2wPY1REWG8eMNSTf69rzp5jpPml8+88XyW2/c+tX8boiKDuMaMmyA7WuIigzj/wC7sm2izpKNiwAAAABJRU5ErkJggg=="},1785:function(e,t,n){"use strict";var r=a(n(1800)),o=a(n(1698));function a(e){return e&&e.__esModule?e:{default:e}}e.exports={TransitionGroup:o.default,CSSTransitionGroup:r.default}},1787:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowDown"},t.a=i},1790:function(e,t,n){var r=n(20);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},1791:function(e,t,n){"use strict";var r=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).reduce(function(t,n){return t[(0,s.decamelize)(n)]=e[n],t},{});return l.default.stringify(t)}(t);n&&(e.indexOf("?")>-1?e+="&".concat(n):e+="?".concat(n));return Promise.race([d(e)])},t.numberFormat=m,t.numberFormatDot=function(e){return(e||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},t.secondesFormat=function(e){if(Number.isNaN(parseInt(e,10)))return"00:00";return[parseInt(e/60,10),e%60].join(":").replace(/\b(\d)\b/g,"0$1")},t.get=h,t.isAdblockEnabled=function(){var e=document.createElement("div");e.className="adsbox",document.body.appendChild(e);var t="none"===getComputedStyle(e).display;return document.body.removeChild(e),t},t.deepClone=function e(t){if(!y(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,a.default)(t[r])?n[r]=t[r]:n[r]=e(t[r])});return n},t.convertNullDeepClone=function e(t){if(!y(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,a.default)(t[r])?n[r]=t[r]:null===t[r]?n[r]="":n[r]=e(t[r])});return n},t.imgInformationChange=b,t.AddWatermark=function(e){var t=b(e);if(t&&t.includes("adx4.")||!t)return t;return t.includes("600x250")?t.replace(/(.*)\./,"$1|adx4."):t.replace(/(.*)\./,"$1_adx4.")},t.imgUrlAddAdx4=function(e){if(e&&e.includes("adx4."))return e;return e&&e.match(/\d*\x\d*/)?e.replace(/(.*)\./,"$1|adx4."):e.replace(/(.*)\./,"$1_adx4.")},t.formatNumber=function(e){if("number"!=typeof e)return"";var t=String(e);return t.indexOf(".")>0?t.replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):t.replace(/(\d)(?=(\d{3})+$)/g,"$1,")},t.numberToArr=function(e){for(var t="".concat(e).split("."),n=(0,o.default)(t,2),r=n[0],a=n[1],i=[],c=1;c<=r;c+=1)i.push(1);if(parseInt(a,10))return i.push(Number("0.".concat(a)).toFixed(1)),i;return i},t.isAdditionalCreative=function(e){return!!h(e,["canvas","creativeContent"])},t.getRelatedStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").length>=15)return"";var t=e.contentType,n=e.voteupNum,r=e.commentNum,o=e.followNum,a=e.answerNum,i=e.viewNum;return["promotion","article","answer","personallyAnswer","inviteAnswer","brandAnswer"].includes(t)?"".concat(n>0?" · ".concat(m(n)," 赞"):"").concat(r>0?" · ".concat(m(r)," 评论"):""):["question","commercial_question","celebrity_question","valuableQuestion"].includes(t)?"".concat(o>0?" · ".concat(m(o)," 关注"):"").concat(a>0?" · ".concat(m(a)," 回答"):""):["brandActivity"].includes(t)?"".concat(o>0?" · ".concat(m(o)," 关注"):"").concat(i>0?" · ".concat(m(i)," 浏览"):""):""},t.replaceTrackConfig=t.getDownloadPluginTrackConfig=t.loadBanner=t.requestByFetch=t.request=t.str2Json=t.onCompletelyShowedOnce=t.onShowedOnce=t.isShowed=void 0;var o=r(n(1770)),a=r(n(1849)),i=r(n(1638)),c=r(n(1891)),s=n(6),l=r(n(26)),u=n(1892);t.requestByFetch=function(e){var t,n,r=e.url,o=e.params;return r?fetch(r,{method:"post",headers:{"X-Requested-With":"fetch"},body:(t=(0,s.decamelizeKeys)(o),Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&e.append(n,r),e},n||new FormData))}).catch(function(){}):Promise.reject(new Error("request but no url"))};t.loadBanner=function(e){var t=e.query,n=e.url;return fetch("".concat(n,"?").concat(l.default.stringify(t))).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(e){return e.banner}).catch(function(e){console.error(e)})};t.getDownloadPluginTrackConfig=function(e){var t=e.os,n=e.pageId,r=e.pageType;return fetch("https://www.zhihu.com/api/v4/brand/plugin/100/track?platform=".concat(t,"&content_type=").concat(r,"&url_token=").concat(n)).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).catch(function(e){console.error(e)})};t.replaceTrackConfig=function(e){return function(t){return Object.keys(e).reduce(function(n,r){var o=e[r].map(function(e){return(n=e,function(e){return n.replace("__OS__",e)})(t);var n});return(0,c.default)({},n,(0,i.default)({},r,o))},{})}};var p=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.top<(window.innerHeight||n.clientHeight)};t.isShowed=p;t.onShowedOnce=function(e,t,n){if(p(e))t.call(n);else var r=(0,u.subscribe)("scroll",function(){p(e)&&(t.call(n),r.unsubscribe())})};var f=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.bottom<(window.innerHeight||n.clientHeight)};t.onCompletelyShowedOnce=function(e,t,n){if(f(e))t.call(n);else var r=(0,u.subscribe)("scroll",function(){f(e)&&(t.call(n),r.unsubscribe())})};var d=function(e){return new Promise(function(t,n){var r=new Image;r.onload=t,r.addEventListener("error",n),r.src=e})};function m(e){var t=e;return e>999&&(t="".concat((e/1e3).toFixed(1),"K")),e>9999&&(t="".concat((e/1e4).toFixed(1),"M")),t}function h(e,t,n){return(Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")).reduce(function(e,t){return(e||{})[t]},e)||n}function y(e){return["[object Array]","[object Object]"].includes(Object.prototype.toString.call(e))}t.request=d;function b(e){return e&&e.includes("1200x500")?e.replace(/(.*)1200x500/,"$1600x250"):e}t.str2Json=function(e){try{return JSON.parse(e)}catch(e){return{}}}},1796:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=n(4),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.handleClick=function(){var e=a.props;(0,e.onSelect)(e.page)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),s(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isCurrent,r=e.className;return o.a.createElement(c.c,{preset:c.b.Plain,className:i()("PaginationButton",{"PaginationButton--current":n},r),onClick:this.handleClick,disabled:n},t)}}]),t}(),u=(n(1831),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:t},function(t,n){return n+e})},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),u(t,[{key:"render",value:function(){var e,t=this.props,n=t.onSelect,r=t.className,a=t.clickCallback,c=this.props.current,s=this.props.total,u=a&&(e=a,function(){e.apply(void 0,arguments)})||n,d=function(e,t){var n="...";return t<=5?f(1,t):e>t-3?[1,n].concat(p(f(t-3,3)),[t]):e<=3?[1].concat(p(f(2,3)),[n,t]):[1,n].concat(p(f(e-Math.floor(1.5),3)),[n,t])}(c,s);return o.a.createElement("div",{className:i()("Pagination",r)},c>1&&c<=s&&o.a.createElement(l,{className:"PaginationButton-prev",onSelect:u,text:"上一页",page:c-1}),d.map(function(e,t){return"number"==typeof e?o.a.createElement(l,{onSelect:u,text:e,page:e,key:t,isCurrent:c===e}):o.a.createElement("button",{disabled:!0,key:t,className:"PaginationButton PaginationButton--ellipsis"},e)}),c>0&&c<s&&o.a.createElement(l,{className:"PaginationButton-next",onSelect:u,text:"下一页",page:c+1}))}}]),t}();d.defaultProps={current:1,total:1,onSelect:function(){}},n.d(t,"a",function(){return d})},1798:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=(n(1994),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.alt,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","alt"]);return o.a.createElement("img",c({className:i()("ImageAlias",t),alt:n},r))}}]),t}();t.a=l},1800:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),a=l(n(1620)),i=l(n(1698)),c=l(n(1806)),s=n(1699);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.nameShape.isRequired,a.default.bool,a.default.bool,a.default.bool,(0,s.transitionTimeout)("Appear"),(0,s.transitionTimeout)("Enter"),(0,s.transitionTimeout)("Leave");var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=u(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return o.default.createElement(c.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);p.displayName="CSSTransitionGroup",p.propTypes={},p.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=p,e.exports=t.default},1801:function(e,t,n){"use strict";var r=n(405),o=n(383),a=n(1802);e.exports=function(){function e(e,t,n,r,i,c){c!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},1802:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1803:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},1804:function(e,t,n){e.exports=n(31)(14)},1805:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var a in e)t.hasOwnProperty(a)?o.length&&(r[a]=o,o=[]):o.push(a);var i=void 0,c={};for(var s in t){if(r.hasOwnProperty(s))for(i=0;i<r[s].length;i++){var l=r[s][i];c[r[s][i]]=n(l)}c[s]=n(s)}for(i=0;i<o.length;i++)c[o[i]]=n(o[i]);return c};var r=n(0)},1806:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(1807)),a=f(n(1809)),i=f(n(698)),c=n(1810),s=f(n(0)),l=f(n(1620)),u=n(17),p=n(1699);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];c.transitionEnd&&m.push(c.transitionEnd),c.animationEnd&&m.push(c.animationEnd);l.default.node,p.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,s=this.props.name[e+"Active"]||i+"-active",l=null,p=void 0;(0,o.default)(r,i),this.queueClassAndNode(s,r);var f=function(e){e&&e.target!==r||(clearTimeout(l),p&&p(),(0,a.default)(r,i),(0,a.default)(r,s),p&&p(),t&&t())};n?(l=setTimeout(f,n),this.transitionTimeouts.push(l)):c.transitionEnd&&(p=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,f))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,i.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,s.default.cloneElement(s.default.Children.only(this.props.children),e)},t}(s.default.Component);h.displayName="CSSTransitionGroupChild",h.propTypes={},t.default=h,e.exports=t.default},1807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r,o=n(1808),a=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},1808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1809:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},1810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,o=n(299);var a="transform",i=void 0,c=void 0,s=void 0,l=void 0,u=void 0,p=void 0,f=void 0,d=void 0,m=void 0,h=void 0,y=void 0;if(((r=o)&&r.__esModule?r:{default:r}).default){var b=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,o=void 0,a="",i=0;i<n.length;i++){var c=n[i];if(c+"TransitionProperty"in e){a="-"+c.toLowerCase(),r=t[c]("TransitionEnd"),o=t[c]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!o&&"animationName"in e&&(o="animationend");return e=null,{animationEnd:o,transitionEnd:r,prefix:a}}();i=b.prefix,t.transitionEnd=c=b.transitionEnd,t.animationEnd=s=b.animationEnd,t.transform=a=i+"-"+a,t.transitionProperty=l=i+"-transition-property",t.transitionDuration=u=i+"-transition-duration",t.transitionDelay=f=i+"-transition-delay",t.transitionTiming=p=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=m=i+"-animation-duration",t.animationTiming=h=i+"-animation-delay",t.animationDelay=y=i+"-animation-timing-function"}t.transform=a,t.transitionProperty=l,t.transitionTiming=p,t.transitionDelay=f,t.transitionDuration=u,t.transitionEnd=c,t.animationName=d,t.animationDuration=m,t.animationTiming=h,t.animationDelay=y,t.animationEnd=s,t.default={transform:a,end:c,property:l,timing:p,delay:f,duration:u}},1815:function(e,t,n){"use strict";function r(e){return/^[a-z0-9]{32}$/.test(e)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var o=/#comment-(\d+)/;function a(e){var t=e.match(o);return t&&t[1]}},1816:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-.034 2.966c1.949 0 1.485 1.807 1.485 2.211 0 .115-.785 7.79-.785 7.79h-1.4s-.785-7.623-.785-7.738c0-.416-.463-2.263 1.485-2.263zm1.057 13.522c-.294.287-.647.43-1.056.43-.41 0-.762-.142-1.058-.43a1.429 1.429 0 0 1-.443-1.07c0-.41.148-.762.443-1.057a1.443 1.443 0 0 1 1.058-.442c.409 0 .762.143 1.056.43.296.287.443.644.443 1.07 0 .427-.147.783-.443 1.07z",fillRule:"evenodd"}))};i.defaultProps={name:"Alert"},t.a=i},1817:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{fill:"#FB6622",d:"M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.439-1.673.309-1.673.309.596-7.519-5.692-6.329-5.692-6.329-.898-1.067-.029-1.711-.029-1.711zm4.131 6.985c-.661 1.01-1.377.126-1.376.126.205-3.179-2.396-2.598-2.396-2.598-.719-.765-.091-1.346-.091-1.346 4.882-.551 3.863 3.818 3.863 3.818zM5.317 7.519s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.159 0 0 .848 1.095-.191 2.649 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.026-2.092-8.596-3.102 0 0-3.475-4.495 3.444-10.33zm10.448 7.792s.232-4.411-5.71-4.207c-6.652.231-6.579 4.654-6.579 4.654.021.39.097 3.713 5.842 3.713 5.98 0 6.447-4.16 6.447-4.16zm-9.882.86s-.059-3.632 3.804-3.561c3.412.06 3.206 3.165 3.206 3.165s-.026 2.979-3.684 2.979c-3.288 0-3.326-2.583-3.326-2.583zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.551-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998z",fillRule:"evenodd"}))};i.defaultProps={name:"Weibo"},t.a=i},1818:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M2.224 21.667s4.24-1.825 4.788-2.056C15.029 23.141 22 17.714 22 11.898 22 6.984 17.523 3 12 3S2 6.984 2 11.898c0 1.86.64 3.585 1.737 5.013-.274.833-1.513 4.756-1.513 4.756zm5.943-9.707c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272zm7.583 0c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272z",fillRule:"evenodd"}))};i.defaultProps={name:"WeChat"},t.a=i},1819:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M10.229 17.516c-.318.327-.75.484-1.199.484-.453 0-.884-.16-1.202-.488l-4.335-4.47a1.77 1.77 0 0 1 .007-2.459 1.663 1.663 0 0 1 2.397.01l3.137 3.246 9.072-9.329a1.662 1.662 0 0 1 2.397 0c.663.681.663 1.786 0 2.466L10.23 17.516z",fillRule:"evenodd"}))};i.defaultProps={name:"Check"},t.a=i},1820:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M2 18.242c0-.326.088-.532.237-.896l7.98-13.203C10.572 3.57 11.086 3 12 3c.915 0 1.429.571 1.784 1.143l7.98 13.203c.15.364.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H3.955c-1.08 0-1.955-.517-1.955-1.9z",fillRule:"evenodd"}))};i.defaultProps={name:"TriangleUp"},t.a=i},1821:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z",fillRule:"evenodd"}))};i.defaultProps={name:"TriangleDown"},t.a=i},1823:function(e,t,n){},1831:function(e,t,n){},1849:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},1850:function(e,t,n){"use strict";var r=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(208)),a=r(n(209)),i=r(n(1657)),c=r(n(1659)),s=r(n(1660)),l=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={hasError:!1},n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"componentDidCatch",value:function(e,t){this.handleError(e,t)}},{key:"unstable_handleError",value:function(e,t){this.handleError(e,t)}},{key:"handleError",value:function(e,t){this.setState({hasError:!0}),console.error(e),t&&console.error(t)}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),t}(r(n(0)).default.Component);t.default=l},1851:function(e,t,n){"use strict";var r=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.isGdtAd=M,t.getGdtLandingUrl=N,t.zaTrack=h,t.zaSetModule=m,t.initCmTrack=w,t.initTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=t.viewEntity,a=void 0===o?{}:o,i=t.modules,c=n||{},s=c.view,l=c.extra;m(e,a,i),setTimeout(function(){(0,p.onCompletelyShowedOnce)(e,function(){h("cardShow",e,s,l)})},0),w(e,r)},t.openHybridAd=function(e,t,n){return j({data:e,node:t,clickPoint:n,type:"open"})},t.openHybrid=function(e,t){return new Promise(function(n){l.default.ready().then(function(){return l.default.supportsAction(e).then(function(r){r?l.default.dispatch(e,t).then(function(){return n(!0)},function(){return n(!1)}):n(!1)})},function(){return n(!1)})})},t.clickTrack=b,t.clickTrackExtra=function(e){var t=e.clickTracks;b(void 0===t?[]:t,null,"click_button")},t.viewTrack=g,t.closeTrack=function(e){var t=e.filter(Boolean).map(function(e){return y(e)}),n=Promise.all(t).catch(function(){return null});return Promise.race([n,new Promise(function(e){return setTimeout(e,500)})])},t.debugTrack=function(e,t){var n=e.debugTracks,r=void 0===n?[]:n,o=e.style;function a(e){var t=e.cl,n=e.ct,a=e.tw,i=e.th,c=e.bl,s=e.bt,l=e.bw,u=e.bh;r.forEach(function(e){var r="et=ad_card_click&ev=".concat(t,"x").concat(n,"x").concat(a,"x").concat(i,"&etu=").concat(c,"x").concat(s,"x").concat(l,"x").concat(u,"&eru=").concat(o);(0,p.request)(e+(e.includes("?")?"&":"?")+r)})}try{var i=t.clientX,c=t.clientY,s=t.currentTarget,u=s.getBoundingClientRect(),f=u.top,d=u.left,m=u.width,h=u.height,y=i-d,b=c-f;l.default.ready().then(function(){return l.default.dispatch("answer/nextButtonInfo")}).then(function(e){var t=e.x,n=e.y,r=e.h,o=e.w,i=t-d,c=n-f;a({cl:y,ct:b,tw:m,th:h,bl:i,bt:c,bw:o,bh:r})}).catch(function(e){a({cl:y,ct:b,tw:m,th:h})})}catch(t){console.error(t)}},t.preloadHybridAd=function(e,t){return j({data:e,node:t,type:"preload"})},t.openFormAd=function(e){return j({data:e,type:"adOpenForm"})},t.dataOriginTrack=function(e,t){e&&e.length&&e.map(function(e){return(0,p.track)(e,{et:t?"page_adjson":"page_ads"})})},t.getHybridAd=E,t.normalTracks=void 0;var o=r(n(1770)),a=n(0),i=n(17),c=r(n(26)),s=r(n(9)),l=r(n(172)),u=n(6),p=n(1791),f={commonAd:"ad/open",preloadAd:"ad/preload",answerAd:"answer/openAd",adOpenForm:"ad/openForm"};function d(e){return e instanceof a.Component?(0,i.findDOMNode)(e):e}function m(e,t,n){var r=t.moduleName,o=void 0===r?"ExternalAdItem":r,a=t.index,i=n.card,c=i.zaAdInfoJson,l=i.type,u=void 0===l?"ExternalAd":l,p=i.id,f=i.token,m=n.otherModule,h=Object.assign({card:{content:{ad_info:c&&JSON.parse(c),type:u,id:p,token:f}}},m);s.default.setModule(d(e),{module:"ExternalAdItem",module_name:o,is_ad:!0,index:a},h)}function h(e,t,n,r){"cardShow"===e?s.default.trackCardShow(d(t),n,r):"trackEvent"===e&&s.default.trackEvent(d(t),n,r)}function y(e,t){var n=e,r=/^https?:\/\/[\w-.]+(:\d+)?/i.exec(e)[0];return r&&r.match("zhihu.com")&&(n="".concat(n,"&ets=").concat((new Date).getTime())),(0,p.track)(n,n.indexOf("sugar.zhihu.com")>-1&&t?{fl:t}:void 0)}function b(e,t,n){var r=e.filter(Boolean).map(function(e){return y("".concat(e).concat(n?"&et=".concat(n):""),t)}),o=Promise.all(r).catch(function(){return null});return Promise.race([o,new Promise(function(e){return setTimeout(e,500)})])}function v(e,t){e&&e.length&&e.map(function(e){return y(e,t)})}function g(e,t,n,r){t&&t.length&&(0,p.onShowedOnce)(e,function(){t.map(function(e){return Promise.race([y(e,n),new Promise(function(e,t){return setTimeout(t,5e3)})]).then(function(){return{status:200}}).catch(function(){return{status:600}}).then(function(t){return{et:"third_imp",ev:t.status||601,etu:btoa(e),plugin:(0,p.isAdblockEnabled)()}}).then(function(e){if(e){var t=c.default.stringify(e);(r||[]).map(function(e){return e?(0,p.request)(t?"".concat(e).concat(e.includes("?")?"&":"?").concat(t):e):null})}})})})}function w(e,t){var n=t.impressionTracks,r=t.debugTracks,o=t.viewTracks,a=t.xAppFlavor;v(n,a),g(e,o,a,r)}function M(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("c.gdt.qq.com")>-1}function N(e,t,n){if(!M(e)||!t||!n)return e;var r=t.getBoundingClientRect(),o=r.left,a=r.top,i=n.clientX-o,c=n.clientY-a,s={__DOWN_X__:Math.abs(i),__DOWN_Y__:Math.abs(c),__UP_X__:Math.abs(i),__UP_Y__:Math.abs(c)};return Object.keys(s).reduce(function(e,t){return e.replace(t,s[t])},e)}function E(e,t,n,r){console.log("We are sending a ".concat(t," request to Hybrid ").concat(e));var a=e.conversionTracks,i=(0,o.default)(e.creatives,1)[0],c=e.videoProgress,s=e.sdk,l=e.downloadSilent,p=void 0!==l&&l,d=e.isNewWebview,m=void 0!==d&&d,h=e.conversionTrackJs,y=e.isSpeeding,b=e.cdnMap,v=e.experimentInfo,g=e.extraConversionTracks,w=i.landingUrl,M=i.appPromotionUrl,E=i.deepUrl,O=i.packageName,j=i.brand,T=i.thumbnailExtraInfo,C=i.nativeUrl,k=void 0===C?"":C,D=i.canvas;return[f.commonAd,f.preloadAd,f.adOpenForm].includes(t)?{is_speeding:y,cdn_map:b,download_silent:p,conversion_tracks:a,sdk:(0,u.decamelizeKeys)(s),conversion_track_js:h,extra_conversion_tracks:(0,u.decamelizeKeys)(g),experiment_info:v,creative:{package_name:O,shouldUseNewWebView:m,landing_url:N(w,n,r),app_promotion_url:M,deep_url:E,thumbnail_extra_info:(0,u.decamelizeKeys)(T),video_progress:c,brand:j,native_url:k,canvas:(0,u.decamelizeKeys)(D)}}:{ad:{downloadSilent:p,conversionTracks:a,sdk:s,creatives:[{shouldUseNewWebView:m,landingUrl:N(w,n,r),conversionTracks:a,appPromotionUrl:M,deepUrl:E,brand:j,nativeUrl:k}]}}}var O=function(e){return"preload"===e?f.preloadAd:"adOpenForm"===e?f.adOpenForm:f.commonAd};function j(e){var t=e.data,n=e.node,r=e.clickPoint,o=e.type,a=O(o);return new Promise(function(e){l.default.ready().then(function(){return l.default.supportsAction(a).then(function(o){o?l.default.dispatch(a,{ad:E(t,a,n,r)}).then(function(){return e(!0)},function(){return e(!1)}):a===f.commonAd&&l.default.dispatch(f.answerAd,{ad:E(t,f.answerAd,n,r)}).then(function(){return e(!0)},function(){return e(!1)})})}).catch(function(){var e=t.landingUrl;if(e){var n=document.createElement("a");n.href=e,n.click()}})})}var T={videoTrack:function(e,t,n){t&&t.length&&(0,p.onShowedOnce)(e,function(){t.map(function(e){return y("".concat(e,"&et=auto_play"),n)})})},impressionTrack:v,viewTrack:g,extraConversionTrack:function(e,t){t&&t.length&&(0,p.onShowedOnce)(e,function(){t.map(function(e){return y("".concat(e))})})}};t.normalTracks=T},1852:function(e,t,n){"use strict";var r=n(2004),o=n(1650),a={capture:!1,passive:!1};e.exports=function(e,t,n,i){var c="addEventListener",s="removeEventListener",l=!!o.supportPassiveEvent&&r({},a,i);return!e.addEventListener&&e.attachEvent&&(c="attachEvent",s="detachEvent",t="on"+t),e[c](t,n,l),{remove:function(){e[s](t,n)}}}},1853:function(e,t,n){var r=n(1854);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1854:function(e,t,n){var r=n(1616),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},1855:function(e,t,n){var r=n(1648),o=n(1590),a="[object AsyncFunction]",i="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==c||t==a||t==s}},1856:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(33))},1857:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1858:function(e,t){e.exports=function(e){return e}},1859:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},1860:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},1861:function(e,t,n){var r=n(2020),o=n(2021),a=n(1774),i=n(1862),c=n(1860),s=n(2024),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&o(e),p=!n&&!u&&i(e),f=!n&&!u&&!p&&s(e),d=n||u||p||f,m=d?r(e.length,String):[],h=m.length;for(var y in e)!t&&!l.call(e,y)||d&&("length"==y||p&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,h))||m.push(y);return m}},1862:function(e,t,n){(function(e){var r=n(1582),o=n(2023),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a?r.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s}).call(this,n(87)(e))},1863:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},1864:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof navigator){var o=navigator.userAgent.match(/MSIE (\d+\.\d+)/);o&&(r=parseFloat(o[1],10)<9)}e.exports=r},1865:function(e,t,n){var r=n(1861),o=n(2060),a=n(1688);e.exports=function(e){return a(e)?r(e,!0):o(e)}},1866:function(e,t){e.exports=function(){return[]}},1867:function(e,t,n){var r=n(1868),o=n(1869),a=n(1778),i=n(1866),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=c},1868:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1869:function(e,t,n){var r=n(1863)(Object.getPrototypeOf,Object);e.exports=r},1870:function(e,t,n){var r=n(1868),o=n(1774);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},1871:function(e,t,n){"use strict";e.exports={EVENT_END_DELAY:100,DEFAULT_THROTTLE_RATE:50}},1872:function(e,t,n){},1881:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var r=n(1621),o=n(202),a=function(e){return{name:"description",property:"og:description",content:e}},i=function(e,t){if(e&&e.detail){var n=Object(r.b)(e.detail,100);if(n)return[a(n)]}else if(t&&t.content)return c(t);return[]},c=function(e){if(e&&e.content){var t=Object(r.b)(e.content,100);if(t)return[a(t)]}return[]},s=function(e){if(e){var t=e.headline,n=void 0===t?"":t,r=e.answerCount,i=void 0===r?0:r,c=e.voteupCount,s=void 0===c?0:c,l=n+" 回答数 "+Object(o.formatNumber)(i)+"，获得 "+Object(o.formatNumber)(s)+" 次赞同";return[a(l)]}return[]}},1882:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z",fillRule:"evenodd"}))};i.defaultProps={name:"Comment"},t.a=i},1883:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M19.472 3.373c.975-.982 2.136.177 1.158 1.157 0 0-3.148 3.165-4.581 4.584h2.928c.495 0 .77.412.773.8.004.462-.338.804-.773.802H14.06a.778.778 0 0 1-.773-.773v-4.9c.062-.432.404-.774.801-.771.453.002.798.347.801.771v2.913c1.14-1.134 3.793-3.789 4.583-4.583zm-9.53 9.913c.424.002.77.347.771.771v4.9c-.062.432-.404.774-.801.771-.453-.002-.798-.347-.801-.771v-2.913c-1.14 1.134-3.793 3.788-4.583 4.583-.975.982-2.136-.177-1.158-1.156 0 0 3.148-3.165 4.581-4.583H5.023c-.497 0-.772-.413-.774-.801-.003-.462.339-.804.774-.801h4.919z",fillRule:"evenodd"}))};i.defaultProps={name:"FullscreenExit"},t.a=i},1884:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M20.227 3a.777.777 0 0 1 .773.773V8.67c-.062.432-.404.774-.801.772-.453-.003-.799-.347-.801-.772V5.758a2194.05 2194.05 0 0 0-4.584 4.583c-.975.983-2.136-.177-1.158-1.155 0 0 3.148-3.166 4.582-4.584h-2.93c-.496 0-.77-.413-.773-.801-.003-.462.339-.804.774-.801h4.918zM9.187 13.659c.974-.983 2.135.177 1.155 1.155 0 0-3.147 3.166-4.581 4.584h2.93c.494 0 .77.413.772.801.004.462-.338.804-.773.801H3.772A.776.776 0 0 1 3 20.229v-4.9c.062-.432.404-.774.801-.772.453.003.799.347.801.772v2.913c1.14-1.134 3.794-3.789 4.584-4.583z",fillRule:"evenodd"}))};i.defaultProps={name:"FullscreenEnter"},t.a=i},1885:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(1796),u=n(3),p=n(7),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),f(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.page,r=e.prePage,o=e.onLoad,a=e.isNextLoaded;t||o(Object(p.c)(n),r),a||o(Object(p.c)(n+1),r)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isFetching,n=e.isDrained,r=e.isNextLoaded,o=e.page,a=e.prePage,i=e.onLoad,c=e.total;n||t||i(Object(p.c)(o),a),!r&&o<c&&o!==this.props.page&&i(Object(p.c)(o+1),a)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.total,r=e.page,o=e.onPaginationClick,a=e.isFetching,i=e.placeholder;return s.a.createElement("div",null,t,a&&i,n>1&&s.a.createElement(l.a,{current:r,total:n,clickCallback:o}))}}]),t}(),r.propTypes={isFetching:i.a.bool.isRequired,isDrained:i.a.bool.isRequired,onLoad:i.a.func.isRequired,total:i.a.number,page:i.a.number,prePage:i.a.number,placeholder:i.a.node,onPaginationClick:i.a.func.isRequired,isNextLoaded:i.a.bool},r.defaultProps={prePage:u.b,page:1},o)},1891:function(e,t,n){var r=n(1638);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},1892:function(e,t,n){"use strict";function r(){0}"undefined"!=typeof window?e.exports={listen:n(1852),subscribe:n(2029),unsubscribe:n(2093)}:e.exports={listen:r,subscribe:r,unsubscribe:r}},1893:function(e,t,n){"use strict";var r=n(1702),o=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return d.default.createElement(v.default,null,d.default.createElement(E,(0,a.default)({},e,{data:(0,h.camelizeKeys)(e.data)})))};var a=o(n(1687)),i=o(n(208)),c=o(n(209)),s=o(n(1657)),l=o(n(1659)),u=o(n(1658)),p=o(n(1660)),f=o(n(1638)),d=r(n(0)),m=o(n(1)),h=n(6),y=o(n(9)),b=o(n(26)),v=o(n(1850)),g=o(n(1695)),w=n(2094),M=n(1851),N=n(1791);n(2095);var E=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o))),(0,f.default)((0,u.default)(n),"state",{item:null}),(0,f.default)((0,u.default)(n),"getAdsenseSource",function(){var e=n.props.location,t=n.state.item.template,r=w.ADSENSE_SOURCE[e];return r[t]||r.default||w.defaultSourceValue}),(0,f.default)((0,u.default)(n),"trackImpression",function(){var e=n.state.item;if(e){var t=e.impressionTrackUrls,r=e.debugTracks,o={impressionTracks:t,viewTracks:e.viewTrackUrls,debugTracks:r};(0,M.initCmTrack)(n.card,o)}}),(0,f.default)((0,u.default)(n),"load",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.id,r=e.location,o=e.query,a=e.delay;clearTimeout(n.loadTimeout),a>0?n.loadTimeout=setTimeout(function(){(0,N.loadBanner)({id:t,location:r,query:o,url:"".concat(w.pathForAd).concat(r)}).then(function(e){n.setState({item:(0,h.camelizeKeys)(e)})})},a):(0,N.loadBanner)({id:t,location:r,query:o,url:"".concat(w.pathForAd).concat(r)}).then(function(e){n.setState({item:(0,h.camelizeKeys)(e)})})}),(0,f.default)((0,u.default)(n),"handleIframeLoad",function(){n.props.onHeightChange&&setTimeout(n.props.onHeightChange,w.TIMEOUT)}),(0,f.default)((0,u.default)(n),"handleImageLoad",function(){var e=n.state.item;e&&(n.debugTracks("image_onload"),n.trackImpression(),y.default.trackEvent((0,u.default)(n),{action:"Load"},{link:{url:e.landingUrl}}),n.props.onHeightChange&&setTimeout(n.props.onHeightChange,w.TIMEOUT))}),(0,f.default)((0,u.default)(n),"debugTracks",function(e){var t=n.state.item;if(t){var r=t.debugTracks,o=void 0===r?[]:r,a={et:e},i=b.default.stringify(a);o.map(function(e){return e?(0,N.request)(i?"".concat(e).concat(e.includes("?")?"&":"?").concat(i):e):null})}}),(0,f.default)((0,u.default)(n),"handleClose",function(){var e=n.state.item;e&&((0,M.closeTrack)([e.closeTrackUrl]),n.hideImage())}),(0,f.default)((0,u.default)(n),"handleLog",function(e){var t=n.state.item,r=t.landingUrl,o=t.clickTrackUrls;y.default.trackEvent(e.target,{action:"OpenUrl",url:window.location.href},{link:{url:r}}),(0,M.clickTrack)(o)}),(0,f.default)((0,u.default)(n),"hideImage",function(){var e=n.card.offsetHeight;n.card.style.height="".concat(e,"px"),n.timeout=setTimeout(function(){n.card.classList.add("Pc-card--hidden"),n.card.style.height=0,n.timeout=setTimeout(function(){n.props.onHeightChange&&n.props.onHeightChange()},w.TIMEOUT)},w.TICK)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.id,r=t.location,o=e.id,a=e.location;n===o&&r===a||(clearTimeout(this.timeout),this.setState({item:null}),this.load(e))}},{key:"render",value:function(){var e=this,t=this.state.item;if(!t)return null;var n=t.image,r=t.landingUrl,o=t.template,a=t.displayAdvertisingTag,i=void 0===a||a;return d.default.createElement("div",{className:"Pc-card Card",ref:function(t){e.card=t}},d.default.createElement("a",{className:"Banner-link",href:r,target:"_blank",onClick:this.handleLog},["google_pc_js","qihoo_pc_js"].includes(o)?d.default.createElement("iframe",{title:"third_ad",className:"Banner-adsense",src:this.getAdsenseSource(),scrolling:"no",frameBorder:"0",onLoad:this.handleIframeLoad}):d.default.createElement(d.default.Fragment,null,i&&d.default.createElement("div",{className:"Banner-adTag"},"广告"),d.default.createElement("img",{className:"Banner-image",src:n,alt:"广告",onLoad:this.handleImageLoad,onError:function(){return e.debugTracks("image_onerror")},ref:function(t){e.image=t}}))),this.props.isMobile||d.default.createElement("div",{className:"Pc-card-button-close ",onClick:this.handleClose,"data-tooltip":"不再显示","data-tooltip-position":"bottom"},d.default.createElement(g.default,{name:"close",className:"Pc-card-button-close-svg "})))}}]),t}(d.Component);(0,f.default)(E,"propTypes",{id:m.default.string,location:m.default.string.isRequired,onHeightChange:m.default.func,isMobile:m.default.bool}),(0,f.default)(E,"defaultProps",{isMobile:!1})},1894:function(e,t,n){"use strict";var r,o,a=n(1),i=n.n(a),c=n(0),s=n.n(c),l=n(382),u=(n(2096),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var p={unregistered:{url:"http://zhi.hu/BDXoI",qrcode:n(1781)},home:{url:"http://zhi.hu/BDXoI",qrcode:n(1781)},question:{url:"http://zhi.hu/BDXoI",qrcode:n(1781)}},f=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["Component"]),u(t,[{key:"renderContent",value:function(){var e=this.props.type;return s.a.createElement(l.d,{className:"AppBanner"},s.a.createElement("a",{className:"AppBanner-link",href:p[e].url},s.a.createElement("div",{className:"AppBanner-layout"},s.a.createElement("img",{className:"AppBanner-qrcode",src:p[e].qrcode,alt:"QR Code of Downloading Zhihu App"}),s.a.createElement("div",{className:"AppBanner-content"},s.a.createElement("div",{className:"AppBanner-title"},"下载知乎客户端"),s.a.createElement("div",{className:"AppBanner-description"},"与世界分享知识、经验和见解")))))}},{key:"render",value:function(){return this.context.currentUser?null:this.renderContent()}}]),t}(),r.contextTypes={currentUser:i.a.object},r.propTypes={type:i.a.oneOf(Object.keys(p)),getSidebar:i.a.func},r.defaultProps={type:"unregistered",getSidebar:function(){return null}},o);t.a=f},1895:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},1915:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.25a8.75 8.75 0 1 0 0-17.5 8.75 8.75 0 0 0 0 17.5zm0-2.431a1.17 1.17 0 0 1-.846-.344 1.143 1.143 0 0 1-.354-.856c0-.328.118-.61.354-.847.236-.235.518-.353.846-.353.328 0 .61.115.846.344.236.23.354.515.354.856 0 .342-.118.626-.354.856-.236.229-.518.344-.846.344zm1.534-6.228c-.163.154-.755.587-.843 1.532-.09.518-.377.777-.857.777a.86.86 0 0 1-.63-.254c-.17-.17-.255-.421-.255-.755 0-.419 0-1.055.684-1.895.206-.231.485-.506.835-.825.307-.28 1.158-.941 1.152-1.674a1.357 1.357 0 0 0-.428-1.01c-.286-.273-.655-.41-1.106-.41-.528 0-.917.138-1.166.414-.25.277-.46.684-.634 1.222-.163.563-.472.845-.928.845a.896.896 0 0 1-.68-.295c-.185-.197-.278-.41-.278-.64 0-.473.147-.952.44-1.438.292-.486.72-.888 1.28-1.207C10.683 6.16 11.339 6 12.087 6c.696 0 2.318.166 3.078 1.487.291.459.436.957.436 1.495 0 .423-.134 1.218-.839 1.94-.228.23-.637.62-1.227 1.169z",fillRule:"evenodd"}))};i.defaultProps={name:"HelpOutline"},t.a=i},1916:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.712 4.011l2.435.435a1.74 1.74 0 0 1 1.407 1.407l.435 2.435c.044.247.141.482.285.688l1.414 2.03a1.74 1.74 0 0 1 0 1.989l-1.414 2.029a1.74 1.74 0 0 0-.285.688l-.435 2.435a1.74 1.74 0 0 1-1.407 1.407l-2.435.435a1.74 1.74 0 0 0-.688.285l-2.03 1.414a1.74 1.74 0 0 1-1.989 0l-2.029-1.414a1.74 1.74 0 0 0-.688-.285l-2.435-.435a1.74 1.74 0 0 1-1.407-1.407l-.435-2.435a1.74 1.74 0 0 0-.285-.688l-1.414-2.03a1.74 1.74 0 0 1 0-1.989l1.414-2.029a1.74 1.74 0 0 0 .285-.688l.435-2.435a1.74 1.74 0 0 1 1.407-1.407l2.435-.435a1.74 1.74 0 0 0 .688-.285l2.03-1.414a1.74 1.74 0 0 1 1.989 0l2.029 1.414.688.285zM7.874 14.585l-.551 1.838a.204.204 0 0 0 .255.254l1.836-.55c.347-.105.662-.293.918-.548l4.46-4.462a.273.273 0 0 0 0-.385l-1.524-1.524a.273.273 0 0 0-.386 0l-4.46 4.461c-.256.256-.444.57-.548.916zm8.581-6.317l-.723-.723a.786.786 0 0 0-1.111 0l-.882.88a.262.262 0 0 0 0 .371l1.465 1.465a.262.262 0 0 0 .37 0l.881-.881a.786.786 0 0 0 0-1.112z",fillRule:"evenodd"}))};i.defaultProps={name:"BadgeWrite"},t.a=i},1917:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M11.674 20.55a9.334 9.334 0 1 1 9.66-9.286c-.02 5.939-4.29 10.752-9.89 11.98-.837.185-1.808-.075-1.148-.84.502-.583.963-1.202 1.378-1.854zM12 17.444A6.222 6.222 0 1 0 12 5a6.222 6.222 0 0 0 0 12.444zm0-3.11a3.111 3.111 0 1 1 0-6.223 3.111 3.111 0 0 1 0 6.222z"}))};i.defaultProps={name:"Realm"},t.a=i},1918:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M16 17.649V2.931a.921.921 0 0 0-.045-.283.943.943 0 0 0-1.182-.604L4.655 5.235A.932.932 0 0 0 4 6.122v14.947c0 .514.421.931.941.931H19.06c.52 0 .941-.417.941-.93V7.292a.936.936 0 0 0-.941-.931h-.773v12.834a.934.934 0 0 1-.83.924L6.464 21.416c-.02.002 2.94-.958 8.883-2.881a.932.932 0 0 0 .653-.886z",fillRule:"evenodd"}))};i.defaultProps={name:"Ebook"},t.a=i},1919:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.125 21h15.75c.621 0 1.125-.593 1.125-1.324 0-.73-.504-1.323-1.125-1.323H4.125c-.621 0-1.125.593-1.125 1.323C3 20.407 3.504 21 4.125 21z"}),o.a.createElement("path",{d:"M15.69 3.826c0-.457-.418-.826-.92-.826H9.23c-.508 0-.92.37-.92.827V9.64H5.538c-1.015 0-1.255.526-.533 1.175l6.344 5.709a1 1 0 0 0 1.302 0l6.344-5.71c.722-.648.483-1.175-.535-1.175h-2.77V3.826z",fillRule:"nonzero"})))};i.defaultProps={name:"StickyUnset"},t.a=i},1920:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.125 3h15.75C20.496 3 21 3.593 21 4.324c0 .73-.504 1.323-1.125 1.323H4.125C3.504 5.647 3 5.054 3 4.324 3 3.593 3.504 3 4.125 3z"}),o.a.createElement("path",{d:"M15.69 20.174c0 .457-.418.826-.92.826H9.23c-.508 0-.92-.37-.92-.827V14.36H5.538c-1.015 0-1.255-.526-.533-1.175l6.344-5.709a1 1 0 0 1 1.302 0l6.344 5.71c.722.648.483 1.175-.535 1.175h-2.77v5.813z",fillRule:"nonzero"})))};i.defaultProps={name:"StickySet"},t.a=i},1990:function(e,t,n){},1991:function(e,t,n){},1992:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 11l-3.716 3.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l4.249-4.512a.758.758 0 0 1 1.064 0l4.246 4.512a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063 0L12.002 11z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowUp"},t.a=i},1994:function(e,t,n){},1995:function(e,t,n){},1996:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z",fillRule:"evenodd"}))};i.defaultProps={name:"Like"},t.a=i},1997:function(e,t,n){},1998:function(e,t,n){},1999:function(e,t,n){},2000:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},2001:function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}},2002:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},2003:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},2004:function(e,t,n){var r=n(1771),o=n(1649),a=n(2011),i=n(1688),c=n(1689),s=n(1690),l=Object.prototype.hasOwnProperty,u=a(function(e,t){if(c(t)||i(t))o(t,s(t),e);else for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=u},2005:function(e,t,n){var r=n(1855),o=n(2008),a=n(1590),i=n(1857),c=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,p=l.hasOwnProperty,f=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?f:c).test(i(e))}},2006:function(e,t,n){var r=n(1772),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}},2007:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},2008:function(e,t,n){var r,o=n(2009),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},2009:function(e,t,n){var r=n(1582)["__core-js_shared__"];e.exports=r},2010:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},2011:function(e,t,n){var r=n(2012),o=n(2019);e.exports=function(e){return r(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,c&&o(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}},2012:function(e,t,n){var r=n(1858),o=n(2013),a=n(2015);e.exports=function(e,t){return a(o(e,t,r),e+"")}},2013:function(e,t,n){var r=n(2014),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,c=o(a.length-t,0),s=Array(c);++i<c;)s[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=n(s),r(e,this,l)}}},2014:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},2015:function(e,t,n){var r=n(2016),o=n(2018)(r);e.exports=o},2016:function(e,t,n){var r=n(2017),o=n(1854),a=n(1858),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},2017:function(e,t){e.exports=function(e){return function(){return e}}},2018:function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,a=0;return function(){var i=o(),c=r-(i-a);if(a=i,c>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},2019:function(e,t,n){var r=n(1773),o=n(1688),a=n(1860),i=n(1590);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&a(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},2020:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2021:function(e,t,n){var r=n(2022),o=n(1631),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},2022:function(e,t,n){var r=n(1648),o=n(1631),a="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==a}},2023:function(e,t){e.exports=function(){return!1}},2024:function(e,t,n){var r=n(2025),o=n(1775),a=n(1776),i=a&&a.isTypedArray,c=i?o(i):r;e.exports=c},2025:function(e,t,n){var r=n(1648),o=n(1859),a=n(1631),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},2026:function(e,t,n){var r=n(1689),o=n(2027),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2027:function(e,t,n){var r=n(1863)(Object.keys,Object);e.exports=r},2028:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof window)try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,o)}catch(e){}e.exports=r},2029:function(e,t,n){"use strict";var r=n(1650),o=n(1864),a=n(2030),i=n(1871).DEFAULT_THROTTLE_RATE;e.exports=function(e,t,n){var c=(n=n||{}).useRAF||!1,s=parseInt(n.throttleRate,10),l=n.eventOptions;return isNaN(s)&&(s=i),c&&(s="raf"),o&&(s=0),r.enableScrollInfo=r.enableScrollInfo||n.enableScrollInfo||!1,r.enableResizeInfo=r.enableResizeInfo||n.enableResizeInfo||!1,r.enableTouchInfo=r.enableTouchInfo||n.enableTouchInfo||!1,a[e](s,t,n,l)}},2030:function(e,t,n){"use strict";var r,o,a,i=n(2031),c=n(2086),s=n(2091),l=n(1650),u=l.connections,p=l.EE,f=n(1864),d=n(1852),m=l.listeners,h=n(2092),y=l.removers,b=(l.subscriptions,n(1871).EVENT_END_DELAY),v=0;function g(e){return e.id||"target-id-"+v++}function w(e,t,n,r){return p.on(e,t,n),u[r=r||e]=(u[r]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){p.removeListener(e,t,n),u[r]--,0===u[r]&&(m[r].remove(),m[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var o=y.length-1;o>=0;o--){if(y[o]===this){y.splice(o,1);break}}}}}}function M(e,t,n,r){return function(o,a,l){var u=l.context,v=l.target,M=v&&g(v),N=M?":"+M:"",E=t+"Start:"+o+N,O=t+"End:"+o+N,j=t+":"+o+N,T=w(n+":"+o+N,a,u,j);if(y.push(T),m[j])return T;var C,k={start:new s({mainType:t,subType:"start"}),main:new s({mainType:t}),end:new s({mainType:t,subType:"end"})};function D(e){k.end.update(e),p.emit(O,e,k.end),C=null}function I(e){C||(k.start.update(e),p.emit(E,e,k.start)),clearTimeout(C),k.main.update(e),p.emit(j,e,k.main),f?(e=i(e),C=setTimeout(function(){D(e)},o+b)):C=setTimeout(D.bind(null,e),o+b)}return"raf"===o?(o=16,I=h(I)):o>0&&(I=c(I,o)),m[j]=d(v||e,t,I,r),T}}function N(e,t){return function(n,r,o){var a=o.context,i=o.target,c=i&&g(i),l=t+":0"+(c?":"+c:""),u=w(l,r,a);if(y.push(u),m[l])return u;var f=new s({mainType:t});return m[l]=d(i||e,t,function(e){f.update(e),p.emit(l,e,f)}),u}}"undefined"!=typeof window&&(a=(r=(o=window).document||document).body),e.exports={scrollStart:M(o,"scroll","scrollStart"),scrollEnd:M(o,"scroll","scrollEnd"),scroll:M(o,"scroll","scroll"),resizeStart:M(o,"resize","resizeStart"),resizeEnd:M(o,"resize","resizeEnd"),resize:M(o,"resize","resize"),visibilitychange:N(r,"visibilitychange"),touchmoveStart:M(a,"touchmove","touchmoveStart"),touchmoveEnd:M(a,"touchmove","touchmoveEnd"),touchmove:M(a,"touchmove","touchmove"),touchstart:N(a,"touchstart"),touchend:N(a,"touchend")}},2031:function(e,t,n){var r=n(2032),o=4;e.exports=function(e){return r(e,o)}},2032:function(e,t,n){var r=n(2033),o=n(2057),a=n(1771),i=n(2058),c=n(2059),s=n(2062),l=n(2063),u=n(2064),p=n(2066),f=n(2067),d=n(2068),m=n(1779),h=n(2073),y=n(2074),b=n(2080),v=n(1774),g=n(1862),w=n(2082),M=n(1590),N=n(2084),E=n(1690),O=1,j=2,T=4,C="[object Arguments]",k="[object Function]",D="[object GeneratorFunction]",I="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[I]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,z,S,x,_){var P,L=n&O,R=n&j,Q=n&T;if(z&&(P=x?z(t,S,x,_):z(t)),void 0!==P)return P;if(!M(t))return t;var U=v(t);if(U){if(P=h(t),!L)return l(t,P)}else{var B=m(t),Y=B==k||B==D;if(g(t))return s(t,L);if(B==I||B==C||Y&&!x){if(P=R||Y?{}:b(t),!L)return R?p(t,c(P,t)):u(t,i(P,t))}else{if(!A[B])return x?t:{};P=y(t,B,L)}}_||(_=new r);var q=_.get(t);if(q)return q;if(_.set(t,P),N(t))return t.forEach(function(r){P.add(e(r,n,z,r,t,_))}),P;if(w(t))return t.forEach(function(r,o){P.set(o,e(r,n,z,o,t,_))}),P;var H=Q?R?d:f:R?keysIn:E,F=U?void 0:H(t);return o(F||t,function(r,o){F&&(r=t[o=r]),a(P,o,e(r,n,z,o,t,_))}),P}},2033:function(e,t,n){var r=n(1691),o=n(2039),a=n(2040),i=n(2041),c=n(2042),s=n(2043);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=c,l.prototype.set=s,e.exports=l},2034:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},2035:function(e,t,n){var r=n(1692),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2036:function(e,t,n){var r=n(1692);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},2037:function(e,t,n){var r=n(1692);e.exports=function(e){return r(this.__data__,e)>-1}},2038:function(e,t,n){var r=n(1692);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},2039:function(e,t,n){var r=n(1691);e.exports=function(){this.__data__=new r,this.size=0}},2040:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2041:function(e,t){e.exports=function(e){return this.__data__.get(e)}},2042:function(e,t){e.exports=function(e){return this.__data__.has(e)}},2043:function(e,t,n){var r=n(1691),o=n(1777),a=n(2044),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var c=n.__data__;if(!o||c.length<i-1)return c.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(c)}return n.set(e,t),this.size=n.size,this}},2044:function(e,t,n){var r=n(2045),o=n(2052),a=n(2054),i=n(2055),c=n(2056);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=c,e.exports=s},2045:function(e,t,n){var r=n(2046),o=n(1691),a=n(1777);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},2046:function(e,t,n){var r=n(2047),o=n(2048),a=n(2049),i=n(2050),c=n(2051);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=c,e.exports=s},2047:function(e,t,n){var r=n(1693);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2048:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2049:function(e,t,n){var r=n(1693),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}},2050:function(e,t,n){var r=n(1693),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},2051:function(e,t,n){var r=n(1693),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},2052:function(e,t,n){var r=n(1694);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},2053:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},2054:function(e,t,n){var r=n(1694);e.exports=function(e){return r(this,e).get(e)}},2055:function(e,t,n){var r=n(1694);e.exports=function(e){return r(this,e).has(e)}},2056:function(e,t,n){var r=n(1694);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},2057:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},2058:function(e,t,n){var r=n(1649),o=n(1690);e.exports=function(e,t){return e&&r(t,o(t),e)}},2059:function(e,t,n){var r=n(1649),o=n(1865);e.exports=function(e,t){return e&&r(t,o(t),e)}},2060:function(e,t,n){var r=n(1590),o=n(1689),a=n(2061),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&i.call(e,c))&&n.push(c);return n}},2061:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},2062:function(e,t,n){(function(e){var r=n(1582),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,c=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(87)(e))},2063:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2064:function(e,t,n){var r=n(1649),o=n(1778);e.exports=function(e,t){return r(e,o(e),t)}},2065:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},2066:function(e,t,n){var r=n(1649),o=n(1867);e.exports=function(e,t){return r(e,o(e),t)}},2067:function(e,t,n){var r=n(1870),o=n(1778),a=n(1690);e.exports=function(e){return r(e,a,o)}},2068:function(e,t,n){var r=n(1870),o=n(1867),a=n(1865);e.exports=function(e){return r(e,a,o)}},2069:function(e,t,n){var r=n(1616)(n(1582),"DataView");e.exports=r},2070:function(e,t,n){var r=n(1616)(n(1582),"Promise");e.exports=r},2071:function(e,t,n){var r=n(1616)(n(1582),"Set");e.exports=r},2072:function(e,t,n){var r=n(1616)(n(1582),"WeakMap");e.exports=r},2073:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},2074:function(e,t,n){var r=n(1780),o=n(2076),a=n(2077),i=n(2078),c=n(2079),s="[object Boolean]",l="[object Date]",u="[object Map]",p="[object Number]",f="[object RegExp]",d="[object Set]",m="[object String]",h="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",w="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",T="[object Uint32Array]";e.exports=function(e,t,n){var C=e.constructor;switch(t){case y:return r(e);case s:case l:return new C(+e);case b:return o(e,n);case v:case g:case w:case M:case N:case E:case O:case j:case T:return c(e,n);case u:return new C;case p:case m:return new C(e);case f:return a(e);case d:return new C;case h:return i(e)}}},2075:function(e,t,n){var r=n(1582).Uint8Array;e.exports=r},2076:function(e,t,n){var r=n(1780);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2077:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},2078:function(e,t,n){var r=n(1772),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},2079:function(e,t,n){var r=n(1780);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2080:function(e,t,n){var r=n(2081),o=n(1869),a=n(1689);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},2081:function(e,t,n){var r=n(1590),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},2082:function(e,t,n){var r=n(2083),o=n(1775),a=n(1776),i=a&&a.isMap,c=i?o(i):r;e.exports=c},2083:function(e,t,n){var r=n(1779),o=n(1631),a="[object Map]";e.exports=function(e){return o(e)&&r(e)==a}},2084:function(e,t,n){var r=n(2085),o=n(1775),a=n(1776),i=a&&a.isSet,c=i?o(i):r;e.exports=c},2085:function(e,t,n){var r=n(1779),o=n(1631),a="[object Set]";e.exports=function(e){return o(e)&&r(e)==a}},2086:function(e,t,n){var r=n(2087),o=n(1590),a="Expected a function";e.exports=function(e,t,n){var i=!0,c=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,c="trailing"in n?!!n.trailing:c),r(e,t,{leading:i,maxWait:t,trailing:c})}},2087:function(e,t,n){var r=n(1590),o=n(2088),a=n(2089),i="Expected a function",c=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,p,f,d,m,h=0,y=!1,b=!1,v=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function w(e){var n=e-m;return void 0===m||n>=t||n<0||b&&e-h>=p}function M(){var e=o();if(w(e))return N(e);d=setTimeout(M,function(e){var n=t-(e-m);return b?s(n,p-(e-h)):n}(e))}function N(e){return d=void 0,v&&l?g(e):(l=u=void 0,f)}function E(){var e=o(),n=w(e);if(l=arguments,u=this,m=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(M,t),y?g(e):f}(m);if(b)return d=setTimeout(M,t),g(m)}return void 0===d&&(d=setTimeout(M,t)),f}return t=a(t)||0,r(n)&&(y=!!n.leading,p=(b="maxWait"in n)?c(a(n.maxWait)||0,t):p,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=m=u=d=void 0},E.flush=function(){return void 0===d?f:N(o())},E}},2088:function(e,t,n){var r=n(1582);e.exports=function(){return r.Date.now()}},2089:function(e,t,n){var r=n(1590),o=n(2090),a=NaN,i=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):c.test(e)?a:+e}},2090:function(e,t,n){var r=n(1648),o=n(1631),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==a}},2091:function(e,t,n){"use strict";var r=n(1650),o={width:0,height:0},a={delta:0,top:0},i={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0};function c(e){var t=((e=e||{}).mainType||"").toLowerCase(),n=(e.subType||"").toLowerCase();this.mainType=t,this.subType=n,this.type=t+n.charAt(0).toUpperCase()+n.slice(1)||"",this.scroll=a,this.resize=o,this.touch=i}c.prototype={getXY:function(e){var t={x:0,y:0},n=document.body,r=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+r.scrollLeft,t.y=e.clientY+n.scrollTop+r.scrollTop),t},update:function(e){var t,n,o,a=this.mainType,i=this.subType,c=document.documentElement;if(r.enableScrollInfo&&("scroll"===a||"touchmove"===a)){var s=c.scrollTop+document.body.scrollTop;s!==this.scroll.top&&(this.scroll.delta=s-this.scroll.top,this.scroll.top=s)}(r.enableResizeInfo&&"resize"===a&&(this.resize.width=window.innerWidth||c.clientWidth,this.resize.height=window.innerHeight||c.clientHeight),r.enableTouchInfo&&e.touches&&("touchstart"===a||"touchmove"===a||"touchend"===a))&&("touchstart"===a||"start"===i?(t=this.getXY(e.touches[0]),this.touch.axisIntention="",this.touch.startX=t.x,this.touch.startY=t.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===a&&(t=this.getXY(e.touches[0]),this.touch.deltaX=t.x-this.touch.startX,this.touch.deltaY=t.y-this.touch.startY,""===this.touch.axisIntention&&(n=Math.abs(this.touch.deltaX),o=Math.abs(this.touch.deltaY),n>5&&n>=o?this.touch.axisIntention="x":o>5&&o>n&&(this.touch.axisIntention="y"))))}},e.exports=c},2092:function(e,t,n){"use strict";var r=n(692),o=Date.now||function(){return(new Date).getTime()};e.exports=function(e,t){var n,a,i=0,c=0;t=t||15;var s=function s(){var l=o();t-(l-i)<=0?(i=l,c=0,e.apply(n,a)):c=r(s)};return function(){n=this,a=arguments,c||(c=r(s))}}},2093:function(e,t,n){"use strict";var r=n(1650).removers;e.exports=function(e,t,n){for(var o,a=r.length-1;a>=0;a--)(o=r[a])._cb===t&&o._type.indexOf(e)>=0&&(o.unsubscribe(),r.splice(a,1))}},2094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathForAd=t.TIMEOUT=t.TICK=t.defaultSourceValue=t.ADSENSE_SOURCE=void 0;t.defaultSourceValue="https://www.zhihu.com/home_bottom.html";var r={new_answer_down_sticky:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/inner_bottom.html"},new_answer_up:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/inner_top.html"},new_question_up:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/inner_top.html"},new_question_down_sticky:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/inner_bottom.html"},new_home_up:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/home_bottom.html"},new_home_bottom:{qihoo_pc_js:"https://www.zhihu.com/home_top_360.html",default:"https://www.zhihu.com/home_top.html"}};t.ADSENSE_SOURCE=r;t.TICK=17;t.TIMEOUT=300;t.pathForAd="https://www.zhihu.com/api/v4/alter_banners/"},2095:function(e,t,n){},2096:function(e,t,n){},2097:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},2098:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,a,i,c){var s=n+(-a*(t-o)+-i*n)*e,l=t+s*e;if(Math.abs(s)<c&&Math.abs(l-o)<c)return r[0]=o,r[1]=0,r;return r[0]=l,r[1]=s,r};var r=[0,0];e.exports=t.default},2099:function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(40))},2100:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var o="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==o)return!1}return!0},e.exports=t.default},2101:function(e,t,n){e.exports=n(31)(7)},2115:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(2),s=n.n(c),l=n(1996),u="TopicVoteCheckbox",p=(n(1995),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=[0,1,2,3,4,5,6,7].map(function(e){return o.a.createElement("div",{className:u+"-Sparkle",key:e})}),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onChange,r=e.checked,a=e.onClick,i=e.tooltipPosition;return o.a.createElement("div",p({className:s()(u,u+"--recommend",t),"data-tooltip":"推荐"},i&&{"data-tooltip-position":i}),o.a.createElement("input",{id:"topic-recommend",type:"checkbox",checked:r,onChange:n,onClick:a}),o.a.createElement("label",{htmlFor:"topic-recommend"},o.a.createElement(l.a,{size:19}),d))}}]),t}(),h=(n(1997),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b,v,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),y(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onChange,r=e.checked,a=e.onClick,i=e.tooltipPosition;return o.a.createElement("div",h({className:s()(u,u+"--against",t),"data-tooltip":"不推荐"},i&&{"data-tooltip-position":i}),o.a.createElement("input",{id:"topic-against",type:"checkbox",checked:r,onChange:n,onClick:a}),o.a.createElement("label",{htmlFor:"topic-against"},o.a.createElement(l.a,{size:19})))}}]),t}(),w=(n(1998),{Recommend:m,Against:g}),M=(n(1999),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var N,E,O=function(e){return e.stopPropagation()},j=(v=b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),M(t,[{key:"render",value:function(){var e=this.props,t=e.noAnimation,n=e.status,r=e.onVoteChange,a=e.tooltipPosition;return o.a.createElement("span",{className:"VotableTopicCard",onClick:O},o.a.createElement("span",{className:s()("VotableTopicCard-RecommendStatus",{"VotableTopicCard-VoteActions--noAnimation":t})},o.a.createElement(w.Recommend,{className:"VotableTopicCard-VoteCheckbox",checked:"like"===n,onChange:function(e){r(e,"recommend")},tooltipPosition:a}),o.a.createElement(w.Against,{className:"VotableTopicCard-VoteCheckbox",checked:"dislike"===n,onChange:function(e){r(e,"unrecommend")},tooltipPosition:a})))}}]),t}(),b.propTypes={noAnimation:i.a.bool.isRequired,status:i.a.oneOf(["like","dislike","none"]).isRequired,noBorder:i.a.bool.isRequired,onVoteChange:i.a.func.isRequired,tooltipPosition:i.a.string},v),T=n(9),C=n(202),k=n(10),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A={Upvote:"Upvote",UnUpvote:"UnUpvote",Downvote:"Downvote",UnDownvote:"UnDownvote"},z=(E=N=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={noAnimation:!!r.props.metaInfo.vote&&"none"!==r.props.metaInfo.vote.status},r.handleVoteChange=r.context.authRequired(function(e,t){var n=r.props,o=n.metaInfo.vote.status,a=n.onUpdateVoteTopic;r.state.noAnimation&&r.setState({noAnimation:!1});var i={actionType:"",voteFor:"",method:""};"recommend"===t?"like"===o?(i.actionType=A.UnUpvote,i.voteFor="like",i.method="DELETE"):(i.actionType=A.Upvote,i.voteFor="like",i.method="POST"):"dislike"===o?(i.actionType=A.UnDownvote,i.voteFor="dislike",i.method="DELETE"):(i.actionType=A.Downvote,i.voteFor="dislike",i.method="POST"),i.actionType&&(T.default.trackEvent(e.target,{action:i.actionType,id:4176}),a(i))},k.N.vote),I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),D(t,[{key:"renderVotableTopicCard",value:function(){var e=this.state.noAnimation,t=this.props,n=t.tooltipPosition,r=t.metaInfo,a=(r=void 0===r?{}:r).vote,i=(a=void 0===a?{}:a).status;return o.a.createElement(j,{noBorder:!0,status:i,noAnimation:e,onVoteChange:this.handleVoteChange,tooltipPosition:n})}},{key:"renderReviewCardExtraInfo",value:function(){var e=this.props,t=e.metaInfo,n=t.vote,r=t.meta.title,a=e.ReviewCardExtraInfoComponent,i=e.reviewerCountFormatter;if(!a)return null;var c=n.totalVotes,s=n.ratio,l=n.ratioStatus,u=n.status,p=(100*s).toFixed(0),f=i(c),d=void 0;return d="none"===u?"你推荐么？":"like"===u?"已推荐":"不推荐",o.a.createElement(a,{reviewerCount:f,insufficientText:d,percent:p,ratioStatus:l,title:r})}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,this.renderReviewCardExtraInfo(),this.props.children,this.renderVotableTopicCard())}}]),t}(),N.propTypes={onUpdateVoteTopic:i.a.func.isRequired,metaInfo:i.a.shape({meta:i.a.object.isRequired,vote:i.a.shape({status:i.a.oneOf(["none","dislike","like"]).isRequired})}),ReviewCardExtraInfoComponent:i.a.oneOfType([i.a.func,i.a.string,i.a.object]).isRequired,reviewerCountFormatter:i.a.func.isRequired,tooltipPosition:i.a.string},N.defaultProps={reviewerCountFormatter:function(e){return e>1e4?Object(C.niceNumber)(e):Object(C.formatNumber)(e)}},N.contextTypes={authRequired:i.a.func},E);n.d(t,"a",function(){return z})},2118:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),c=n(2),s=n.n(c),l=n(24),u=n(4),p=n(1586),f=n(403),d=n(23),m=n(1623),h=n(1),y=n.n(h),b=(n(1990),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var v=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),b(t,[{key:"render",value:function(){var e=this.props.tips;return i.a.createElement("div",{className:"QuestionReviewInfo"},i.a.createElement("p",null,e))}}]),t}(),r.propsTypes={tips:y.a.string},o),g=n(1581),w=n(1621),M=(n(1991),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={previewImage:null,truncated:null},r.handleClick=function(e){var t=r.props,n=t.collapsed,o=t.onExpand;r.state.truncated.isTruncated&&n&&"function"==typeof o&&o(),r.handlePreviewImage(e)},r.handlePreviewImage=function(e){var t=e.target;"IMG"===t.tagName&&t.classList.contains("zh-lightbox-thumb")&&r.setState({previewImage:t})},r.handlePreviewImageClose=function(){r.setState({previewImage:null})},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),M(t,[{key:"componentWillMount",value:function(){if(Object(d.isBrowser)()){var e=this.truncateHTML(this.props);this.setState({truncated:e,hasVideo:e&&e.thumbnailInfo.id&&"video"===e.thumbnailInfo.type,thumbnail:e&&e.thumbnailInfo.url})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.html;this.props.html!==t&&this.setState({truncated:this.truncateHTML(e)})}},{key:"truncateHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Object(f.truncateHTML)(Object(m.a)(e.html),75,{placeholders:{img:" [图片] "}})}},{key:"render",value:function(){var e=this.props,t=e.html,n=e.collapsed,r=e.editable,o=e.onEdit,a=e.excerpt,c=e.reviewInfo,f=this.state,d=f.previewImage,m=f.truncated,h=f.hasVideo,y=f.thumbnail,b=m||{isTruncated:a.length<=t.length,content:a},M=b.isTruncated,N=b.content,E=c.tips,O=M&&n;return i.a.createElement("div",null,E&&h&&i.a.createElement(v,{tips:E}),i.a.createElement("div",{className:"QuestionHeader-detail"},i.a.createElement("div",{className:s()("QuestionRichText",{"QuestionRichText--expandable":M,"QuestionRichText--collapsed":n,"QuestionRichText--video":h&&n}),onClick:this.handleClick},h&&n&&i.a.createElement("div",{className:"QuestionRichText--wrapImgae"},i.a.createElement("img",{src:y,alt:"video",className:"QuestionRichText--image"})),i.a.createElement("div",null,n&&!N?i.a.createElement("span",null,Object(w.a)(a,75)):i.a.createElement(g.a,{itemProp:"text",tag:"span",html:O?N:t}),O&&i.a.createElement(u.c,{preset:"plain",className:"QuestionRichText-more"},"显示全部",i.a.createElement(l.a,{name:"arrow",className:"QuestionRichText-more-icon"}))),r&&!O&&i.a.createElement(u.c,{preset:"plain",className:"QuestionHeader-edit",onClick:o},i.a.createElement(l.a,{name:"modify",left:!0}),"修改"),d&&i.a.createElement(p.a,{img:d,onClose:this.handlePreviewImageClose}))))}}]),t}();t.a=E},2137:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-2.762-5.37c.243.246.452.37.78.37.33 0 .576-.203.827-.443.25-.24 7.052-7.054 7.052-7.054a.988.988 0 0 0-.311-1.354.973.973 0 0 0-1.345.315l-6.222 6.077-2.31-2.418a.971.971 0 0 0-1.368-.19.988.988 0 0 0-.188 1.377s2.841 3.074 3.085 3.32z",fillRule:"evenodd"}))};i.defaultProps={name:"CheckCircle"},t.a=i},2139:function(e,t,n){},2140:function(e,t,n){},2141:function(e,t,n){},2142:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r,o=n(0),a=n.n(o),i=n(13),c=n(2454),s=n(58),l=n(99),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=Object(i.connect)(function(e){var t=e.question;return{brand:t.brand,advancedStyle:t.advancedStyle}},{loadBrandQuestionAdvancedStyle:s.r})(r=function(t){function n(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=o=p(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(i))),o.getTrackUrls=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.props,a=r.pageType,i=r.advancedStyle,c=i.viewTracks,s=i.clickTracks,l="view"===t?c:s,u=Object.assign({},{eru:encodeURIComponent(e.location.href),ct:1,pt:"question"===a?1:2,rt:1},n),p=Object.keys(u).map(function(e){return"&"+e+"="+u[e]}).join("");return l.map(function(e){return""+e+p})},o.handleViewTrack=function(e){o.getTrackUrls("view",e).forEach(l.c)},o.handleClickTrack=function(e){o.getTrackUrls("click",e).forEach(l.c)},p(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o["Component"]),u(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.questionId;(0,e.loadBrandQuestionAdvancedStyle)(t)}},{key:"componentDidUpdate",value:function(e){var t=e.advancedStyle,n=(t=void 0===t?{}:t).cardType,r=this.props,o=r.advancedStyle,a=(o=void 0===o?{}:o).cardType,i=r.onLoad;!n&&a&&"function"==typeof i&&i()}},{key:"render",value:function(){var e=this.props,t=e.brand,n=e.advancedStyle;return n&&n.id?a.a.createElement(c.a,{brand:t,advancedStyle:n,handleViewTrack:this.handleViewTrack,handleClickTrack:this.handleClickTrack,isMobileView:!1}):null}}]),n}())||r}).call(this,n(33))},2143:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},2144:function(e,t,n){},2417:function(e,t,n){},2418:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTIiIGhlaWdodD0iMTcyIiB2aWV3Qm94PSIwIDAgMjUyIDE3MiI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj4KICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKC0xNiAyODkuMzQ2IC0xODYuMDgyKSI+CiAgICAgIDxwYXRoIGZpbGw9IiNGRkYiIHN0cm9rZT0iIzgyODk5QyIgc3Ryb2tlLXdpZHRoPSIxLjY3OSIgZD0iTTY0LjIzMzcwMzIsNTAuOTU1NDM5MSBDNjkuMzI2NzI2LDUwLjczMDExNTMgNzEuODM2MzMxNCw1My4wODYyOTg3IDcxLjc2MjUxOTUsNTguMDIzOTg5MSBDNzEuNjg4NzA3Niw2Mi45NjE2Nzk1IDY5LjE3OTEwMjEsNjUuMTAzODc0NiA2NC4yMzM3MDMyLDY0LjQ1MDU3NDUiIHRyYW5zZm9ybT0icm90YXRlKDQgNjcuOTk5IDU3Ljc1MykiLz4KICAgICAgPHBhdGggZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjODI4OTlDIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEuNjc5IiBkPSJNNDAuNDIzNzQ3OCwxNC4yMTgwNDE2IEwzOS4xNDk0MDI0LDUuNDU4MTczODUgQzM5LjA5NjAwODgsNS4wOTExNDU4MiAzOC43NTUxODk4LDQuODM2ODk0ODQgMzguMzg4MTYxOCw0Ljg5MDI4ODQgQzM4LjMyMDgyMTgsNC45MDAwODQ3MSAzOC4yNTUzNjIsNC45MjAwNTkwNyAzOC4xOTQwMjQ3LDQuOTQ5NTI3MjIgTDI4Ljg5NDU0ODUsOS40MTcyNTMzMSBDMjcuNTExMTA5NCwxMC4wODE4OTYyIDI1Ljg5MDMyNDIsMTAuMDI5MzI5NyAyNC41NTI4NTk1LDkuMjc2NDQwNTMgQzE1LjUxNzIzOTIsNC4xOTAwODUyOSA5LjgzNTYxOTY2LDIuMTEzNjY1ODkgNy41MDgwMDEwNCwzLjA0NzE4MjMzIEMzLjc1MTU0ODg5LDQuNTUzNzQ3OCAyLjMzNTcyMzE0LDEwLjc1NzIyMDQgNC42MzA2NTk5OCwxNS4xODgwMzcxIEM2LjE2MDYxNzg3LDE4LjE0MTkxNDkgMTAuMzYyMjIyMSwyMS41NDQ1ODAzIDE3LjIzNTQ3MjYsMjUuMzk2MDMzMSBDMTYuMzk3NjQ3MiwzNy40NTg3OTgxIDE1LjUxNzgwMjIsNDYuMTY1NTMyMiAxNC41OTU5Mzc0LDUxLjUxNjIzNTQgQzEzLjIxMzE0MDMsNTkuNTQyMjkwMSAxMi45NDI0NTc4LDY1Ljk0NjAxNjMgMjIuMjU2NDQ1NCw2OC45ODEwOTI4IEMzMS41NzA0MzMxLDcyLjAxNjE2OTMgNTEuNzg1MDMzOCw3NC40ODI4NTQ4IDU4LjQ5NzU0NTIsNjguOTgxMDkyOCBDNjUuMjEwMDU2NSw2My40NzkzMzA4IDYyLjY1NDc0NDMsNTUuMzEyMjc1NiA2Mi4zMzIxNjUsNTEuNTE2MjM1NCBDNjIuMTIwNDY5MSw0OS4wMjUwNDU0IDYzLjU3NzUwNDcsMzYuNTE5OTU5NCA2Ni43MDMyNzE4LDE0LjAwMDk3NzMgTDY2LjcwMzI2MTYsMTQuMDAwOTc1OSBDNjYuNzU0MjUzOCwxMy42MzM2MTIzIDY2LjQ5Nzc4NDIsMTMuMjk0NDY3OSA2Ni4xMzA0MjA1LDEzLjI0MzQ3NTYgQzY2LjAyNjY5NDYsMTMuMjI5MDc3OSA2NS45MjEwMzksMTMuMjM5MTM3NSA2NS44MjE4OTM5LDEzLjI3Mjg1MSBMNTIuODIyNjgyMiwxNy42OTMxMjc0IEw0MC40MjM3NDc4LDE0LjIxODA0MTYgWiIgdHJhbnNmb3JtPSJyb3RhdGUoLTUgMzUuMTg3IDM3LjUzOCkiLz4KICAgICAgPHBhdGggZmlsbD0iIzgyODk5QyIgZD0iTTE1LjMxNTI0OCw4LjQ0NjE3MjU2IEw4LjMxODMzMTU0LDIzLjQ1ODYzMjggQzMuNzEzOTMwMzQsMjAuNDY2NDQyMSAxLjQxMTcyOTc0LDE2Ljg5MzUyMDggMS40MTE3Mjk3NCwxMi43Mzk4NjkgQzEuNDExNzI5NzQsNi41MDkzOTE0IDUuMTQ2NjY2ODYsNS44NTQwNzM0MiA3LjE0OTU2OTMzLDUuNjcwNzcwMzMgQzguNDg0ODM3NjUsNS41NDg1NjgyOCAxMS4yMDY3MzA1LDYuNDczNzAyMzUgMTUuMzE1MjQ4LDguNDQ2MTcyNTYgWiIvPgogICAgICA8ZWxsaXBzZSBjeD0iNDEuMjExIiBjeT0iMjEuNjEyIiBmaWxsPSIjODI4OTlDIiByeD0iMi41NyIgcnk9IjIuNTYxIi8+CiAgICAgIDxwYXRoIHN0cm9rZT0iIzgyODk5QyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xNC45NjIwMzUzLDM2Ljk4OTc5NTkgQzkuNDUwNDczNSw0MC43NDcwMjE1IDYuNTg4OTc4NzUsNDUuNTM3NzE1NyA2LjM3NzU1MTAyLDUxLjM2MTg3ODYiLz4KICAgICAgPGcgc3Ryb2tlPSIjODI4OTlDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDIyOC4wMjIgLTMwMy4yNDcpIj4KICAgICAgICA8cG9seWxpbmUgcG9pbnRzPSIxMS45NzkgMTcuNzQxIDEyLjgyMSAxMy4zNzUgMTYuOTM4IDEzLjgxNiIgdHJhbnNmb3JtPSJyb3RhdGUoMTEgMTQuNDU5IDE1LjU1OCkiLz4KICAgICAgICA8cGF0aCBkPSJNMS4yNzU1MTAyLDEuOTA2MjM2IEM5LjUwNDY3OTU1LDcuNjA5ODg1OTkgMTQuNTc0NTY1NCwxMi40NjU0MTM4IDE2LjQ4NTE2NzgsMTYuNDcyODE5NSIgdHJhbnNmb3JtPSJyb3RhdGUoOCA4Ljg4IDkuMTkpIi8+CiAgICAgIDwvZz4KICAgICAgPHBvbHlsaW5lIHN0cm9rZT0iIzgyODk5QyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIHBvaW50cz0iNDcuMTk0IDcyLjcwNCA0OS43MjMgODguNzU3IDUzLjA2MiA4OC43NTciLz4KICAgICAgPHBvbHlsaW5lIHN0cm9rZT0iIzgyODk5QyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIHBvaW50cz0iMzguNDU3IDcyLjcwNCAzOC40NTcgODguODAyIDM0LjQzOSA4OC44MDIiLz4KICAgICAgPHBvbHlsaW5lIHN0cm9rZT0iIzgyODk5QyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIHBvaW50cz0iMy44MjcgNDkuMDAxIDcuODUyIDQ3LjE5NCA5Ljg4MSA1MC4xNTkiLz4KICAgIDwvZz4KICAgIDxnIHN0cm9rZT0iIzUyNUM3NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgzLjY3MyAuMDc1KSI+CiAgICAgIDxlbGxpcHNlIGN4PSIyNy4xODIiIGN5PSIyNS42NTYiIHN0cm9rZS13aWR0aD0iMS42IiByeD0iMTYuMjMiIHJ5PSIxNi4wNTYiLz4KICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjEuMjQxIiBkPSJNNDMuMzY3MzQ2OSAxMC45NzU0Nzg2TDQ2LjIwMzIwNjMgOC45Mjg1NzE0M000MC4wODk4NDU5IDM4LjQ5MDEyODRMNDIuOTY4Njg3OCA0MS42NTUzMDc3TTExLjc1NzY0NjYgMzkuNTQwODE2M0w3LjY1MzA2MTIyIDQyLjAwOTUxOTRNMTEuNDIxMDY0NiA5LjE2NTkwMDAyTDguOTI4NTcxNDMgNi4zNzc1NTEwMk0yNy41Nzc0MTAzIDBMMjcuNTc3NDEwMyAzLjk1MzA1Mjg4TTQ5Ljc0NDg5OCAyNi4yOTM0MTIxTDUzLjk4ODMxMTkgMjYuMjkzNDEyMU0yOC4xNzc3NTQzIDQzLjAyMTM3ODhMMjguMTc3NzU0MyA0Ni42NDM1NDQzTTQuNzc1MDE0MSAyNi4yOTM0MTIxTC0xLjEzNjg2ODM4ZS0xMyAyNi4yOTM0MTIxIi8+CiAgICA8L2c+CiAgICA8ZyBzdHJva2U9IiM4Mjg5OUMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkwLjU2MSAzNy4wNykiPgogICAgICA8cGF0aCBzdHJva2Utd2lkdGg9IjEuMyIgZD0iTTEyLjgwMDA0OSwxNS41NjU5MTExIEM0LjU1NTg0MjIyLDcuOTIyNDQ1MTIgMTUuNDcwNDg0Myw5LjMwOTI1ODE2IDE1Ljc4NzQyMjgsMTEuODM2NTA4NCBDMTYuNTg2NDU5OSwxOC4yMDc5ODg2IC0xLjU5NDA3MzQyLDE2LjcwMDk3MTcgOS43NjE0MTY4Miw1LjMxMDI5MTQzIEMxMS4yMTA1NzE3LDMuODU2NjQ1NzMgMTQuMDQzMTU4MSwzLjgzMTI4OTg4IDE1Ljc0NDI1NzgsNC45Mzg1ODcgQzI2Ljk2OTAyNzMsMTIuMjQ1MTI4IDYuNzAyODM5MDMsMjQuMDM2NjU2NCA3LjA0MjAyNTQsMTEuMTk3NjcxMiBDNy4yMTg1MjI0NSw0LjUxNjg1MTEzIDE3LjMzODY1MDgsNC4zMTE1NDAzNSAxOS4zMDk4NjIsOS43Mjk4NjY1MSBDMjIuMzMyMTAyNiwxOC4wMzcxODgyIDguNDY0Mzc2NDMsMjEuNzc4MTkwNSA2LjUwNjk1OTk1LDEzLjg1NjY0MTIgQzMuNTYwOTM1NzgsMS45MzQyNTQ2MiAyMC40MTUxMjc4LDUuMzU0NjQzMzkgMTkuMzk2MTkxOSwxMS4zMDk4NDggQzE1LjQxNjE1MDQsMzQuNTcxMzMwOSAtMTkuMTY4MzUyNiwtOS4zNDE0MjAzNiAxOS4xNzEzNzQ1LDEuODY2MDgzOTYgQzM1LjUxOTA3NzYsNi42NDQ4NTk2IDE1LjgyNTg4NywyNy4xNjI5MTggOS40NTExNjg3OSwyMC4yODg3NDM4IEM0LjEzODcwOTQ1LDE0LjU2MDA1NTkgMy4yMzkxMzMwOCwtMy4yMzY5OTM2MiAxNS42MjM3NTU3LDQuNDQ3MTAwNTkgQzI1LjA3NjkxMjcsMTAuMzEyMzUzOSAxOC41NDgxODcsMjEuMDU3MTUzOSAxMS43Mzg5MTA4LDE2LjIwNDc0ODQgTDEyLjgwMDA0OSwxNS41NjU5MTExIFoiLz4KICAgICAgPHBhdGggc3Ryb2tlLXdpZHRoPSIxLjQiIGQ9Ik0zLjA0MTEyNzM3LDYuMDczNTU3MDQgQy05LjA3Nzk4Njg0LDE4LjUxOTMxMTQgMTkuMDIzODA0NSwyNC42ODUyNTU2IDE3LjczNDA2MTYsMTQuNDg4MzA2NiBDMTUuNjQ5NTg3NywtMS45OTE5MzQ1IC0yLjkxNjgzNzYsMTUuOTUwMDUzMyA1Ljg5NjMwMTkyLDIyLjAyNjU3NzEgQzEyLjIyNDg3MTQsMjYuMzkwMDI4MSAyMi45ODE2OTc4LDE0LjQ4ODMwNjYgMTcuNzM0MDYxNiw2LjA3MzU1NzA0IEMxNS4xOTczNTg5LDIuNjAwMzY3NjcgMTEuMjUxNDM5LDEuNjk1NTc4MzYgNS44OTYzMDE5MiwzLjM1OTE4OTExIEM1LjY3Nzc4NzgxLDMuNDI3MDcyMDQgNC43MjYwNjI5Niw0LjMzMTg2MTM1IDMuMDQxMTI3MzcsNi4wNzM1NTcwNCBaIi8+CiAgICA8L2c+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBzdHJva2U9IiM1MjVDNzYiIHN0cm9rZS13aWR0aD0iMi40IiBkPSJNMTk1LjIyODU3MSwxMTkuOTU2ODg5IEwxOTUuMjI4NTcxLDcyLjAyODMxNzUgQzE5NS4yMjg1NzEsNjYuMDYzNjQyMiAxOTAuMzkzMjQ3LDYxLjIyODMxNzUgMTg0LjQyODU3MSw2MS4yMjgzMTc1IEwxODEuNjQyODU3LDYxLjIyODMxNzUgQzE3NS42NzgxODIsNjEuMjI4MzE3NSAxNzAuODQyODU3LDY2LjA2MzY0MjIgMTcwLjg0Mjg1Nyw3Mi4wMjgzMTc1IEwxNzAuODQyODU3LDEwMy4zMjAxNTQgTDE0Ni43MDQwODIsMTAzLjMyMDE1NCBDMTQxLjAxNTU0OSwxMDMuMzIwMTU0IDEzNi40MDQwODIsMTA3LjkzMTYyMSAxMzYuNDA0MDgyLDExMy42MjAxNTQgTDEzNi40MDQwODIsMTE5Ljk1Njg4OSBDMTM2LjQwNDA4MiwxMjUuNjQ1NDIyIDE0MS4wMTU1NDksMTMwLjI1Njg4OSAxNDYuNzA0MDgyLDEzMC4yNTY4ODkgTDE4NC45Mjg1NzEsMTMwLjI1Njg4OSBDMTkwLjYxNzEwNCwxMzAuMjU2ODg5IDE5NS4yMjg1NzEsMTI1LjY0NTQyMiAxOTUuMjI4NTcxLDExOS45NTY4ODkgWiIvPgogICAgPHBhdGggZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjNTI1Qzc2IiBzdHJva2Utd2lkdGg9IjIuNCIgZD0iTTE0Mi45MzI2NTMsMTQ2Ljc0MjYwMyBMMTQyLjkzMjY1MywxMTEuNTY5MTM0IEMxNDIuOTMyNjUzLDEwNS42MDQ0NTkgMTM4LjA5NzMyOCwxMDAuNzY5MTM0IDEzMi4xMzI2NTMsMTAwLjc2OTEzNCBMMTI4LjA3MTQyOSwxMDAuNzY5MTM0IEMxMjIuMTA2NzUzLDEwMC43NjkxMzQgMTE3LjI3MTQyOSwxMDUuNjA0NDU5IDExNy4yNzE0MjksMTExLjU2OTEzNCBMMTE3LjI3MTQyOSwxMzAuMTA1ODY5IEw5MS44NTcxNDI5LDEzMC4xMDU4NjkgQzg2LjE2ODYwOTksMTMwLjEwNTg2OSA4MS41NTcxNDI5LDEzNC43MTczMzYgODEuNTU3MTQyOSwxNDAuNDA1ODY5IEw4MS41NTcxNDI5LDE0Ni43NDI2MDMgQzgxLjU1NzE0MjksMTUyLjQzMTEzNiA4Ni4xNjg2MDk5LDE1Ny4wNDI2MDMgOTEuODU3MTQyOSwxNTcuMDQyNjAzIEwxMzIuNjMyNjUzLDE1Ny4wNDI2MDMgQzEzOC4zMjExODYsMTU3LjA0MjYwMyAxNDIuOTMyNjUzLDE1Mi40MzExMzYgMTQyLjkzMjY1MywxNDYuNzQyNjAzIFoiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDIyNC40OSAwKSIvPgogICAgPHBhdGggc3Ryb2tlPSIjNTI1Qzc2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTg1LjQ1OTE4MzcsMTY5LjcyMjE5NSBMMjEwLjQ1OTE4NCwxNjkuNzIyMTk1Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBzdHJva2U9IiM1MjVDNzYiIHN0cm9rZS13aWR0aD0iMi40IiBkPSJNMTE3LjI3MTQyOSwxNjkuNzk3NzA1IEwxNjIuMDY1MzA2LDE2OS43OTc3MDUgTDE2Mi4wNjUzMDYsNjkuNTk5NzQ2MSBDMTYyLjA2NTMwNiw2MC4wNDUyMTk5IDE1NC4zMTk4MzIsNTIuMjk5NzQ2MSAxNDQuNzY1MzA2LDUyLjI5OTc0NjEgTDEzNC41NzE0MjksNTIuMjk5NzQ2MSBDMTI1LjAxNjkwMiw1Mi4yOTk3NDYxIDExNy4yNzE0MjksNjAuMDQ1MjE5OSAxMTcuMjcxNDI5LDY5LjU5OTc0NjEgTDExNy4yNzE0MjksMTY5Ljc5NzcwNSBaIi8+CiAgICA8cGF0aCBzdHJva2U9IiM1MjVDNzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTM1LjIwNDA4MiA5NS43NDI2MDMzTDEzNS4yMDQwODIgMTE5LjMzMjUxM00xNDkuMjM0Njk0IDE0MC4zODU0NkwxNDkuMjM0Njk0IDE2MC4xNDg4MzlNMTg0Ljk0ODk4IDc0LjA1ODkyOThMMTg0Ljk0ODk4IDg4LjA4OTU0Mk0xNzguNTcxNDI5IDkzLjE5MTU4MjlMMTc4LjU3MTQyOSAxMDcuMjIyMTk1TTg5LjI4NTcxNDMgMTA5Ljc3MzIxNkw4OS4yODU3MTQzIDEyMy44MDM4MjhNMTg3LjUgOTcuMDE4MTEzNUwxODcuNSAxMjIuNTI4MzE4TTk4LjIxNDI4NTcgMTIyLjUyODMxOEw5OC4yMTQyODU3IDE0OC4wMzg1MjJNMTI3LjU1MTAyIDEyNS4wNzkzMzhMMTI3LjU1MTAyIDE1Mi40OTU3NzhNMTQ3Ljk1OTE4NCA2Ny42MjQwNzQzTDE0Ny45NTkxODQgMTI0LjQzNDU1NCIvPgogICAgPHBhdGggZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjNTI1Qzc2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41IiBkPSJNMjAwLjI1NTEwMiA0OC41NDg3MjU3QzIwMi44NzI0OTIgMzUuOTY2MTc3MiAyMDYuOTk1NzA1IDMwLjAzMTU0NSAyMTIuNjI0NzQgMzAuNzQ0ODI5MiAyMjEuMDY4MjkyIDMxLjgxNDc1NTUgMjIzLjc3NjM1NCAzNy40Nzc3MDg0IDIyNi4wNDkxOTIgNDAuMjg2NTE2OCAyMjguMzIyMDMgNDMuMDk1MzI1MyAyMjcuNTE5MDgyIDMxLjQ4NjMyMjQgMjM2LjA1OTM1IDMzLjU1MzYzNzcgMjQxLjc1Mjg2MyAzNC45MzE4NDc5IDI0Ni4yOTg1MzkgMzkuOTMwMjEwNSAyNDkuNjk2Mzc4IDQ4LjU0ODcyNTdMMjAwLjI1NTEwMiA0OC41NDg3MjU3ek0xLjEzNjg2ODM4ZS0xMyA0My43MTMyNTY3QzIuNjc3MjcyMDQgMzAuMTg1MTUyOSA3LjMwNzQyNTM5IDIzLjI5NzQxMDkgMTMuODkwNDYgMjMuMDUwMDMwNyAyMC4wMjE5OTU5IDIyLjgxOTYxNzEgMjUuMTgwNDA1NCAyNi4wNDg5MDM1IDI5LjM2NTY4ODcgMzIuNzM3ODg5OUwyOS4zNjU2Njk5IDMyLjczNzkwMTZDMjkuNjU4NjIxNiAzMy4yMDYxMDE2IDMwLjI3NTY1NyAzMy4zNDgxNjg1IDMwLjc0Mzg1NyAzMy4wNTUyMTY4IDMwLjg4ODkyODcgMzIuOTY0NDQ1OCAzMS4wMDgyNzk1IDMyLjgzNzk2NTEgMzEuMDkwNDkgMzIuNjg3ODc2NCAzNS4yMjM5MzY1IDI1LjE0MTU4OTUgNDAuNjQ2MjczMiAyMi4xODA3Mjg1IDQ3LjM1NzUwMDEgMjMuODA1MjkzNiA1NC41MTk4NTI5IDI1LjUzOTA2MTEgNTkuNDY2MTQ1NCAzMi4xNzUwNDg4IDYyLjE5NjM3NzYgNDMuNzEzMjU2N0wxLjEzNjg2ODM4ZS0xMyA0My43MTMyNTY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},2419:function(e,t,n){},2420:function(e,t,n){},2421:function(e,t,n){},2422:function(e,t,n){},2423:function(e,t,n){},2424:function(e,t,n){},2425:function(e,t,n){},2426:function(e,t,n){},2427:function(e,t,n){},2428:function(e,t,n){},2429:function(e,t,n){},2430:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M19.947 3.129c-.633.136-3.927.639-5.697.385-3.133-.45-4.776-2.54-9.949-.888-.997.413-1.277 1.038-1.277 2.019L3 20.808c0 .3.101.54.304.718a.97.97 0 0 0 .73.304c.275 0 .519-.102.73-.304.202-.179.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V3.964c0-.599-.42-.972-1.053-.835z",fillRule:"evenodd"}))};i.defaultProps={name:"Report"},t.a=i},2431:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(8),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M4 10V8a1 1 0 1 1 2 0v2h2a1 1 0 0 1 0 2H6v2a1 1 0 0 1-2 0v-2H2a1 1 0 0 1 0-2h2zm10.455 2c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-7 6c0-2.66 4.845-4 7.272-4C17.155 14 22 15.34 22 18v1.375c0 .345-.28.625-.625.625H8.08a.625.625 0 0 1-.625-.625V18z",fillRule:"evenodd"}))};i.defaultProps={name:"Invite"},t.a=i},2432:function(e,t,n){},2433:function(e,t,n){},2434:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=a(n(69));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement(o.default,Object.assign({viewBox:"0 0 72 18"},e),r.default.createElement("g",{fillRule:"evenodd"},r.default.createElement("rect",{width:"72",height:"18",rx:"2"}),r.default.createElement("text",{fill:"#FFF",fontSize:"12",fontWeight:"500"},r.default.createElement("tspan",{x:"19",y:"13"},"有奖问答")),r.default.createElement("path",{fill:"#FFF",d:"M13.4 5.8H11a.4.4 0 0 1-.4-.3l.1-.4 1.6-1.7c.4-.4 1-.5 1.6-.2.5.3.8 1 .7 1.5-.2.6-.7 1-1.3 1zm0-1.9L13 4l-.7.8h1c.3 0 .5-.2.5-.4 0-.3-.2-.5-.5-.5zM10 6.4v1.5H5.8a.8.8 0 1 1 0-1.5H10zm.8 0h4.3a.8.8 0 0 1 0 1.5H11V6.4zM10 8.7v6H8.4c-.8 0-1.1-.2-1.5-.4-.3-.1-.5-.4-.7-.7-.2-.3-.3-.7-.3-1.5v-.9c0-.8.1-1.1.3-1.5l.7-.7c.4-.2.7-.3 1.5-.3h1.7zm.8 0h1.7c.8 0 1.1.1 1.5.3l.7.7c.2.4.3.7.3 1.5v1c0 .7-.1 1-.3 1.4-.2.3-.4.6-.7.7-.4.2-.7.3-1.5.3h-1.7V8.7zm-3.3-3c-.6 0-1.1-.4-1.3-1-.1-.5.2-1.2.7-1.5.5-.3 1.2-.2 1.6.2l1.6 1.7s.1.3 0 .4c0 .2-.2.2-.3.3H7.6zM8 4a.4.4 0 0 0-.5 0c-.2 0-.4.3-.3.5 0 .2.2.3.4.3h1L8 4z",fillRule:"nonzero"})))};t.default=i},2435:function(e,t,n){},2436:function(e,t,n){},2437:function(e,t,n){},2438:function(e,t,n){},2439:function(e,t,n){},2440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=a(n(69));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement(o.default,Object.assign({viewBox:"0 0 24 24"},e),r.default.createElement("path",{d:"M17.248 6.5H13.11a.71.71 0 0 1-.657-.446.731.731 0 0 1 .154-.787l2.812-3.045a2.395 2.395 0 0 1 2.926-.392c.95.558 1.527 1.767 1.243 2.844A2.431 2.431 0 0 1 17.248 6.5zm-.114-3.357a.798.798 0 0 0-.572.24l-1.265 1.474h1.95c.447 0 .695-.44.695-.893a.815.815 0 0 0-.808-.821zM11.286 7.61v2.857H3.429a1.429 1.429 0 0 1 0-2.857h7.857zm1.428 0h7.857a1.429 1.429 0 0 1 0 2.857h-7.857V7.611zm-1.428 4.286V22.61H6.23c-.892 0-1.215-.093-1.541-.267a1.817 1.817 0 0 1-.756-.756c-.175-.326-.267-.65-.267-1.54V14.46c0-.892.092-1.215.267-1.541.174-.326.43-.582.756-.756.326-.174.649-.267 1.54-.267h5.056zm1.428 0h5.055c.892 0 1.215.093 1.541.267.326.174.582.43.756.756.175.326.267.65.267 1.54v5.587c0 .892-.092 1.215-.267 1.541-.174.326-.43.582-.756.756-.326.174-.649.267-1.54.267h-5.056V11.897zM6.752 6.5a2.431 2.431 0 0 1-2.341-1.826c-.284-1.077.293-2.286 1.243-2.844a2.395 2.395 0 0 1 2.926.392l2.812 3.045a.731.731 0 0 1 .153.787.711.711 0 0 1-.656.446H6.752zm.686-3.117a.798.798 0 0 0-.976-.13c-.317.185-.585.637-.49.996a.81.81 0 0 0 .78.608h1.951L7.438 3.383z"}))};t.default=i},2441:function(e,t,n){},2442:function(e,t,n){},2443:function(e,t,n){},2444:function(e,t,n){"use strict";var r=n(1702),o=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.data)return null;return h.default.createElement(v.default,null,h.default.createElement(M,(0,a.default)({},e,{data:(0,b.camelizeKeys)(e.data)})))};var a=o(n(1687)),i=o(n(1790)),c=o(n(1770)),s=o(n(208)),l=o(n(209)),u=o(n(1657)),p=o(n(1659)),f=o(n(1658)),d=o(n(1660)),m=o(n(1638)),h=r(n(0)),y=o(n(1)),b=n(6),v=o(n(1850)),g=n(1851),w=o(n(2445));n(2141);var M=function(e){function t(){var e,n;(0,s.default)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=(0,u.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(o))),(0,m.default)((0,f.default)(n),"state",{display:!0}),(0,m.default)((0,f.default)(n),"handleClick",function(e){e.stopPropagation();var t=n.props.data.clickTracks,r=e.target.closest("a");(0,g.clickTrack)(t).finally(function(){var e=r.href;window.open(e)})}),(0,m.default)((0,f.default)(n),"handleClose",function(){var e=n.props.data.closeTracks;(0,g.closeTrack)(e).then(function(){n.setState(function(e){return{display:!e.display}}),n.props.onClose&&n.props.onClose()})}),(0,m.default)((0,f.default)(n),"handleRef",function(e){n.root=e}),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){if(this.root&&!this.props.preview){var e=this.props.data,t=e.impressionTracks,n=e.debugTracks,r={impressionTracks:t,viewTracks:e.viewTracks,debugTracks:n};(0,g.initCmTrack)(this.root,r)}}},{key:"render",value:function(){var e=this.props.data,t=(0,c.default)(e.creatives,1)[0],n=t.title,r=t.description,o=t.cta,a=(o=void 0===o?{}:o).value,i=t.landingUrl,s=t.brand,l=e.displayAdvertisingTag,u=void 0===l||l;return this.state.display?h.default.createElement("div",{className:"Pc-word",ref:this.handleRef},h.default.createElement("div",{className:"Pc-word-card"},h.default.createElement(N,{href:i,onClick:this.handleClick},h.default.createElement(E,{data:s})),u&&h.default.createElement(w.default,{onClose:this.handleClose}),h.default.createElement(N,{href:i,onClick:this.handleClick},h.default.createElement("h2",{className:"Pc-word-card-title"},n),h.default.createElement("div",{className:"Pc-word-card-content  "},r&&h.default.createElement(h.default.Fragment,null,h.default.createElement("span",null,r),h.default.createElement("span",{className:"Pc-word-card-content-cta  "},a)))))):null}}]),t}(h.Component);function N(e){var t=e.children,n=(0,i.default)(e,["children"]);return h.default.createElement("a",(0,a.default)({target:"_blank"},n),t)}function E(e){var t=e.data,n=t.name,r=t.logo;return h.default.createElement("div",{className:"Pc-word-card-brand"},h.default.createElement("div",{className:"Pc-word-card-brand-wrapper"},h.default.createElement("img",{width:"20",height:"20",src:r,alt:"logo"}),h.default.createElement("span",null,n)))}(0,m.default)(M,"propTypes",{data:y.default.object.isRequired,onClose:y.default.func})},2445:function(e,t,n){"use strict";var r=n(1702),o=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(208)),i=o(n(209)),c=o(n(1657)),s=o(n(1659)),l=o(n(1658)),u=o(n(1660)),p=o(n(1638)),f=r(n(0)),d=o(n(1)),m=o(n(1695));n(2141);var h=function(e){function t(){var e,n;(0,a.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,c.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,p.default)((0,l.default)(n),"state",{display:!1}),(0,p.default)((0,l.default)(n),"handleCloseByDocument",function(e){"Pc-word-card-sign-label"!==e.target.closest("div").className&&n.setState({display:!1})}),(0,p.default)((0,l.default)(n),"handleClick",function(){n.setState(function(e){return{display:!e.display}});var e=n.sign.querySelector(".Pc-word-card-sign-label").getBoundingClientRect(),t=e.left,r=e.top,o=e.width,a=e.height+15,i=Math.floor(o/2);n.sign.querySelector(".Pc-word-card-sign-popup").style.top="".concat(r+a,"px"),n.sign.querySelector(".Pc-word-card-sign-popup").style.left="".concat(t-i,"px")}),(0,p.default)((0,l.default)(n),"handleClose",function(){n.props.onClose&&n.props.onClose()}),(0,p.default)((0,l.default)(n),"handleRef",function(e){n.sign=e}),n}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleCloseByDocument)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleCloseByDocument)}},{key:"render",value:function(){return f.default.createElement("div",{className:"Pc-word-card-sign",ref:this.handleRef},f.default.createElement("div",{className:"Pc-word-card-sign-label",onClick:this.handleClick},"广告​",f.default.createElement(m.default,{name:"triangle",className:"Pc-word-card-sign-svg"})),f.default.createElement("div",{className:"Pc-word-card-sign-popup ".concat(this.state.display?"Pc-word-card-sign-popup--isShowed":"Pc-word-card-sign-popup--isHidden")},f.default.createElement("span",{className:"Pc-word-card-sign-popup-arrow"}),f.default.createElement("div",{className:"Pc-word-card-sign-popup-menu"},f.default.createElement("button",{type:"button",onClick:this.handleClose},"不感兴趣"),f.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/promotion-intro"},"知乎广告介绍"))))}}]),t}(f.Component);t.default=h,(0,p.default)(h,"propTypes",{onClose:d.default.func})},2446:function(e,t,n){},2447:function(e,t,n){},2448:function(e,t,n){},2449:function(e,t,n){},2450:function(e,t,n){},2451:function(e,t,n){},2452:function(e,t,n){},2453:function(e,t,n){},2454:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),a=n(2),i=n.n(a),c=n(416),s=n(382),l=n(37),u=n(2455),p=(n(2464),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f="https://pic1.zhimg.com/da8e974dc.jpg",d={question:"提问",answer:"回答",post:"文章",live:"Live",ebook:"电子书"},m=function(e){var t=e.src,n=e.style;return o.a.createElement("div",{className:"AdvancedViewer-imgField",style:p({},n,t?{backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundPosition:"center"}:{})})};function h(e){var t=e.isMobileView,n=e.advancedStyle,r=(n=void 0===n?{}:n).cardType,a=n.url,i=n.material,s=void 0===i?[]:i,l=e.handleViewTrack,h=e.handleClickTrack;if(!s)return null;var y=function(e){return"function"==typeof h?{onClick:function(){h(e)}}:{}},b=function(e,t){return o.a.createElement("a",p({key:"AdvancedViewer-commodity-"+t,className:"AdvancedViewer-commodityItem",target:"_blank",href:a},y({etu:a,pi:t+1})),o.a.createElement("img",{src:e.image,role:"presentation"}),e.mainTitle&&o.a.createElement("div",{className:"AdvancedViewer-commodityIntro"},o.a.createElement("span",{className:"AdvancedViewer-mainTitle"},e.mainTitle),o.a.createElement("span",{className:"AdvancedViewer-subTitle"},e.subTitle)))};if("image"===r)return o.a.createElement("a",p({className:"AdvancedViewer-material AdvancedViewer-image",target:"_blank",href:a},y({etu:a})),o.a.createElement(m,{src:s[0].image,style:t?{width:375,height:156.25}:{}}));if("image_text"===r)return o.a.createElement("a",p({className:"AdvancedViewer-material AdvancedViewer-imageText",target:"_blank",href:a},y({etu:a})),t&&o.a.createElement("div",{className:"AdvancedViewer-intro"},s[0].intro),o.a.createElement(m,{src:s[0].image}),!t&&o.a.createElement("div",{className:"AdvancedViewer-intro"},s[0].intro));if("commodity"===r)return s.length&&o.a.createElement("div",{className:"AdvancedViewer-material AdvancedViewer-commodity"},t?s.map(b):o.a.createElement(u.a,{items:s,renderItem:b}));if("recommended"===r){var v=function(e,t){return o.a.createElement("a",p({className:"AdvancedViewer-recommendedItem",href:e.url,target:"_blank"},y({etu:e.url,pi:t+1})),o.a.createElement("div",{className:"AdvancedViewer-summary"},o.a.createElement("div",{className:"AdvancedViewer-wrap"},o.a.createElement("div",{className:"AdvancedViewer-title"},e.title),e.intro&&o.a.createElement("div",{className:"AdvancedViewer-desc"},e.intro.replace(/<[\s\S]*?>/g,""))),o.a.createElement("span",{className:"AdvancedViewer-data"},d[e.type]," · ",e.statisticText)),o.a.createElement(m,{src:e.image||f}))};return o.a.createElement("div",{className:"AdvancedViewer-material AdvancedViewer-recommended"},s.map(function(e,t){return l?o.a.createElement(c.a,p({key:"AdvancedViewer-recommendedItem-"+t},(n={pi:t+1},"function"==typeof l?{onViewed:function(){l(n)}}:{})),v(e,t)):v(e,t);var n}))}return null}function y(e){var t,n=e.isMobileView,r=e.brand,a=r.name,u=r.logo,f=e.advancedStyle,d=(f=void 0===f?{}:f).brandRecommendText,m=f.buttonText,y=f.url,b=f.cardType,v=e.handleViewTrack,g=e.handleClickTrack,w=function(e){return"function"==typeof g?{onClick:function(){g(e)}}:{}},M=a&&a.charCodeAt(a.length-1),N=n&&"recommended"!==b,E=d||(M>=0&&M<=128?a+" ":a)+"的品牌推荐",O=o.a.createElement(s.d,{className:i()("AdvancedViewer",{"is-mobile":n})},!N&&o.a.createElement(s.b,{className:"AdvancedViewer-header"},o.a.createElement("span",{className:"AdvancedViewer-headerText"},E)),o.a.createElement("div",{className:"AdvancedViewer-content"},o.a.createElement(h,e)),!n&&b&&"recommended"!==b&&o.a.createElement("div",{className:"AdvancedViewer-footer"},o.a.createElement(l.a,p({className:"AdvancedViewer-button",target:"_blank",to:y},w({etu:y})),m||"了解更多")),N&&o.a.createElement("div",{className:"AdvancedViewer-footer"},o.a.createElement("div",{className:"AdvancedViewer-brand"},o.a.createElement("img",{className:"AdvancedViewer-logo",src:u,role:"presentation"}),o.a.createElement("span",{className:"AdvancedViewer-brandName"},E)),o.a.createElement(l.a,p({className:"AdvancedViewer-button",target:"_blank",to:y},w({etu:y})),m||"查看详情")));return v?o.a.createElement(c.a,"function"==typeof v?{onViewed:function(){v(t)}}:{},O):O}},2455:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var r,o,a=n(0),i=n.n(a),c=n(2456),s=n(2),l=n.n(s),u=n(24),p=(n(2463),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=30,h="ontouchstart"in e,y=function(e){var t=e.changedTouches[0];return{x:t.pageX,y:t.pageY}},b=function(e,t,n){return Math.min(Math.max(e,t),n)},v=function(e,t){return{transform:"translate3d("+e+", "+t+", 0)",WebkitTransform:"translate3d("+e+", "+t+", 0)"}},g=function(e){return function(t){t.stopPropagation(),e()}},w=(o=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={offset:r.props.defaultIndex-(r.props.loop?r.props.visibles:0),touchMoveOffset:0,showLeftArrow:!1,showRightArrow:!1},r.handleHotkeys=function(e){var t=r.isVertical?38===e.keyCode:37===e.keyCode,n=r.isVertical?40===e.keyCode:39===e.keyCode;t?r.prev():n&&r.next()},r.play=function(){r.timer_=setTimeout(function(){r.next(r.play)},r.props.interval)},r.pause=function(){r.isPlaying_&&(r.isPaused_=!0,r.stop())},r.resume=function(){r.isPaused_&&r.start()},r.prev=function(e){var t=r.state.offset;return t-=1,r.setOffset(t,e)},r.next=function(e){var t=r.state.offset;return t+=1,r.setOffset(t,e)},r.handleTouchStart=function(e){r.pause(),r.touchStartPosition_=y(e)},r.handleTouchMove=function(e){e.preventDefault();var t=y(e);if(r.isVertical){var n=t.y-r.touchStartPosition_.y;r.setState({touchMoveOffset:b(n/r.el.offsetHeight,-1,1)})}else{var o=t.x-r.touchStartPosition_.x;r.setState({touchMoveOffset:b(o/r.el.offsetWidth,-1,1)})}},r.handleTouchEnd=function(e){var t=y(e),n=t.x-r.touchStartPosition_.x,o=t.y-r.touchStartPosition_.y,a=r.isVertical?o>m:n>m,i=r.isVertical?o<-m:n<-m,c=!1;a?c=r.prev(r.resume):i&&(c=r.next(r.resume)),c||r.setState({touchMoveOffset:0})},r.handleTouchCancel=function(){r.resume()},r.handleMouseEnter=function(){r.pause()},r.handleMouseMove=function(){r.props.enableArrows&&r.setState({showLeftArrow:!0,showRightArrow:!0})},r.handleMouseLeave=function(){r.resume(),r.setState({showLeftArrow:!1,showRightArrow:!1})},r.timer_=null,r.isPlaying_=!1,d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),f(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoplay,n=e.enableHotkeys;t&&this.canPlay&&this.start(),n&&window.addEventListener("keydown",this.handleHotkeys)}},{key:"componentWillReceiveProps",value:function(e){var t=e.items,n=this.props.items;t.length!==n.length&&t.length>1&&this.start()}},{key:"componentWillUnmount",value:function(){this.stop(),window.removeEventListener("keydown",this.handleHotkeys)}},{key:"start",value:function(){this.isPlaying_||(this.isPlaying_=!0,this.play())}},{key:"stop",value:function(){this.isPlaying_=!1,clearTimeout(this.timer_)}},{key:"calcIndex",value:function(e){var t=this.props,n=t.loop,r=t.items;return n?function(e,t){var n=(t+1)%e;return n<0?n+e:n}(r.length,e):e}},{key:"isValidIndex",value:function(e){var t=this.props.items;return e>=0&&e<=t.length-1}},{key:"setOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=this.calcIndex(e);return!!this.isValidIndex(n)&&(this.props.onSlide({index:n}),this.setState({offset:e,touchMoveOffset:0},t),!0)}},{key:"slideTo",value:function(e,t){var n=this.props.items,r=this.state.offset,o=n.length,a=this.currentIndex;e!==a&&(r+=a<e?e-a:o+e-a,this.setOffset(r,t))}},{key:"getTranslateStyle",value:function(e){return this.isVertical?v(0,100*e+"%"):v(100*e+"%",0)}},{key:"renderArrows",value:function(){var e=this.props.enableArrows,t=this.state,n=t.showLeftArrow,r=t.showRightArrow;return!e||this.isVertical?null:i.a.createElement("span",null,n&&i.a.createElement("button",{className:"Carousel-leftArrow","aria-label":"上一个",onClick:g(this.prev)},i.a.createElement(u.a,{name:"arrow"})),r&&i.a.createElement("button",{className:"Carousel-rightArrow","aria-label":"下一个",onClick:g(this.next)},i.a.createElement(u.a,{name:"arrow"})))}},{key:"renderBullets",value:function(){var e=this,t=this.props,n=t.items;return t.enableBullets?i.a.createElement("div",{className:"Carousel-bullets"},n.map(function(t,n){return i.a.createElement("span",{key:n,className:l()("Carousel-bullet",{"is-active":e.currentIndex===n}),onClick:function(){return e.slideTo(n)}})})):null}},{key:"renderItems",value:function(){var e=this.props,t=e.loop,n=e.items,r=e.renderItem,o=e.visibles;if(!t)return n.map(function(e,t){return Object(a.cloneElement)(r(e,t),{key:t})});var i=this.currentIndex,c=i+3*o;return[n[n.length-1]].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[n[0]]).map(function(e,t){var n=t>=i&&t<c;return Object(a.cloneElement)(r(e,t),{key:t,hidden:!n})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.loop,r=t.visibles,o=t.items,a=t.className,s=t.defaultIndex,u=this.state,f=u.offset,d=u.touchMoveOffset;if(!o.length)return null;var m=this.canPlay?{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave}:null,h=n?r:0;return i.a.createElement(c.Motion,{defaultStyle:{offset:-s},style:{offset:Object(c.spring)(-(f+h-d))}},function(t){return i.a.createElement("div",p({ref:function(t){return e.el=t},className:l()("Carousel",a,{"is-vertical":e.isVertical})},m),i.a.createElement("div",{className:"Carousel-scroller",style:e.getTranslateStyle(t.offset)},i.a.createElement("div",{className:"Carousel-window",style:n?e.getTranslateStyle(f):null},e.renderItems())),e.canPlay&&e.renderArrows(),e.canPlay&&e.renderBullets())})}},{key:"canPlay",get:function(){return this.props.items.length>1}},{key:"isVertical",get:function(){return"vertical"===this.props.direction}},{key:"currentIndex",get:function(){return this.calcIndex(this.state.offset)}}]),t}(),r.defaultProps={id:"",items:[],defaultIndex:0,visibles:1,interval:3e3,loop:!0,enableArrows:!h,enableBullets:!0,enableHotkeys:!1,autoplay:!0,direction:"horizontal",onSlide:function(){}},o)}).call(this,n(33))},2456:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(2457);t.Motion=r(o);var a=n(2458);t.StaggeredMotion=r(a);var i=n(2459);t.TransitionMotion=r(i);var c=n(2461);t.spring=r(c);var s=n(2143);t.presets=r(s);var l=n(1895);t.stripStyle=r(l);var u=n(2462);t.reorderKeys=r(u)},2457:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(2097)),i=o(n(1895)),c=o(n(2098)),s=o(n(2099)),l=o(n(692)),u=o(n(2100)),p=o(n(0)),f=o(n(1)),d=o(n(2101)),m=d.default({propTypes:{defaultStyle:f.default.objectOf(f.default.number),style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired,children:f.default.func.isRequired,onRest:f.default.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||i.default(n),o=a.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,n=this.state,o=n.currentStyle,a=n.currentVelocity,i=n.lastIdealStyle,c=n.lastIdealVelocity;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var l=e[s];"number"==typeof l&&(t||(t=!0,o=r({},o),a=r({},a),i=r({},i),c=r({},c)),o[s]=l,a[s]=0,i[s]=l,c[s]=0)}t&&this.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:i,lastIdealVelocity:c})},startAnimationIfNecessary:function(){var e=this;this.animationID=l.default(function(t){var n=e.props.style;if(u.default(e.state.currentStyle,n,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var r=t||s.default(),o=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var a=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),i=Math.floor(e.accumulatedTime/(1e3/60)),l={},p={},f={},d={};for(var m in n)if(Object.prototype.hasOwnProperty.call(n,m)){var h=n[m];if("number"==typeof h)f[m]=h,d[m]=0,l[m]=h,p[m]=0;else{for(var y=e.state.lastIdealStyle[m],b=e.state.lastIdealVelocity[m],v=0;v<i;v++){var g=c.default(1e3/60/1e3,y,b,h.val,h.stiffness,h.damping,h.precision);y=g[0],b=g[1]}var w=c.default(1e3/60/1e3,y,b,h.val,h.stiffness,h.damping,h.precision),M=w[0],N=w[1];f[m]=y+(M-y)*a,d[m]=b+(N-b)*a,l[m]=y,p[m]=b}}e.animationID=null,e.accumulatedTime-=i*(1e3/60),e.setState({currentStyle:f,currentVelocity:d,lastIdealStyle:l,lastIdealVelocity:p}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=s.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=s.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&p.default.Children.only(e)}});t.default=m,e.exports=t.default},2458:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(2097)),i=o(n(1895)),c=o(n(2098)),s=o(n(2099)),l=o(n(692)),u=o(n(2100)),p=o(n(0)),f=o(n(1)),d=o(n(2101));var m=d.default({propTypes:{defaultStyles:f.default.arrayOf(f.default.objectOf(f.default.number)),styles:f.default.func.isRequired,children:f.default.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(i.default),o=r.map(function(e){return a.default(e)});return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,n=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,i=t.lastIdealVelocities,c=!1,s=0;s<e.length;s++){var l=e[s],u=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(u||(u=!0,c=!0,n[s]=r({},n[s]),o[s]=r({},o[s]),a[s]=r({},a[s]),i[s]=r({},i[s])),n[s][p]=f,o[s][p]=0,a[s][p]=f,i[s][p]=0)}}c&&this.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:i})},startAnimationIfNecessary:function(){var e=this;this.animationID=l.default(function(t){var n=e.props.styles(e.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!u.default(e[r],t[r],n[r]))return!1;return!0}(e.state.currentStyles,n,e.state.currentVelocities))return e.animationID=null,void(e.accumulatedTime=0);var r=t||s.default(),o=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var a=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),i=Math.floor(e.accumulatedTime/(1e3/60)),l=[],p=[],f=[],d=[],m=0;m<n.length;m++){var h=n[m],y={},b={},v={},g={};for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)){var M=h[w];if("number"==typeof M)y[w]=M,b[w]=0,v[w]=M,g[w]=0;else{for(var N=e.state.lastIdealStyles[m][w],E=e.state.lastIdealVelocities[m][w],O=0;O<i;O++){var j=c.default(1e3/60/1e3,N,E,M.val,M.stiffness,M.damping,M.precision);N=j[0],E=j[1]}var T=c.default(1e3/60/1e3,N,E,M.val,M.stiffness,M.damping,M.precision),C=T[0],k=T[1];y[w]=N+(C-N)*a,b[w]=E+(k-E)*a,v[w]=N,g[w]=E}}f[m]=y,d[m]=b,l[m]=v,p[m]=g}e.animationID=null,e.accumulatedTime-=i*(1e3/60),e.setState({currentStyles:f,currentVelocities:d,lastIdealStyles:l,lastIdealVelocities:p}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=s.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=s.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&p.default.Children.only(e)}});t.default=m,e.exports=t.default},2459:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(2097)),i=o(n(1895)),c=o(n(2098)),s=o(n(2460)),l=o(n(2099)),u=o(n(692)),p=o(n(2100)),f=o(n(0)),d=o(n(1)),m=o(n(2101));function h(e,t,n){var r=t;return null==r?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var o=0;o<r.length;o++)if(r[o].key===e.key)return{key:r[o].key,data:r[o].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function y(e,t,n,r,o,i,c,l,u){for(var f=s.default(r,o,function(e,r){var o=t(r);return null==o?(n({key:r.key,data:r.data}),null):p.default(i[e],o,c[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:o}}),d=[],m=[],h=[],y=[],b=0;b<f.length;b++){for(var v=f[b],g=null,w=0;w<r.length;w++)if(r[w].key===v.key){g=w;break}if(null==g){var M=e(v);d[b]=M,h[b]=M;var N=a.default(v.style);m[b]=N,y[b]=N}else d[b]=i[g],h[b]=l[g],m[b]=c[g],y[b]=u[g]}return[f,d,m,h,y]}var b=m.default({propTypes:{defaultStyles:d.default.arrayOf(d.default.shape({key:d.default.string.isRequired,data:d.default.any,style:d.default.objectOf(d.default.number).isRequired})),styles:d.default.oneOfType([d.default.func,d.default.arrayOf(d.default.shape({key:d.default.string.isRequired,data:d.default.any,style:d.default.objectOf(d.default.oneOfType([d.default.number,d.default.object])).isRequired}))]).isRequired,children:d.default.func.isRequired,willEnter:d.default.func,willLeave:d.default.func,didLeave:d.default.func},getDefaultProps:function(){return{willEnter:function(e){return i.default(e.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,o=e.willLeave,c=e.didLeave,s="function"==typeof n?n(t):n,l=void 0;l=null==t?s:t.map(function(e){for(var t=0;t<s.length;t++)if(s[t].key===e.key)return s[t];return e});var u=null==t?s.map(function(e){return i.default(e.style)}):t.map(function(e){return i.default(e.style)}),p=null==t?s.map(function(e){return a.default(e.style)}):t.map(function(e){return a.default(e.style)}),f=y(r,o,c,l,s,u,p,u,p),d=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:d}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=y(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=t[0],o=t[1],a=t[2],i=t[3],c=t[4],s=0;s<e.length;s++){var l=e[s].style,u=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(u||(u=!0,o[s]=r({},o[s]),a[s]=r({},a[s]),i[s]=r({},i[s]),c[s]=r({},c[s]),n[s]={key:n[s].key,data:n[s].data,style:r({},n[s].style)}),o[s][p]=f,a[s][p]=0,i[s][p]=f,c[s][p]=0,n[s].style[p]=f)}}this.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:i,lastIdealVelocities:c})},startAnimationIfNecessary:function(){var e=this;this.unmounting||(this.animationID=u.default(function(t){if(!e.unmounting){var n=e.props.styles,r="function"==typeof n?n(h(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):n;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==t[o].key)return!1;for(o=0;o<r.length;o++)if(!p.default(e[o],t[o].style,n[o]))return!1;return!0}(e.state.currentStyles,r,e.state.currentVelocities,e.state.mergedPropsStyles))return e.animationID=null,void(e.accumulatedTime=0);var o=t||l.default(),a=o-e.prevTime;if(e.prevTime=o,e.accumulatedTime=e.accumulatedTime+a,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var i=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),s=Math.floor(e.accumulatedTime/(1e3/60)),u=y(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,r,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),f=u[0],d=u[1],m=u[2],b=u[3],v=u[4],g=0;g<f.length;g++){var w=f[g].style,M={},N={},E={},O={};for(var j in w)if(Object.prototype.hasOwnProperty.call(w,j)){var T=w[j];if("number"==typeof T)M[j]=T,N[j]=0,E[j]=T,O[j]=0;else{for(var C=b[g][j],k=v[g][j],D=0;D<s;D++){var I=c.default(1e3/60/1e3,C,k,T.val,T.stiffness,T.damping,T.precision);C=I[0],k=I[1]}var A=c.default(1e3/60/1e3,C,k,T.val,T.stiffness,T.damping,T.precision),z=A[0],S=A[1];M[j]=C+(z-C)*i,N[j]=k+(S-k)*i,E[j]=C,O[j]=k}}b[g]=E,v[g]=O,d[g]=M,m[g]=N}e.animationID=null,e.accumulatedTime-=s*(1e3/60),e.setState({currentStyles:d,currentVelocities:m,lastIdealStyles:b,lastIdealVelocities:v,mergedPropsStyles:f}),e.unreadPropStyles=null,e.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&f.default.Children.only(t)}});t.default=b,e.exports=t.default},2460:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},o=0;o<e.length;o++)r[e[o].key]=o;for(var a={},o=0;o<t.length;o++)a[t[o].key]=o;for(var i=[],o=0;o<t.length;o++)i[o]=t[o];for(var o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(a,e[o].key)){var c=n(o,e[o]);null!=c&&i.push(c)}return i.sort(function(e,n){var o=a[e.key],i=a[n.key],c=r[e.key],s=r[n.key];if(null!=o&&null!=i)return a[e.key]-a[n.key];if(null!=c&&null!=s)return r[e.key]-r[n.key];if(null!=o){for(var l=0;l<t.length;l++){var u=t[l].key;if(Object.prototype.hasOwnProperty.call(r,u)){if(o<a[u]&&s>r[u])return-1;if(o>a[u]&&s<r[u])return 1}}return 1}for(var l=0;l<t.length;l++){var u=t[l].key;if(Object.prototype.hasOwnProperty.call(r,u)){if(i<a[u]&&c>r[u])return 1;if(i>a[u]&&c<r[u])return-1}}return-1})},e.exports=t.default},2461:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},c,t,{val:e})};var o,a=n(2143),i=(o=a)&&o.__esModule?o:{default:o},c=r({},i.default.noWobble,{precision:.01});e.exports=t.default},2462:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},2463:function(e,t,n){},2464:function(e,t,n){},2465:function(e,t,n){},2466:function(e,t,n){},2467:function(e,t,n){},2468:function(e,t,n){},2469:function(e,t,n){},2470:function(e,t,n){},2471:function(e,t,n){},2472:function(e,t,n){},2824:function(e,t,n){"use strict";n.r(t);var r,o,a,i=n(0),c=n.n(i),s=n(15),l=n(1),u=n.n(l),p=n(13),f=n(68),d=n.n(f),m=n(147),h=n.n(m),y=n(384),b=n(4),v=n(132),g=n(58),w=(n(2417),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N,E,O=Object(p.connect)(null,{updateQuestionAnonymous:g.P})((a=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleToggleAnonymousConfirm=function(){var e=r.props,t=e.question.id,n=e.updateQuestionAnonymous;(0,e.onClose)(),n(t).then(function(){var e=r.props,t=e.isCheckedCircle,n=e.onChangecircleSettings;t&&n(!1)})},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),w(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.question,r=e.shown,o=e.showCircle,a=n.relationship.isAnonymous;return c.a.createElement(v.b,{title:a?"确认取消匿名身份？":"确认使用匿名身份？",onClose:t,size:"default"},r&&c.a.createElement("div",null,a?c.a.createElement("div",{className:"Anonymous-confirm"},c.a.createElement("p",null,"取消匿名身份后， 提问、回答、赞同和关注将以实名显示。")):c.a.createElement("div",{className:"Anonymous-confirm"},c.a.createElement("p",null,"使用匿名身份后"),c.a.createElement("ul",null,c.a.createElement("li",null,"提问、回答、赞同、关注会显示为匿名"),c.a.createElement("li",null,"除提问者本人，不能匿名编辑问题"),c.a.createElement("li",null,"不能邀请别人回答问题"),c.a.createElement("li",null,"不能使用视频功能"),o&&c.a.createElement("li",null,"自动关闭圈内说"))),c.a.createElement(v.a,{direction:"horizontal"},c.a.createElement(b.c,{onClick:t,color:"grey"},"取消"),c.a.createElement(b.c,{preset:"primary",color:"blue",onClick:this.handleToggleAnonymousConfirm},"确认"))))}}]),t}(),o.propTypes={question:u.a.object.isRequired},r=a))||r,j=n(126),T=n(2418),C=n.n(T),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I,A,z=(E=N=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={time:r.props.seconds},r.handleClearInterval=function(){r.interval&&clearInterval(r.interval)},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),k(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.setState({time:e.state.time-1},function(){if(0===e.state.time){e.handleClearInterval();var t=e.props.id;location.href="/question/"+t}})},1e3)}},{key:"componentWillUnmount",value:function(){this.handleClearInterval()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.destination,r=this.state.time;return c.a.createElement(j.b,{title:t,subtitle:r+" 秒后自动跳转至"+n,errorImage:C.a})}}]),t}(),N.defaultProps={seconds:5,destination:"回答所在的问题页",title:"该回答已被删除"},E),S=n(688),x=n.n(S),_=n(24),P=n(387),L=n(1622),R=n(219),Q=n(385),U=n(14),B=n(1594),Y=n(1697),q=n(86),H=n(1708),F=n(2),V=n.n(F),W=n(66),G=n(144),Z=n(1535),J=n(1536),K=n(1534),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $,ee,te=(A=I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.a.Component),X(t,[{key:"render",value:function(){var e=this.props,t=e.badgeClassName,n=e.size,r=e.center,o=e.badge,a=Object(G.a)(o)||{},i=a.identityInfo,s=a.bestAnswererInfo;return s&&i?c.a.createElement(Z.a,{className:t,size:n,center:r}):s?c.a.createElement(J.a,{className:t,size:n,center:r}):i?c.a.createElement(K.a,{className:t,size:n,center:r}):null}}]),t}(),I.propTypes={badge:u.a.array,size:u.a.number,center:u.a.bool,badgeClassName:u.a.string},I.defaultProps={size:16,center:!0,badgeClassName:""},A),ne=(n(2419),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var re,oe="SpecialQuestionAuthor",ae=(ee=$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ne(t,[{key:"render",value:function(){var e,t,n,r=this.props,o=r.author,a=r.className,i=r.isMobile,l=o.avatarUrl,u=o.name,p=o.badge;return c.a.createElement("div",{className:V()(oe+"-Wrapper",a)},c.a.createElement(s.Link,{className:V()(""+oe,(e={},t="ROOT_CLASS--mobile",n=i,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),to:"/"+(o.isOrg?"org":"people")+"/"+(o.urlToken||o.id)},c.a.createElement(W.a,{size:i?22:28,url:l,alt:u,round:!0}),c.a.createElement("span",{className:oe+"-Author"},o.name),c.a.createElement(te,{badge:p,size:i?16:18,center:!0,badgeClassName:oe+"-Badge"}),c.a.createElement("span",{className:oe+"-Suffix"},"的提问")))}}]),t}(),$.propTypes={author:u.a.object.isRequired,isMobile:u.a.bool},ee),ie=n(427),ce=n(203),se=n(1599),le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ue,pe,fe,de=Object(ce.a)(function(e){return{module:"TopicItem",content:{type:"Topic",token:e.item.id},trackCardShow:!0}})(re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),le(t,[{key:"render",value:function(){var e=this.props.item;return c.a.createElement(ie.a,{className:"QuestionTopic"},c.a.createElement(se.a,{noHoverCard:!1,topic:e}))}}]),t}())||re,me=n(1547),he=n(1564),ye=n(1560),be=n(1561),ve=n(67),ge=n(32),we=n(85),Me=n(213),Ne=n(409),Ee=n(410),Oe=(n(2139),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Te=[{value:"标点或格式错误",text:"标点或格式错误"},{value:"不构成提问",text:"不构成提问"},{value:"包含主观判断",text:"包含主观判断"},{value:"缺乏可信来源",text:"缺乏可信来源"},{value:"other",text:"其他"}],Ce=[{title:"为什么修改问题？",subtitle:"请选择修改理由"},{title:"修改问题",subtitle:"描述精确的问题更易得到解答"},{title:"其他",subtitle:"请对你的举报补充说明"}],ke={title:"",step:0,isEditingTitle:!0,detail:{toHTML:function(){return""}},showToolbar:!1,reason:null,otherReason:"",videoQuestionConfirmShown:!1,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"",videoQuestionConfirmText:"",uploadModalShown:!1,errors:{title:null,detail:null,reason:null}},De=Object(p.connect)(function(e){return{notification:e.notification[U.c]||e.notification.updateQuestion}},{showNotification:U.g,updateQuestion:g.O})((fe=pe=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleModalClose=function(){e.editable&&e.editable.hasVideo("upload")?e.setState({uploadModalShown:!0}):(e.setState({step:0}),e.props.onClose())},e.handleVideoQuestionModalHide=function(){e.setState({videoQuestionConfirmShown:!1})},e.handleUploadModalHide=function(){e.setState({uploadModalShown:!1})},e.handleUploadModalConfirm=function(){e.setState({uploadModalShown:!1}),e.props.onClose()},e.handleSubmit=function(){e.setState({errors:e.validate()},function(){for(var t=e.state.errors,n=["title","reason"],r=0;r<n.length;r++){var o=n[r],a=t[o];if(a&&"error"===a.level){var i=e[o+"Input"];return void(i&&i.focus())}}e.editable.hasVideo("upload")?e.props.showNotification("请等待视频上传完成后发布","red",U.c):e.editable.hasImage("upload")?e.props.showNotification("请等待图片上传完成后发布","red",U.c):!e.editable.hasVideo()||e.context.currentUser.isOrg?e.editable.hasImage("error")||e.editable.hasVideo("error")&&!e.editable.hasVideo("error-review")?e.setState({videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"上传失败",videoQuestionConfirmText:"草稿中含有上传失败的内容，请更改后重新提交"}):e.editable.hasVideo("error-review")||e.editable.hasVideo("censor")?e.setState({videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"视频未通过审核",videoQuestionConfirmText:"视频中包含未通过审核的信息，请更改后重新提交"}):e.handleSubmitEditQuestion():e.setState({videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!0,videoQuestionConfirmText:"包含视频的编辑将在审核完成后生效，是否继续？"})})},e.handleSubmitEditQuestion=function(){var t=e.props.detail,n=e.state,r=n.title,o=n.detail,a=n.reason,i=n.otherReason,c={question:{title:r},meta:{reason:"other"===a?i:a}},s=o.toHTML();s!==t&&(c.question.detail=s),Object.keys(c.question).length>0&&e.props.updateQuestion(e.props.id,c)},e.triggerImageUpload=function(){e.editable.handleKeyCommand("insert-image")},e.triggerVideoUpload=function(){e.editable.handleKeyCommand("insert-video")},e.handleError=function(t,n){Object(Ee.b)(t,n,e.props.showNotification,U.c)},e.handleBeforeVideoUpload=function(){return!e.props.isAnonymous},e.handleUploadError=function(t,n){switch(n){case"video":e.handleError("video-upload-error");break;case"image":e.handleError("image-upload-error",t)}},e.state=ke,e.onChangeTitle=e.handleChangeTitle.bind(e),e.onBlurTitle=e.handleBlurTitle.bind(e),e.onChangeDetail=e.handleChangeDetail.bind(e),e.onChangeReason=e.handleChangeReason.bind(e),e.onChangeOtherReason=e.handleChangeOtherReason.bind(e),e.toggleToolbar=e.toggleToolbar.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),je(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=n.notification,o=n.show,a=n.onClose,i=e.notification,c=e.show,s=e.title,l=e.detail;if(!o&&c&&this.setState({title:s,detail:{toHTML:function(){return l}}}),r!==i){var u=i.code,p=i.text;if(i.id)this.setState(ke),a();else switch(u){case 103003:this.setState(function(e){var t=e.errors;return{errors:Oe({},t,{title:{level:"error",text:"已经存在的问题"}})}},function(){return t.titleInput.focus()});break;case 103001:this.setState(function(e){var t=e.errors;return{errors:Oe({},t,{detail:{level:"error",text:"过长的补充说明"}})}},function(){return t.editable.focus()});break;default:this.setState(function(e){var t=e.errors;return{errors:Oe({},t,{overall:p})}})}}}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value,isEditingTitle:!0})}},{key:"handleBlurTitle",value:function(){this.setState({errors:this.validate("title",!0),isEditingTitle:!1})}},{key:"handleChangeDetail",value:function(e){this.setState({detail:e})}},{key:"handleChangeReason",value:function(e){var t=this,n=this.state.step;this.setState({reason:e,step:1},function(){0!==n?"other"===e&&t.reasonInput.focus():setTimeout(function(){return t.titleInput.focus()})})}},{key:"handleChangeOtherReason",value:function(e){this.setState({otherReason:e.target.value})}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.errors;if(!e||"title"===e){var r=this.state.title,o=null;0!==r.length||t?r.length>51?o={level:"error",text:"问题标题超出 "+(r.length-51)+" 个字"}:r.length>0&&r.length<3?o={level:"error",text:"问题字数太少了吧"}:r.length>0&&-1===r.indexOf("?")&&-1===r.indexOf("？")?o={level:"error",text:"你还没有给问题添加问号"}:(r.match(/(\?|？)/g)||[]).length>1&&(o={level:"warning",text:"多个问题建议拆分"}):o={level:"error",text:"问题标题不能为空"},n=Oe({},n,{title:o})}if(!e||"reason"===e){var a=null,i=this.state,c=i.reason,s=i.otherReason;c&&("other"!==c||s)||(a={level:"error",text:"必选"}),n=Oe({},n,{reason:a})}return n}},{key:"toggleToolbar",value:function(){this.setState(function(e){return{showToolbar:!e.showToolbar}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,r=t.detail,o=t.questionType,a=this.state,i=a.title,l=a.step,u=a.isEditingTitle,p=a.showToolbar,f=a.reason,d=a.otherReason,m=a.uploadModalShown,h=a.videoQuestionConfirmShown,y=a.videoQuestionConfirmAllowContinue,v=a.videoQuestionConfirmTitle,g=a.videoQuestionConfirmText,w=a.errors,M=w.title,N=w.detail,E=w.reason,O=w.overall,j=null;if(u){var T=51-i.length;T>=0?T<10&&(j="还可以输入 "+T+" 个字"):j=c.a.createElement("span",{className:"QuestionAsk-error"},"问题标题超出 ",-T," 个字")}else M&&(j=c.a.createElement("span",{className:"QuestionAsk-"+M.level},M.text));var C=null;return 0===l?C=c.a.createElement("div",null,Te.map(function(t){return c.a.createElement("div",{className:"QuestionEdit-reason",key:t.value,onClick:function(){e.onChangeReason(t.value)}},t.text,c.a.createElement(me.a,null))})):1===l&&(C=c.a.createElement("div",{className:"QuestionAsk"},c.a.createElement(ge.b,{title:v,onClose:this.handleVideoQuestionModalHide},h&&c.a.createElement("div",{className:"QuestionAsk-videoAlert"},g,c.a.createElement(ge.a,null,y&&c.a.createElement(b.c,{preset:"primary",color:"blue",onClick:this.handleSubmitEditQuestion},"发布"),c.a.createElement(b.c,{onClick:this.handleVideoQuestionModalHide},"继续编辑")))),c.a.createElement(ge.b,{onClose:this.handleUploadModalHide},m&&c.a.createElement("div",{className:"QuestionAsk-onUploadModal"},"关闭弹窗将丢失上传中的视频内容",c.a.createElement(ge.a,null,c.a.createElement(b.c,{preset:"primary",color:"blue",onClick:this.handleUploadModalConfirm},"确认"),c.a.createElement(b.c,{onClick:this.handleUploadModalHide},"取消")))),c.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},noValidate:!0},c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement(ve.a,{className:"QuestionAsk-title",onRef:function(t){e.titleInput=t},required:!0,multiline:!0,spread:!0,large:!0,rows:2,placeholder:"问题标题",value:i,onChange:this.onChangeTitle,onBlur:this.onBlurTitle})),j&&c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement("div",{className:"QuestionAsk-sectionHeader"},c.a.createElement("div",{className:"QuestionAsk-sectionHeaderRight"},j))),c.a.createElement("div",{className:"QuestionAsk-section QuestionAsk-DetailSection"},c.a.createElement("div",{className:"QuestionAsk-sectionHeader"},c.a.createElement("span",{className:"QuestionAsk-label"},"问题描述（可选）："),c.a.createElement("div",{className:"QuestionAsk-sectionHeaderRight"},c.a.createElement(Me.a,{label:(p?"收起":"展开")+"工具栏",isActive:p,icon:he.a,onClick:this.toggleToolbar}),c.a.createElement(Me.a,{label:"插入图片",icon:ye.a,onClick:this.triggerImageUpload}),c.a.createElement(Me.a,{label:"上传视频",icon:be.a,onClick:this.triggerVideoUpload}))),c.a.createElement(Ne.a,{onRef:function(t){e.editable=t},spread:!0,large:!0,allowDragAndDrop:!0,allowLinkCard:!0,minRows:2,allowToolbar:p,allowVideoTitleChange:!0,allowHeaderThree:!1,placeholder:"问题背景、条件等详细信息",defaultValue:r,onError:this.handleError,onUploadError:this.handleUploadError,onChange:this.onChangeDetail,onBeforeVideoUpload:this.handleBeforeVideoUpload})),N&&c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement("div",{className:"QuestionAsk-sectionHeader"},c.a.createElement("div",{className:"QuestionAsk-sectionHeaderRight"},c.a.createElement("span",{className:"QuestionAsk-"+N.level},N.text)))),c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement("div",{className:"QuestionAsk-sectionHeader"},c.a.createElement(we.b,{className:"QuestionEdit-reasonSelect",needsReposition:!0,plain:!0,text:f?null:"请选择一个修改理由",value:f,onChange:this.onChangeReason},Te.map(function(e){return c.a.createElement(we.a,{key:e.value,value:e.value,text:e.text})})),(!f||"other"===f&&!d)&&(E?c.a.createElement("span",{className:"QuestionAsk-"+E.level},E.text):"必选"),"org"===o||"commercial"===o||c.a.createElement("div",{className:"QuestionAsk-sectionHeaderRight"},c.a.createElement(s.Link,{className:"QuestionEdit-why",target:"blank",to:"/question/19550238/answer/95068125"},"为什么问题可以被公共编辑？"))),"other"===f&&c.a.createElement(ve.a,{onRef:function(t){e.reasonInput=t},spread:!0,large:!0,value:d,placeholder:"请输入修改理由",onChange:this.onChangeOtherReason})),c.a.createElement(ge.a,null,c.a.createElement(b.c,{preset:"primary",color:"blue",onClick:this.handleSubmit},"提交修改"))))),c.a.createElement(ge.b,{className:1===l&&"QuestionAsk-Modal",title:Ce[l].title,subtitle:Ce[l].subtitle,footer:O,onClose:this.handleModalClose,hotKeyClosable:!1,maskClosable:!1},n&&C)}}]),t}(),pe.propTypes={id:u.a.number,title:u.a.string,detail:u.a.string,show:u.a.bool.isRequired,onClose:u.a.func.isRequired,isAnonymous:u.a.bool},pe.contextTypes={currentUser:u.a.object},ue=fe))||ue,Ie=n(27),Ae=n.n(Ie),ze=n(145),Se=n(20),xe=n.n(Se),_e=n(1559),Pe=n(88),Le=(n(2420),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Re=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={items:[],value:""},e.position=e.position.bind(e),e.handleRemove=e.handleRemove.bind(e),e.handleKeyDown=e.handleKeyDown.bind(e),e.handleChange=e.handleChange.bind(e),e.handleSelect=e.handleSelect.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Le(t,[{key:"handleRemove",value:function(e){var t=this.props,n=t.value,r=t.onChange,o=t.onRemove;if(o&&o(e),r){var a=n.slice(0);a.splice(e,1),r(a)}}},{key:"handleKeyDown",value:function(e){var t=this.props.value;8===e.keyCode&&!this.state.value&&t.length&&this.handleRemove(t.length-1)}},{key:"handleChange",value:function(e){var t=this;this.setState({value:e}),e?this.props.fetchFn(e).then(function(e){t.setState({items:e.filter(function(e){return!t.props.value.find(function(t){return t.urlToken===e.urlToken})})})}):this.setState({items:[]})}},{key:"handleSelect",value:function(e,t){var n=this.props,r=n.value,o=n.onChange,a=n.onAdd;a&&a(t,this.state.value),o&&o([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r),[t])),this.setState({value:"",items:[]})}},{key:"clearInput",value:function(){this.setState({value:"",items:[]})}},{key:"position",value:function(){var e=this.input.getBoundingClientRect(),t=e.left;return{targetContainerStyle:{top:e.bottom+13,left:t-13}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.inputProps,o=t.value,a=t.renderTagInner,i=t.alignWithInput,s=t.menuProps,l=t.onRef,u=t.after,p=xe()(t,["className","inputProps","value","renderTagInner","alignWithInput","menuProps","onRef","after"]),f=this.state,d=f.value,m=f.items;return c.a.createElement(Pe.b,Object.assign({},p,{className:V()("TagInput",{"TagInput--empty":0===o.length},n),value:d,ref:function(t){e.autoComplete=t},onRef:function(t){l&&l(t),e.input=t},items:m,inputProps:Object.assign({},r,{onKeyDown:this.handleKeyDown,before:o.map(function(t,n){return c.a.createElement(ie.a,{key:n,removable:!0,onRemove:function(){return e.handleRemove(n)}},a(t))}),after:u}),menuProps:Object.assign({position:i?this.position:null,style:{maxHeight:256,overflow:"scroll"}},s),onChange:this.handleChange,onSelect:this.handleSelect}))}}]),t}();Re.propTypes={fetchFn:u.a.func.isRequired,renderTagInner:u.a.func.isRequired,value:u.a.array.isRequired,after:u.a.node,alignWithInput:u.a.bool,onChange:u.a.func,onAdd:u.a.func,onRemove:u.a.func},Re.defaultProps={alignWithInput:!1,after:c.a.createElement(_e.a,{fill:"#afbdcf",size:18})};var Qe,Ue,Be,Ye=Re,qe=n(84),He=n(18),Fe=n(72),Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ge(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Je(e){return e.name.startsWith("创建 ")&&e.name.endsWith(" 话题")}var Ke,Xe,$e=Object(p.connect)(function(e){return{currentUser:Object(He.c)(e)}},{createTopic:qe.d,loadCurrentUser:He.j})(Qe=Object(Fe.a)({load:function(e){return e.loadCurrentUser("can_edit_topic")},shouldLoad:function(e){var t=e.currentUser;return t&&void 0===t.canEditTopic}})((Ue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Be.call(r),Ze(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),We(t,[{key:"render",value:function(){var e=Ae()(this.props,["onChange"]),t=e.value,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value"]);return c.a.createElement(Ye,Ve({inputProps:{large:!0,spread:!0,placeholder:"添加话题"+(t.length>0?"（"+t.length+"/5）":""),disabled:t.length>=5},fetchFn:this.fetchTopic,renderTagInner:function(e){return c.a.createElement("a",{target:"_blank",href:"//www.zhihu.com/topic/"+(e.id||e.urlToken)},e.name)},value:t,alignWithInput:!0,onAdd:this.handleAdd,onRemove:this.handleRemove},n))}}]),t}(),Be=function(){var e=this;this.fetchTopic=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return ze.c.apply(void 0,n.concat([[],{topic_filter:1}])).then(function(t){t=t.filter(function(e){return!Je(e)});var r=e.props.currentUser,o=n[0];return r&&r.canEditTopic&&!t.find(function(e){return e.name===o})?[].concat(Ge(t),[{urlToken:"topic",name:"创建 "+o+" 话题",token:o}]):t})},this.createTopic=function(t){(0,e.props.createTopic)(t).then(function(n){var r=n.payload,o=r.id,a=r.avatarUrl,i=e.props,c=i.value,s=i.onChange;s&&s(c.map(function(e){return e.name===t?{urlToken:o,name:t,avatarUrl:a}:e}))}).catch(function(){var n=e.props,r=n.value,o=n.onChange;o&&o(r.filter(function(e){return e.name!==t}))})},this.handleAdd=function(t,n){var r=e.props,o=r.value,a=r.onChange;if(Je(t))return e.createTopic(n),void(a&&a([].concat(Ge(o),[{name:n}])));a&&a([].concat(Ge(o),[t]))},this.handleRemove=function(t){var n=e.props,r=n.value,o=n.onChange,a=r.slice(0);a.splice(t,1),o&&o(a)}},Qe=Ue))||Qe)||Qe,et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var nt={topics:[],errors:{topics:null,overall:null}},rt=(Xe=Ke=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=nt,e.onChangeTopics=e.handleChangeTopics.bind(e),e.onBlurTopics=e.handleBlurTopics.bind(e),e.onSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),tt(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=n.notification,o=n.show,a=n.onClose,i=e.notification,c=e.show,s=e.topics;if(!o&&c&&(setTimeout(function(){return t.topicsInput.focus()}),this.setState({topics:s})),r!==i){var l=i.text;i.id?(this.setState(nt),a()):this.setState(function(e){var t=e.errors;return{errors:et({},t,{overall:l})}})}}},{key:"handleChangeTopics",value:function(e){this.setState({topics:e})}},{key:"handleBlurTopics",value:function(){this.setState({errors:this.validate("topics",!0)})}},{key:"handleSubmit",value:function(){var e=this;this.setState({errors:this.validate()},function(){for(var t=e.props.topics,n=e.state,r=n.topics,o=n.errors,a=["topics"],i=0;i<a.length;i++){var c=a[i],s=o[c];if(s&&"error"===s.level)return void e[c+"Input"].focus()}if(r!==t){var l={topicUrlTokens:r.map(function(e){return e.urlToken||e.id})};e.props.dispatch(Object(g.T)(e.props.id,l))}})}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.errors;if(!e||"topics"===e){var r=null;0!==this.state.topics.length||t||(r={level:"error",text:"至少添加一个话题"}),n=et({},n,{topics:r})}return n}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,r=t.onClose,o=this.state,a=o.topics,i=o.errors,s=i.topics,l=i.overall;return c.a.createElement(ge.b,{className:"QuestionAsk-Modal",size:"large",title:"修改话题",subtitle:"最多只能为一个问题绑定 5 个话题",footer:l,onClose:r},n&&c.a.createElement("div",{className:"QuestionAsk"},c.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},noValidate:!0},c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement($e,{onRef:function(t){e.topicsInput=t},value:a,onChange:this.onChangeTopics,onBlur:this.onBlurTopics})),s&&c.a.createElement("div",{className:"QuestionAsk-section"},c.a.createElement("div",{className:"QuestionAsk-sectionHeader"},c.a.createElement("div",{className:"QuestionAsk-sectionHeaderRight"},c.a.createElement("span",{className:"QuestionAsk-"+s.level},s.text)))),c.a.createElement(ge.a,null,c.a.createElement(b.c,{preset:"primary",color:"blue",onClick:this.onSubmit},"提交修改")))))}}]),t}(),Ke.propTypes={show:u.a.bool.isRequired,onClose:u.a.func.isRequired},Xe),ot=Object(p.connect)(function(e){return{notification:e.notification.updateQuestionTopics}})(rt),at=n(2118),it=n(396),ct=n(8),st=function(e){return c.a.createElement(ct.a,e,c.a.createElement("path",{d:"M12 9h.009c4.65-.014 8.642 5.096 8.705 9.629 0 .36-.303.461-.592 0-1.474-2.544-3.878-3.862-7.03-3.862h-1.084L12 17.583a.7.7 0 0 1-1.125.556l-7.16-5.478a.7.7 0 0 1-.009-1.105l7.16-5.66a.7.7 0 0 1 1.134.55V9z"}))};st.defaultProps={name:"Undo"};var lt=st,ut=function(e){return c.a.createElement(ct.a,e,c.a.createElement("path",{d:"M19.49 14.362l-2.03-1.83 1.116-1.137a1.352 1.352 0 0 1 1.921-.009c.535.535.54 1.4.01 1.94l-1.016 1.036zm-4.883 4.935a2.3 2.3 0 0 1-1.12.63l-1.136.264c-.29.058-.668-.105-.56-.56l.27-1.158a2.3 2.3 0 0 1 .599-1.09l3.809-3.84 2.03 1.829-3.892 3.925zM4.06 5H19.94C20.526 5 21 5.448 21 6s-.474 1-1.059 1H4.06C3.474 7 3 6.552 3 6s.474-1 1.059-1zM4 11h9a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h4a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z",fillRule:"evenodd"}))};ut.defaultProps={name:"Preview"};var pt,ft,dt,mt,ht=ut,yt=n(9),bt=n(644),vt=n(37),gt=n(39),wt=(n(2421),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Et,Ot,jt=300,Tt=(pt=Object(p.connect)(function(e,t){return{draft:Object(g.l)(e,{id:t.params.id}),question:Object(g.J)(e,{id:t.params.id})}},{restoreAnswer:gt.v,showNotification:U.g}),Object(s.withRouter)(ft=pt((mt=dt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Nt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.getRenderProps=function(){var e=r.props,t=e.draft,n=e.question,o=n.id,a=n.relationship,i=(a=void 0===a?{}:a).myAnswer;return i?i.isDeleted?{icon:c.a.createElement(lt,{size:17,className:"QuestionButton-icon"}),text:"撤销删除",props:{onClick:r.handleRestoreAnswer}}:{icon:c.a.createElement(ht,{size:17,className:"QuestionButton-icon"}),text:"查看回答",props:{to:"/question/"+o+"/answer/"+i.answerId,onClick:r.handleFocusAnswer},Wrapper:vt.a}:{icon:c.a.createElement(_.a,{className:"QuestionButton-icon Button-icon",name:"modify"}),text:t?"编辑回答":"写回答",props:{onClick:r.handleAddAnswer}}},r.handleFocusAnswer=function(){var e=document.querySelector(".AnswerCard");e&&(e.classList.add("is-focus"),r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(function(){return e.classList.remove("is-focus")},jt))},r.handleRestoreAnswer=function(){var e=r.props,t=e.question,n=t.relationship.myAnswer,o=t.id,a=e.restoreAnswer,i=e.showNotification;n.isDeleted&&a(o,n.answerId).then(function(){return i("已撤销删除回答")})},r.handleAddAnswer=r.context.authRequired(function(e){var t=r.props,n=t.draft,o=t.question.reviewInfo,a=(o=void 0===o?{}:o).tips,i=t.zaId;a?r.props.showNotification(a,"red"):(i&&yt.default.trackEvent(null,{id:i}),yt.default.trackEvent(r,{action:n&&n.editableContent?"Edit":"Answer",is_intent:!0,name:e.currentTarget.textContent}),r.context.startAddAnswer())}),Nt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Mt(t,[{key:"componentDidMount",value:function(){Object(bt.b)()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.size,o=e.preset,a=e.color,i=void 0===a?"blue":a,s=e.onClick,l=this.getRenderProps(),u=l.icon,p=l.text,f=l.props,d=l.Wrapper,m=void 0===d?b.c:d,h=c.a.createElement(c.a.Fragment,null,u,p);return c.a.createElement(m,wt({},f,s&&{onClick:s},{color:i,size:r,preset:o,className:n}),t||h)}}]),t}(),dt.contextTypes={authRequired:u.a.func,startAddAnswer:u.a.func},ft=mt))||ft)||ft),Ct=n(291),kt=n(400),Dt=n(36),It=(n(2422),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),At=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var St=(Et=Object(p.connect)(function(e){return{shouldOia:Object(Dt.h)(e),edition:Object(Dt.d)(e),referer:Object(Dt.g)(e)}}),Object(s.withRouter)(Ot=Et(Ot=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=zt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.createOpenInAppHandler=function(e){var t=r.props,n=t.question.id,o=t.edition,a=t.location.query,i=t.referer;return function(t){return Object(it.b)(t,{href:Object(kt.a)({type:"question",id:n},{edition:o,query:a,referer:i,utm_content:e})})}},zt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),At(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.question,r=n.relationship,o=n.relationship.isAuthor,a=n.isNormal,i=n.status,s=(i=void 0===i?{}:i).isLocked,l=n.questionType,u=n.isMuted,p=n.id,f=e.shouldOia,d=e.inTopBar,m="commercial"===l&&u;return c.a.createElement("div",{className:"QuestionButtonGroup"},o&&m?c.a.createElement(vt.a,{preset:"primary",a:!0,to:"https://e.zhihu.com",color:"green"},"推广问题"):c.a.createElement(Ct.a,It({id:p,zaId:d?3408:3309,type:"question",preset:"primary",isFollowing:(r&&{}.hasOwnProperty.call(r,"isFollowing")?r:t).isFollowing,disabled:m},f&&{onClick:this.createOpenInAppHandler("follow_question")})),a&&!s&&c.a.createElement(Tt,It({color:"blue",zaId:d?3409:3311},f&&{onClick:this.createOpenInAppHandler("write_answer")})))}}]),t}())||Ot)||Ot),xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _t=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.state={count:Math.round(a.props.count)},a.next=function(){var e=a.props.onEnd,t=a.state.count-1;a.setState({count:t}),0===t&&(clearInterval(a.handle),e&&e())},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),xt(t,[{key:"componentDidMount",value:function(){this.state.count<=0||(this.handle=setInterval(this.next,this.props.interval))}},{key:"componentWillUnmount",value:function(){clearInterval(this.handle)}},{key:"render",value:function(){var e=this.state.count;return c.a.createElement("span",null,e)}}]),t}();_t.propTypes={count:u.a.number.isRequired,interval:u.a.number,onEnd:u.a.func},_t.defaultProps={interval:1e3};var Pt=_t,Lt=n(187),Rt=n(23),Qt=n(204),Ut=n(133),Bt=n(110),Yt=n.n(Bt),qt=n(382),Ht=n(1579),Ft=n(70),Vt=n(140),Wt=n(212),Gt=(n(2423),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Zt(t,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.className,r=e.children,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","className","children"]),a=V()("QuestionMainAction",n);return t?c.a.createElement(s.Link,Gt({to:t,className:a},o),r):c.a.createElement(b.c,Gt({className:a},o),r)}}]),t}(),Kt=n(202),Xt=n(1589),$t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function tn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var nn,rn,on,an=function(e,t){return e&&e.replace(new RegExp(t,"g"),function(e){return"<em>"+e+"</em>"})},cn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=tn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={mounted:!1},r.handleInvite=function(){var e=r.props,t=e.user.urlToken,n=e.onInvite;yt.default.trackEvent(r,{id:3314}),n(t)},r.getContainer=function(){return document.querySelector(".Modal-content .QuestionInvitation-content")},tn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),en(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.contributionsCount,r=e.topic,o=e.isInvited,a=e.keyword,i=e.reason,l=t.name,u=$t({},t,{name:c.a.createElement(Qt.a,{tag:"span",html:an(l,a)})}),p=c.a.createElement(Xt.a,{user:u,status:i||(n?c.a.createElement("div",null,"在话题 ",c.a.createElement(se.a,{topic:r})," 下有 ",c.a.createElement(s.Link,{to:"/people/"+t.urlToken+"/answers/topic/"+r.id},Object(Kt.formatNumber)(n)," 个回答")):c.a.createElement(Qt.a,{html:t.headline})),action:c.a.createElement(b.c,{color:o?void 0:"blue",disabled:o,onClick:this.handleInvite},o?"已邀请":"邀请回答"),meta:null}),f={module:"UserItem",index:this.props.index,content:{member_hash_id:t.id},view:{id:a?4436:4437},extra:{search:{raw_query:a||""}},trackCardShow:!0};return this.state.mounted?c.a.createElement(Q.a,$t({getContainer:this.getContainer},f),p):p}}]),t}(),sn=n(1568),ln=n(19),un=(n(2424),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function pn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fn,dn,mn,hn=Object(p.connect)(null,{openAutoInvite:ln.D,closeAutoInvite:ln.d})((on=rn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=pn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.questionId,n=e.closeAutoInvite,o=e.openAutoInvite;return"close"===e.item.status?(yt.default.trackEvent(null,{id:3313}),o(t)):n(t)},pn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),un(t,[{key:"render",value:function(){var e=this.props.item,t=void 0===e?{}:e,n=t.avatar,r=t.description,o=t.status,a=t.title,i="close"===o;return c.a.createElement(sn.e,{data:t,image:c.a.createElement(W.a,{size:38,url:n}),title:a,meta:c.a.createElement(sn.d,null,r),className:"AutoInviteItem-wrapper--desktop",extra:c.a.createElement(b.c,{preset:"link",className:i?"AutoInviteItem-button--closed":"AutoInviteItem-button--open",onClick:this.handleClick},i?"开启邀请":"已开启")})}}]),t}(),rn.propTypes={questionId:u.a.number.isRequired,item:u.a.object},nn=on))||nn,yn=n(1644),bn=(n(2425),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),vn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function wn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Mn,Nn=300,En=function(e){var t=e.user;return c.a.createElement("div",{className:"InviteeItem"},c.a.createElement("div",{className:"InviteeItem-content"},c.a.createElement(W.a,{url:t.avatarUrl,size:32,className:"InviteeItem-image"}),c.a.createElement("h4",{className:"InviteeItem-title"},t.name)))},On=Object(ce.a)({module:"InvitationFrame"})((mn=dn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=wn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={expanded:!1,keyword:null},r.onChange=Yt()(function(e){r.props.onChange(e)},Nn),r.handleChange=function(e){var t=e.target.value;r.setState({keyword:t}),t&&r.onChange(t)},r.handleExpand=function(){(0,r.props.trackEvent)(r,{action:"LoadMore",element:"Button"}),r.setState({expanded:!0})},r.handleInvite=function(e){var t=r.state.keyword;return(0,r.props.onInvite)(e,t)},wn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),gn(t,[{key:"renderHeader",value:function(){var e=this.props,t=e.invitees,n=(e.expandCount,c.a.createElement(ve.a,{className:"QuestionInvitation-input",placeholder:"搜索你想邀请的人",onChange:this.handleChange,after:c.a.createElement(_.a,{grey:!0,name:"search"}),"data-tooltip":"也可以搜索职业、公司等资料","data-tooltip-position":"bottom"})),r=[t.length?c.a.createElement("span",null,"你已邀请 ",c.a.createElement(Ft.a,{toggler:c.a.createElement(b.c,{className:"Invitees-toggler",preset:"plain"},c.a.createElement("span",{className:"Invitees-togglerUsers"},t.slice(0,2).map(function(e,t){return c.a.createElement("span",{key:t},0===t?"":"、",c.a.createElement("span",null,e.name))})),t.length>2&&" 等 "+t.length+" 人"),toggleEvent:"hover",targetClassName:"Invitees-popover",arrowed:!0},c.a.createElement("div",{className:"Invitees"},t.map(function(e){return c.a.createElement(En,{key:e.urlToken,user:e})})))):c.a.createElement("h2",{className:"QuestionInvitation-title"},"你可以邀请下面用户，快速获得回答"),n],o=vn(r,2),a=o[0],i=o[1];return c.a.createElement(yn.a,{header:a,options:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFetching,r=t.isDrained,o=t.items,a=t.searchItems,i=t.expandCount,s=t.autoInvitationItem,l=t.question,u=(l=void 0===l?{}:l).id,p=this.state,f=p.expanded,d=p.keyword,m=d?a:o,h=Boolean((void 0===i||i>0)&&!d&&m.length&&s&&s.status),y=h?i-1:i,b=!y||f,v=i?qt.d:"div";return c.a.createElement(v,{className:"QuestionInvitation"},this.renderHeader(),n?c.a.createElement("div",{className:V()("QuestionInvitation-content","QuestionInvitation-content--centered")},c.a.createElement(Vt.a,null)):c.a.createElement("div",{className:V()("QuestionInvitation-content",{"QuestionInvitation-content--centered":!m.length})},m.length?c.a.createElement(Q.a,{module:"UserList"},c.a.createElement(Ht.b,null,h&&c.a.createElement(hn,{questionId:u,item:s}),(b?m:m.slice(0,y)).map(function(t){return c.a.createElement(Ht.a,{className:V()({"List-item--mobile":!1}),key:t.user.urlToken},c.a.createElement(cn,bn({},t,{keyword:d,onInvite:e.handleInvite})))}))):c.a.createElement(Wt.a,{entityType:"users",placeholder:r?"没有可以邀请的人":"没有找到你想邀请的人"}),m.length>y&&!b&&c.a.createElement(Jt,{onClick:this.handleExpand},"更多推荐结果")))}}]),t}(),dn.propTypes={expandCount:u.a.number,items:u.a.array,searchItems:u.a.array,onInvite:u.a.func.isRequired},fn=mn))||fn,jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Cn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var kn,Dn,In,An,zn,Sn=Object(p.connect)(function(e,t){var n=t.question.id,r=e.entities,o=r.users,a=r.topics,i=e.question,c=i.invitationCandidates,s=i.invitees,l=i.autoInvitation,u=function(e){var t=e.member,n=e.isInvited,r=e.topicContributions,i=e.reason,c=r&&r.sort(function(e,t){return t.contributionsCount-e.contributionsCount})[0]||{},s=c.topic,l=c.contributionsCount;return{user:o[t],topic:a[s],isInvited:n,contributionsCount:l,reason:i}},p=c[n]||{isFetching:!1,isDrained:!1,items:[],searchItems:[]},f=p.isFetching,d=p.isDrained,m=p.items,h=p.searchItems,y=(s[n]||{items:[]}).items;return{isFetching:f,isDrained:d,items:m.map(u),searchItems:h.map(u),invitees:y.map(function(e){return o[e]}),autoInvitationItem:l[n]}},{loadItems:g.x,updateInvitation:g.N,loadAutoInvitation:g.o})(Mn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Cn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=r.props,n=t.question.id;(0,t.loadItems)(n,"invitationCandidates",{keyword:e})},r.handleInvite=function(e,t){r.props.updateInvitation(r.props.question.id,e,t?"search":"normal")},Cn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Tn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question,n=t.id,r=t.status,o=(r=void 0===r?{}:r).isLocked,a=r.isClose,i=r.isEvaluate,c=r.isSuggest,s=e.loadItems,l=e.loadAutoInvitation;e.isDrained||o||a||i||c||(s(n,"invitationCandidates"),s(n,"invitees"),l(n))}},{key:"render",value:function(){var e=this.props.question.status,t=e.isLocked,n=e.isClose,r=e.isEvaluate,o=e.isSuggest;return t||n||r||o?null:c.a.createElement(On,jn({onChange:this.handleChange,onInvite:this.handleInvite},this.props))}}]),t}())||Mn,xn=n(205),_n=(n(2426),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Pn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ln,Rn=(kn=Object(xn.a)({replacement:null}),Dn=Object(p.connect)(function(e,t){var n=e.entities.questions,r=e.question.inviters,o=t.location.query,a=t.question.id,i={isMuteSpecial:Object(g.n)(t.question),edition:e.env.edition,inviters:r[a]};if(o.rf&&/^\d+$/.test(o.rf)){var c=n[Number(o.rf)];c&&(i.fromQuestion=c)}return i},{loadItems:g.x,loadQuestion:g.z,revokeQuestionRedirection:g.L,deleteInviters:g.j}),kn(In=Object(s.withRouter)(In=Dn((zn=An=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Pn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={redirectionLoading:!1,redirectionHidden:!1,invitersHidden:!1,invitationModalShown:!1},r.redirect=function(){var e=r.props,t=e.router,n=e.location.query,o=e.question,a=o.id,i=o.redirection;i&&i.to&&i.to.id&&"1"!==n.nr&&t.push("/question/"+i.to.id+"?rf="+a)},r.handleRedirectionClose=function(){r.setState({redirectionHidden:!0,invitersHidden:!0}),r.timeout=setTimeout(function(){r.setState({invitersHidden:!1})},1e3)},r.handleCloseInviters=function(){r.setState({invitersHidden:!0})},r.handleDeleteInviters=function(e){var t=r.props,n=t.question.id;(0,t.deleteInviters)(n),r.handleCloseInviters(),yt.default.trackEvent(e.target,{action:"Ignore"})},r.handleCancelAnonymous=function(){(0,r.props.onInvitationTipClose)(),r.context.toggleAnonymous(!1)},r.handleInvite=function(e){r.setState({invitersHidden:!0,invitationModalShown:!0}),yt.default.trackEvent(e.target,{action:"Invite",is_intent:!0})},r.handleInvitationModalHide=function(){r.setState({invitationModalShown:!1})},Pn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),_n(t,[{key:"componentWillMount",value:function(){Object(Rt.isBrowser)()&&this.nextQuestion(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.nextQuestion(e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"nextQuestion",value:function(e){var t=this,n=this.context.currentUser,r=e.location.query,o=e.question.id,a=e.fromQuestion,i=e.loadItems,c=e.loadQuestion;clearTimeout(this.timeout),this.setState({redirectionLoading:!1,redirectionHidden:!1,invitersHidden:!1}),n&&"guest"!==n.userType&&i(o,"inviters"),r.rf&&/^\d+$/.test(r.rf)&&!a&&(this.setState({redirectionLoading:!0}),c(Number(r.rf)).catch(function(){}).then(function(){t.setState({redirectionLoading:!1})}))}},{key:"revokeRedirection",value:function(e){var t=this.props,n=t.router,r=t.question.id;(0,t.revokeQuestionRedirection)(e).then(function(){n[e===r?"replace":"push"]("/question/"+e)}),this.handleRedirectionClose()}},{key:"renderCommercialMuteStatus",value:function(){var e=this.props.question,t=e.questionType,n=e.isMuted;return e.relationship.isAuthor&&"commercial"===t&&n?c.a.createElement("div",{className:"QuestionStatus-bar"},c.a.createElement("div",{className:"QuestionStatus-bar-inner"},c.a.createElement("div",{className:"QuestionStatus-bar-commercialMuted"},"该品牌提问尚未激活，无法在社区内流通。请"," ",c.a.createElement("a",{href:"https://e.zhihu.com",target:"_blank",rel:"noopener noreferrer"},"前往广告平台")," ","进行设置。"),c.a.createElement("p",null,"未激活的品牌提问页可以添加回答，但相关动态不在社区内流通，包括不会出现在知乎首页、用户主页，也不会被搜索到。当与该品牌提问关联的广告开始投放时，提问被激活，并开始流通。"))):null}},{key:"renderMute",value:function(){if(this.props.isMuteSpecial)return c.a.createElement("div",{className:"QuestionStatus-bar"},c.a.createElement("div",{className:"QuestionStatus-bar-inner"},c.a.createElement("strong",null,"问题已解散。"),c.a.createElement("p",null,"当前问题下的回答暂时无法查看。")))}},{key:"renderBar",value:function(){var e=this.props.question.status.unnormalDetails;return e&&c.a.createElement("div",{className:"QuestionStatus-bar"},c.a.createElement("div",{className:"QuestionStatus-bar-inner"},c.a.createElement("strong",null,e.description,"。"),c.a.createElement("em",null,"原因：",e.reason,"。"),1033!==e.reasonId&&c.a.createElement(Qt.a,{html:e.note})))}},{key:"renderNotification",value:function(){var e=this,t=this.props,n=t.location.query,r=t.question,o=r.id,a=r.redirection,i=r.relationship,s=(i=void 0===i?{}:i).myAnswer,l=t.inviters,u=t.fromQuestion,p=t.isAnswerPage,f=t.edition,d=this.state,m=d.redirectionLoading,h=d.redirectionHidden,y=d.invitersHidden,v=null,g=null;if(!m)if(a&&a.to&&a.to.id&&!h){var w=a.to,M=w.id,N=w.title,E="1"!==n.nr&&!f.baidu&&!p;v=E?"redirect-countdown":"redirect",g=c.a.createElement("div",{className:"QuestionStatus-notification-inner"},c.a.createElement("div",{className:"QuestionStatus-notification-content"},E?c.a.createElement("span",null,"此问题将在 ",c.a.createElement(Pt,{count:5,onEnd:this.redirect})," ","秒后跳转至"):c.a.createElement("span",null,"此问题已重定向至")," ",c.a.createElement(vt.a,{preset:"plain",to:"/question/"+M+"?rf="+o},N)),c.a.createElement("div",{className:"QuestionStatus-notification-actions"},c.a.createElement(b.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:function(){return e.revokeRedirection(o)}},"撤销重定向"),c.a.createElement("div",{className:"QuestionStatus-notification-divider"}),c.a.createElement(b.c,{preset:"plain",onClick:this.handleRedirectionClose},"关闭")))}else if(u&&u.redirection&&u.redirection.to&&u.redirection.to.id&&u.redirection.to.id===o&&!h){var O=u.id,j=u.title;v="redirect-from",g=c.a.createElement("div",{className:"QuestionStatus-notification-inner"},c.a.createElement("div",{className:"QuestionStatus-notification-content"},"从问题"," ",c.a.createElement(vt.a,{preset:"plain",to:"/question/"+O+"?nr=1"},j)," ","跳转而来"),c.a.createElement("div",{className:"QuestionStatus-notification-actions"},c.a.createElement(b.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:function(){return e.revokeRedirection(O)}},"撤销重定向"),c.a.createElement("div",{className:"QuestionStatus-notification-divider"}),c.a.createElement(b.c,{preset:"plain",onClick:this.handleRedirectionClose},"关闭")))}else l&&l.length&&!y&&!s&&(g=c.a.createElement(Q.a,{module:"InvitationCard",trackCardShow:!0},c.a.createElement("div",{className:"QuestionStatus-notification-inner"},c.a.createElement("div",{className:"QuestionStatus-notification-content"},l.map(function(e,t){return c.a.createElement("span",{key:e.urlToken},0!==t&&"、",c.a.createElement(Ut.a,{user:e,noBadge:!0,noHoverCard:!0,"data-za-detail-view-element_name":"User"}))})," ","邀请你回答此问题"),c.a.createElement("div",{className:"QuestionStatus-notification-actions"},c.a.createElement(b.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:this.handleInvite},"邀请别人"),c.a.createElement("div",{className:"QuestionStatus-notification-divider"}),c.a.createElement(b.c,{preset:"plain",onClick:this.handleDeleteInviters},"忽略邀请")),c.a.createElement("div",null,c.a.createElement(b.c,{className:"QuestionStatus-notification-closeButton",preset:"plain",onClick:this.handleCloseInviters},c.a.createElement(_.a,{name:"remove",width:11,height:11}))))));return c.a.createElement(Lt.a,{className:"QuestionStatus-notification",notification:g?{key:v,text:g}:null})}},{key:"renderInvitationTip",value:function(){var e=this.props,t=e.invitationTipShown,n=e.onInvitationTipClose;return c.a.createElement(Lt.a,{className:"QuestionStatus-notification",notification:t?{text:c.a.createElement("div",{className:"QuestionStatus-notification-inner"},c.a.createElement("div",{className:"QuestionStatus-notification-content"},"在匿名状态下无法邀请他人回答"),c.a.createElement("div",{className:"QuestionStatus-notification-actions"},c.a.createElement(b.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:this.handleCancelAnonymous},"取消匿名"),c.a.createElement("div",{className:"QuestionStatus-notification-divider"}),c.a.createElement(b.c,{preset:"plain",onClick:n},"关闭")))}:null})}},{key:"render",value:function(){var e=this.props.question,t=this.state.invitationModalShown;return c.a.createElement("div",{className:"QuestionStatus"},this.renderCommercialMuteStatus(),this.renderMute(),this.renderBar(),this.renderNotification(),this.renderInvitationTip(),c.a.createElement(v.b,{size:"fullPage",onClose:this.handleInvitationModalHide},t&&c.a.createElement(Sn,{question:e})))}}]),t}(),An.contextTypes={currentUser:u.a.object,toggleAnonymous:u.a.func},In=zn))||In)||In)||In),Qn=n(169),Un=n(1629),Bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Yn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Hn,Fn,Vn,Wn,Gn,Zn=Object(p.connect)(function(e,t){var n=t.parent.id,r=e.entities.users,o=e.question,a=o.followers,i=o.concernedFollowers,c=a[n]||{isFetching:!1,isDrained:!1,order:"normal",ids:[]},s=c.isFetching,l=c.isDrained,u=c.order,p=c.ids,f=(i[n]||{ids:[]}).ids;return{isFetching:s,isDrained:l,order:u,items:[].concat(qn(f),qn(p.filter(function(e){return!f.includes(e)}))).map(function(e){return r[e]}),currentUser:Object(He.c)(e)}},{loadQuestionFollowers:g.C})(Ln=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Yn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.load=function(){var e=r.props,t=e.parent.id;(0,e.loadQuestionFollowers)(t)},Yn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Bn(t,[{key:"render",value:function(){var e=this.props,t=e.parent.followerCount,n=e.isFetching,r=e.isDrained,o=e.items,a=e.currentUser;return c.a.createElement(Un.a,{currentUser:a,isFetching:n,isDrained:r,items:o,voteupCount:t,onLoad:this.load,text:"关注了"})}}]),t}())||Ln,Jn=(n(2427),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Kn=(Wn=["","也关注了该问题"],Gn=["","也关注了该问题"],Object.freeze(Object.defineProperties(Wn,{raw:{value:Object.freeze(Gn)}})));function Xn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $n=(Hn=Object(p.connect)(function(e,t){var n=t.params;return{currentUser:Object(He.c)(e),concernedFollowers:Object(g.e)(e,{id:n.id})}},{loadQuestionConcernedFollowers:g.B}),Fn=Object(Fe.a)({shouldLoad:function(e){return e.currentUser&&!e.concernedFollowers},load:function(e){return e.loadQuestionConcernedFollowers(e.params.id)}}),Object(s.withRouter)(Vn=Hn(Vn=Fn(Vn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Xn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={followersShown:!1},r.showFollowers=function(){r.setState({followersShown:!0})},r.closeFollowers=function(){r.setState({followersShown:!1})},Xn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Jn(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.currentUser,r=e.concernedFollowers,o=t.followerCount,a=t.visitCount,i=this.state.followersShown;return c.a.createElement("div",{className:"QuestionFollowStatus"},c.a.createElement(Qn.a,{divider:!0,className:"QuestionFollowStatus-counts"},n?c.a.createElement(Qn.a.Item,{tag:b.c,preset:"plain",onClick:this.showFollowers,name:"关注者",value:o}):c.a.createElement(Qn.a.Item,{name:"关注者",value:o}),c.a.createElement(Qn.a.Item,{name:"被浏览",value:a})),Boolean(r&&r.length)&&c.a.createElement(b.c,{preset:"plain",className:"QuestionFollowStatus-people",onClick:this.showFollowers},c.a.createElement("span",{className:"QuestionFollowStatus-people-tip"},x()(Kn,1===r.length?r[0].name:"他们")),r.map(function(e){return c.a.createElement(Ut.a,{user:e,avatar:!0,avatarProps:{size:26,round:!0},noLink:!0,noBadge:!0,noHoverCard:!0,key:e.id})})),c.a.createElement(ge.b,{size:"fullPage",onClose:this.closeFollowers},i&&c.a.createElement(Zn,{parent:t})))}}]),t}())||Vn)||Vn)||Vn),er=n(2430),tr=n(2431),nr=n(1562),rr=n(1819),or=n(38),ar=n(1615),ir=n(1572),cr=n(206),sr=n(10);function lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&(t||n)}n(2428);var ur,pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var dr,mr,hr,yr,br=Object(p.connect)()(ur=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=fr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={value:"",items:[]},r.handleChange=function(e){var t=r.props.dispatch;r.setState({value:e});var n=e.match(/^https:\/\/www.zhihu.com\/question\/(\d+)/);n?t(Object(g.E)(n[1])).then(function(e){var t=e.payload;r.setState({items:[{name:t.title,urlToken:t.id}]})}):Object(ze.b)(e).then(function(e){r.setState({items:e})})},r.handleSelect=function(e,t){var n=r.props,o=n.dispatch,a=n.question.id,i=n.onSubmitted,c=t.urlToken,s=o(Object(g.f)(a,c));i&&i({id:c},s)},fr(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),pr(t,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.items;return c.a.createElement("div",{className:"QuestionRedirectionCreator"},c.a.createElement("div",{className:"QuestionRedirectionCreator-content"},c.a.createElement(Pe.b,{value:t,items:n,inputProps:{spread:!0,large:!0,after:c.a.createElement(_.a,{grey:!0,name:"search"})},menuProps:{targetClassName:"QuestionRedirectionCreator-menu"},onChange:this.handleChange,onSelect:this.handleSelect})))}}]),t}())||ur,vr=n(26),gr=n.n(vr),wr=n(1882),Mr=n(417),Nr=n(1815),Er=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Or(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var jr,Tr,Cr,kr,Dr=(dr=Object(p.connect)(function(e,t){return{isMuteSpecial:Object(g.n)(t.question)}}),Object(s.withRouter)(mr=dr((yr=hr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Or(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={commentsShown:!1},r.handleCommentsShow=function(){var e=r.props,t=e.question.reviewInfo.tips,n=e.handleReviewingNotication;t?n():(yt.default.trackEvent(r,{action:"Comment",element:"Button",is_intent:!0}),r.setState({commentsShown:!0}))},r.handleCommentsClose=function(){r.setState({commentsShown:!1})},Or(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Er(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,n=e.router.location,r=n.pathname,o=n.search,a=Boolean(/^\/question\/(\d*)$/.test(r)),i=Object(vr.parse)(location.search.slice(1)).answer_deleted_redirect;if(a&&"true"!==i){var c=Object(Nr.a)(location.hash);this.setState({byComment:c}),c&&(t.replace(""+r+o),this.handleCommentsShow())}}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.setState({commentsShown:!1})}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.textStyle,r=e.isMuteSpecial,o=t.commentCount,a=t.adminClosedComment,i=this.state.commentsShown,s="",l=o&&!a;return s="textNumber"===n?l?"评论 "+Object(Kt.formatNumber)(o):"":l?Object(Kt.formatNumber)(o)+" 条评论":"添加评论",c.a.createElement("div",{className:"QuestionHeader-Comment"},c.a.createElement(b.c,{preset:"plain",onClick:this.handleCommentsShow,icon:wr.a,label:s,disabled:r}),c.a.createElement(v.b,{size:"fullPage",onClose:this.handleCommentsClose},i&&c.a.createElement(Mr.a,{type:"question",parent:t,byComment:this.state.byComment,commentNeedsReview:"censor"===t.commentPermission})))}}]),t}(),hr.propTypes={question:u.a.object.isRequired,handleReviewingNotication:u.a.func.isRequired},mr=yr))||mr)||mr),Ir=(n(2429),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Ar(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var zr={invitationShown:!1,reportShown:!1,lockTipsShown:!1,deleteShown:!1,redirectionCreatorShown:!1},Sr=(jr=Object(p.connect)(function(e,t){return{edition:Object(Dt.d)(e),referer:Object(Dt.g)(e),shouldOia:Object(Dt.h)(e),isMuteSpecial:Object(g.n)(t.question),publicEditPermission:e.publicEditPermission,currentUserUrlToken:e.currentUser,permission:Object(g.H)(e),allowCommercialAnonymousAnswer:Object(Dt.a)(e,"gue_anonymous")}},{deleteQuestion:g.k,deleteBrandQuestion:g.h,updateQuestionLocked:g.R,showNotification:U.g,updateQuestionPermission:g.S}),Object(s.withRouter)(Tr=jr((kr=Cr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ar(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state=zr,r.handleReviewingNotication=function(){var e=r.props.question.reviewInfo.tips;r.props.showNotification(e,"red")},r.handleInvite=r.context.authRequired(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).eventId,t=void 0===e?3312:e;yt.default.trackEvent(null,{id:t});var n=r.props,o=n.question,a=o.relationship.isAnonymous,i=o.status,c=(i=void 0===i?{}:i).isLocked,s=i.isClose,l=i.isEvaluate,u=i.isSuggest,p=o.reviewInfo,f=(p=void 0===p?{}:p).tips,d=n.onInvitationTipShow;if(f)r.handleReviewingNotication();else if(a)d();else{var m=void 0;c?m="锁定":s?m="关闭":(l||u)&&(m="建议修改"),m?r.props.showNotification("该问题已被"+m+"，不能邀请人回答此问题","red"):r.handleInvitationShow()}},sr.N.invite),r.handleInvitationShow=function(){return r.setState({invitationShown:!0})},r.handleInvitationHide=function(){return r.setState({invitationShown:!1})},r.handleReport=function(){r.setState({reportShown:!r.state.reportShown})},r.handleLock=function(){return r.props.question.status.isLocked?r.handleUpdateQuestionLocked():r.handleLockTipsShow()},r.handleUpdateQuestionLocked=function(){var e=r.props,t=e.question.id;(0,e.updateQuestionLocked)(t)},r.handleLockTipsShow=function(){return r.setState({lockTipsShown:!0})},r.handleLockTipsHide=function(){return r.setState({lockTipsShown:!1})},r.handleDelete=function(){return r.setState({deleteShown:!0})},r.handleDeleteModalClose=function(){return r.setState({deleteShown:!1})},r.handleConfirmDelete=function(){r.handleDeleteModalClose();var e=r.props,t=e.question,n=t.id,o=t.questionType,a=e.deleteQuestion,i=e.deleteBrandQuestion;return("commercial"===o?i:a)(n).then(function(){location.href="/"})},r.handleRedirectionCreatorShow=function(){r.props.question.reviewInfo.tips?r.handleReviewingNotication():r.setState({redirectionCreatorShown:!0})},r.handleRedirectionCreatorClose=function(){r.setState({redirectionCreatorShown:!1})},r.handleRedirectionCreated=function(e,t){var n=r.props,o=n.router,a=n.question.id,i=e.id;r.handleRedirectionCreatorClose(),t.then(function(){o.push("/question/"+i+"?rf="+a)})},r.handleCommentPermissionChange=function(e){var t=r.props;(0,t.updateQuestionPermission)(t.question.id,e)},r.handleShareMenuTogglerClick=function(){var e=r.props.question.reviewInfo;return!(e=void 0===e?{}:e).tips||(r.handleReviewingNotication(),!1)},r.toggleAnonymous=function(){var e=r.props.question.reviewInfo,t=e.tips,n=e.editTips;t?r.handleReviewingNotication():n?r.props.showNotification(n,"red"):r.context.toggleAnonymous()},r.getQuestionStatus=function(){var e=r.props.question.status,t=(e=void 0===e?{}:e).isClose,n=e.isEvaluate,o=e.isLocked,a=e.isSuggest;return t?"closed":a?"suggested":n?"evaluated":o?"locked":""},Ar(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),Ir(t,[{key:"componentDidMount",value:function(){var e=this.props.getHandleInvite;e&&e(this.handleInvite)}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.nextQuestion(e)}},{key:"nextQuestion",value:function(){this.setState(zr)}},{key:"render",value:function(){var e=this,t=this.state,n=t.invitationShown,r=t.reportShown,o=t.lockTipsShown,a=t.deleteShown,i=t.redirectionCreatorShown,s=this.context.currentUser,l=this.props,u=l.question,p=l.question,f=p.id,d=p.title,m=p.answerCount,h=p.collapsedAnswerCount,y=p.relationship,g=y.isAuthor,w=y.isAnonymous,M=y.canLock,N=p.status,E=(N=void 0===N?{}:N).isLocked,O=p.questionType,j=p.isEditable,T=p.commentPermission,C=p.author.urlToken,k=l.edition,D=l.shouldOia,I=l.location.query,A=l.referer,z=l.isMuteSpecial,S=l.publicEditPermission,x=(S=void 0===S?{}:S).isQuestionRedirectEditable,_=l.currentUserUrlToken,P=l.permission.canBrandAdminEdit,L=l.allowCommercialAnonymousAnswer,R="commercial"===O,Q=s&&!g,U=(P||M)&&(0!==m||0!==h),B=!1,Y=void 0;R?(B=P,Y=E?"开放回答":"关闭回答"):(B=g&&0===m&&0===h,Y=E?"取消锁定":"锁定问题");var q=D?c.a.createElement(or.b,{onClick:function(e){return Object(it.b)(e,{href:Object(kt.a)({type:"question",id:f},{edition:k,query:I,referer:A})})}},"查看问题日志"):c.a.createElement(or.b,{tag:vt.a,a:!0,to:"/question/"+f+"/log"},"查看问题日志"),H=[Q&&{text:"举报",icon:er.a,handler:this.handleReport}].filter(Boolean),F=lr(j,C===_,x),W=s&&!s.isOrg&&("normal"===O||"commercial"===O&&L||w),G="commercial"!==O||W||R&&P;return c.a.createElement("div",{className:"QuestionHeaderActions"},c.a.createElement(b.c,{color:"grey",style:{marginRight:16},onClick:this.handleInvite,label:"邀请回答",icon:tr.a,disabled:z}),c.a.createElement(Dr,{question:u,handleReviewingNotication:this.handleReviewingNotication}),c.a.createElement(ir.a,{id:f,title:d,href:"/question/"+f,onTogglerClick:this.handleShareMenuTogglerClick,type:"question",disabled:z}),H.map(function(e){var t=e.text,n=e.icon,r=e.handler,o=e.disabled;return c.a.createElement(b.c,{key:t,preset:"plain",onClick:r,label:t,icon:n,disabled:o})}),G&&c.a.createElement(or.c,{toggler:c.a.createElement(b.c,{preset:"plain","aria-label":"更多",icon:nr.a}),menuClassName:"QuestionHeader-menu",itemClassName:V()("QuestionHeader-menu-item",{"QuestionHeader-menu-item--com":R})},!1,W&&c.a.createElement(or.b,{onClick:this.toggleAnonymous},w?"取消匿名身份":"使用匿名身份"),R&&[{key:"all",name:"开放评论"},{key:"censor",name:"预审评论"},{key:"nobody",name:"关闭评论"}].map(function(t){var n=t.key,r=t.name;return c.a.createElement(or.b,{key:n,onClick:function(){e.handleCommentPermissionChange(n)}},(!T&&"all"===n||T===n)&&c.a.createElement(rr.a,{className:"MenuItem-icon",text:!0,center:!0})," ",r)}),R&&U&&c.a.createElement("li",{className:"Menu-divider"}),R&&U&&c.a.createElement(or.b,{onClick:this.handleLock},Y),R&&c.a.createElement("li",{className:"Menu-divider"}),B&&c.a.createElement(or.b,{onClick:this.handleDelete},"删除问题"),F&&!s.isOrg&&"normal"===O&&c.a.createElement(or.b,{onClick:this.handleRedirectionCreatorShow},"问题重定向"),!R&&q),c.a.createElement(cr.a,{type:"question",urlToken:f,shown:r,status:this.getQuestionStatus(),onClose:this.handleReport,zaEnabled:!0}),c.a.createElement(v.b,{size:"fullPage",onClose:this.handleInvitationHide},n&&c.a.createElement(Sn,{question:u})),c.a.createElement(ar.a,{title:R?"关闭回答":"锁定问题",subtitle:(R?"关闭":"锁定")+"后该问题将无法添加新回答，你确定要"+(R?"关闭":"锁定")+"吗？",shown:o,onCancel:this.handleLockTipsHide,onSubmit:this.handleUpdateQuestionLocked}),c.a.createElement(v.b,{size:"large",title:"问题重定向",onClose:this.handleRedirectionCreatorClose},i&&c.a.createElement(br,{question:u,onSubmitted:this.handleRedirectionCreated})),c.a.createElement(ar.a,{title:"删除问题",subtitle:"你确定要删除这个问题吗？相关的评论也将被删除。",onCancel:this.handleDeleteModalClose,onSubmit:this.handleConfirmDelete,shown:a}))}}]),t}(),Cr.contextTypes={currentUser:u.a.object,authRequired:u.a.func,toggleAnonymous:u.a.func},Tr=kr))||Tr)||Tr),xr=n(1917),_r=(n(2432),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Pr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Lr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Pr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleTrackClick=function(e){yt.default.trackEvent(e.target,{id:4026})},Pr(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),_r(t,[{key:"componentDidMount",value:function(){yt.default.trackCardShow(this,{id:4025})}},{key:"render",value:function(){var e=this.props.tips,t=e.text,n=e.link;return c.a.createElement("a",{className:"CircleDiscussion",href:n,onClick:this.handleTrackClick,target:"_blank"},c.a.createElement(xr.a,{className:"CircleDiscussion-icon",size:16}),c.a.createElement("span",{className:"CircleDiscussion-text"},t))}}]),t}(),Rr=n(433),Qr=(n(2433),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Ur=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Ur(t,[{key:"render",value:function(){var e=this.props.brand,t=e.name,n=e.logo,r=e.target,o=e.description,a=e.typeDescription,i=r?"a":"div";return c.a.createElement("div",{className:V()("BrandQuestionSymbol",{"is-mobile":!1})},c.a.createElement(i,Qr({className:"BrandQuestionSymbol-brandLink"},r&&{href:this.memberProfileUrl}),c.a.createElement("img",{role:"presentation",src:n,className:"BrandQuestionSymbol-logo"}),c.a.createElement("span",{className:"BrandQuestionSymbol-name"},t),r&&c.a.createElement(Rr.a,{badge:r.badge,isOrg:r.isOrg,noLink:!0})),c.a.createElement("span",null,o),Boolean(a)&&c.a.createElement("span",{className:"BrandQuestionSymbol-typeDesc"},a),!this.props.noDivider&&c.a.createElement("div",{className:"BrandQuestionSymbol-divider"}))}},{key:"memberProfileUrl",get:function(){var e=this.props.brand.target;return"/"+("organization"===e.userType?"org":"people")+"/"+e.urlToken}}]),t}(),Yr=n(691),qr=n.n(Yr),Hr=864e5;function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=new Date(t),r=e-Math.floor(n.getTime()/1e3);if(r<0)return null;var o,a,i,c,s,l=0,u=void 0;if(r>86400){var p=new Date(1e3*e);o=p,a=new Date(n),i=new Date(o),c=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),s=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),l=Math.floor((s-c)/Hr),u="天"}else r>3600?(l=Math.floor(r/3600),u="小时"):r>60?(l=Math.floor(r/60),u="分钟"):(l=r,u="秒");return{quantity:l,unit:u}}var Vr=n(2434),Wr=n.n(Vr);n(2435);function Gr(e){var t=["一","二","三"],n=function(){var t=e.question,n=t.id,r=t.prize,o=r.endTime,a=r.rule,i=r.status;return c.a.createElement("div",{className:"BrandQuestionPrizes-tips"},c.a.createElement("div",{className:"BrandQuestionPrizes-tip"},c.a.createElement("span",{className:"BrandQuestionPrizes-tipTitle"},"活动时间","："),qr()(new Date(1e3*o),"YYYY-MM-DD HH:mm")," 截止"),c.a.createElement("div",{className:"BrandQuestionPrizes-tip"},c.a.createElement("span",{className:"BrandQuestionPrizes-tipTitle"},"活动规则","："),a),c.a.createElement("div",{className:"BrandQuestionPrizes-tip"},c.a.createElement("span",{className:"BrandQuestionPrizes-tipTitle"},"获奖公示","："),"ongoing"===i&&"获奖名单将在活动结束后公布","finished"===i&&"品牌开奖中，即将公布获奖名单","awarded"===i&&c.a.createElement(s.Link,{target:"_blank",to:"/organization/question/"+n+"/winners"},"查看获奖名单"),!1),c.a.createElement("div",{className:"BrandQuestionPrizes-rule"},"品牌方为本问题设置了有奖问答，添加回答即视为参与活动，并同意遵守",c.a.createElement("a",{className:"BrandQuestionPrizes-ruleLink",href:"https://www.zhihu.com/organization/ophelp/norm/53",target:"_blank",rel:"noopener noreferrer"},"《有奖问答活动管理办法》")))},r=e.handleToggle,o=e.expanded,a=e.question,i=a.id,l=a.prize,u=a.relationship,p=(u=void 0===u?{}:u).isAuthor,f=a.permission,d=(f=void 0===f?{}:f).isSuperUser;if(!l||!l.status)return null;var m=l.endTime,h=l.prizes,y=l.status,b=Fr(m);return c.a.createElement("div",{className:V()("BrandQuestionPrizes",{"is-mobile":!1})},c.a.createElement("div",{className:"BrandQuestionPrizes-info"},c.a.createElement("div",{className:"BrandQuestionPrizes-bar",onClick:r},c.a.createElement("div",{className:"BrandQuestionPrizes-desc"},c.a.createElement("div",{className:"BrandQuestionPrizes-symbol"},c.a.createElement(Wr.a,{alt:"logo",width:72,height:18,fill:"ongoing"===y?"#ff9607":"#999999"}),"ongoing"===y&&c.a.createElement("span",null,"距离结束还有",c.a.createElement("em",null,b.quantity),b.unit),"finished"===y&&"待开奖","awarded"===y&&"已开奖"),c.a.createElement("div",{className:"BrandQuestionPrizes-name"},"奖品：",h[0].name,h.length>1&&"等")),c.a.createElement("div",{className:"BrandQuestionPrizes-images"},h.map(function(e,t){var n=e.imageUrl;return n&&c.a.createElement("img",{key:"BrandQuestionPrizes-images"+t,src:n,role:"presentation"})}),c.a.createElement(_.a,{name:"arrow",width:9,height:5,fill:"#9fadc7"}))),o&&c.a.createElement("div",{className:"BrandQuestionPrizes-detail"},h.map(function(e,n){var r=e.imageUrl,o=e.name,a=e.value,i=e.quantity;return c.a.createElement("div",{key:"BrandQuestionPrizes-prize"+n,className:"BrandQuestionPrizes-prize"},c.a.createElement("div",{className:"BrandQuestionPrizes-intro"},r&&c.a.createElement("img",{className:"BrandQuestionPrizes-prizeImage",src:r,role:"presentation"}),c.a.createElement("div",{className:"BrandQuestionPrizes-prizeInfo"},c.a.createElement("div",{className:"BrandQuestionPrizes-prizeName"},h.length>1&&t[n]+"等奖：",o),c.a.createElement("div",{className:"BrandQuestionPrizes-prizeValue"},"价值 ¥ ",a))),c.a.createElement("div",{className:"BrandQuestionPrizes-prizeQuantity"},i," 份"))})),o&&!1),o&&n(),o&&c.a.createElement("hr",{className:"BrandQuestionPrizes-split"}),(d||p)&&c.a.createElement(vt.a,{className:"BrandQuestionPrizes-edit",to:"/organization/question/"+i+"/setting/"+("finished"===y?"winners":"prize")},"ongoing"===y&&"编辑有奖回答","finished"===y&&"填写获奖名单"))}var Zr,Jr,Kr,Xr=n(264),$r=(n(2436),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var eo,to,no,ro=[266345332,266185274,266775642,266778972,267780752,267982583,267929475,276365408,276391481,276376778,276657010,277278544,277093316,281759589,283200448,283052513,283199328],oo=Object(p.connect)(function(e,t){return{question:e.entities.questions[t.question.id]}},{loadBrandQuestionPermission:g.t,loadBrandQuestionAdvancedStyle:g.r,loadBrandQuestionPrize:g.u})(Zr=Object(Xr.a)()((Kr=Jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),$r(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.question,n=t.id,r=t.questionType,o=e.loadBrandQuestionPermission,a=e.loadBrandQuestionAdvancedStyle,i=e.loadBrandQuestionPrize,c=e.isLogin;"commercial"===r&&(c&&o(n),a(n),i(n))}},{key:"render",value:function(){var e=this,t=this.props.question,n=t.id,r=t.permission,o=t.relationship,a=Boolean(o&&o.isAuthor),s=Boolean(r&&r.canEdit);return a&&ro.includes(n)||s?c.a.createElement(or.c,{className:"BrandQuestionSettingMenu",toggler:c.a.createElement(b.c,null,"设置高级样式")},s&&c.a.createElement(i.Fragment,null,c.a.createElement(or.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/"+n+"/setting/advanced")}},"编辑品牌推荐"),c.a.createElement(or.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/"+n+"/setting/topbanner")}},"设置提问头图")),a&&ro.includes(n)&&c.a.createElement(or.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/"+n+"/setting/prize")}},"编辑有奖问答")):null}}]),t}(),Jr.contextTypes={currentUser:u.a.object,router:u.a.object},Zr=Kr))||Zr)||Zr,ao=n(1533),io=n(403),co=n(390),so=(n(2437),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function lo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var uo=Object(p.connect)(function(e,t){return{pin:Object(co.g)(e,t.target.id)}},{getPinContents:co.e})(eo=Object(ce.a)(function(e){return{module:"PinItem",card:{content:{type:"Pin",id:e.target.id}}}})((no=to=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=lo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleFollow=function(){var e=r.props.pin,t=(e=void 0===e?{}:e).author.isFollowing?1977:1976;r.handleTrack(t)},r.handleTrack=function(e){var t=r.props.pin,n=(t=void 0===t?{}:t).author;yt.default.trackEvent(r,{id:e},{button:{text:n.name}})},lo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),so(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.target,r=n.type,o=n.id,a=t.getPinContents;"pin"===r&&a(o,{failsafe:!0}).then(function(t){var n=t.payload,r=(void 0===n?{}:n).author,o=(r=void 0===r?{}:r).name;yt.default.trackCardShow(e,{id:1969},{button:{text:o}})})}},{key:"render",value:function(){var e=this,t=this.props.pin;if(!t||!t.content)return null;var n=t.author,r=t.id,o=t.content[0].content.replace(/<a.*class="hash_tag".*?<\/a>/g,""),a=n||{},i=a.type,s=a.urlToken,l=a.isFollowing,u="https://www.zhihu.com/pin/"+r;return c.a.createElement("div",{className:"QuestionRelatedCard"},c.a.createElement("div",{className:"QuestionRelatedCard-title"},"相关报道"),c.a.createElement("div",{className:"QuestionRelatedCard-content"},c.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(io.truncateHTML)(o,110).content}}),u&&c.a.createElement("a",{className:"QuestionRelated-jump",href:u,onClick:function(){e.handleTrack(1975)}},"查看详情")),s&&c.a.createElement("div",{className:"QuestionRelatedCard-footer"},c.a.createElement("div",null,"来自",c.a.createElement("a",{className:"QuestionRelatedCard-from",href:"https://www.zhihu.com/people/"+s,target:"_blank",onClick:function(){e.handleTrack(1971)}},n.name)),c.a.createElement("div",{onClick:this.handleFollow},c.a.createElement(Ct.a,{className:"QuestionRelatedCard-follow",type:i,id:s,isFollowing:l},c.a.createElement(ao.a,{key:"icon",text:!0,center:!0}),"关注机构"))))}}]),t}(),to.propTypes={target:u.a.shape({type:u.a.string,id:u.a.string}).isRequired},eo=no))||eo)||eo,po=(n(2438),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var fo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),po(t,[{key:"render",value:function(){var e=this.props.question.author;return c.a.createElement("div",{className:"OrgQuestionSymbol"},c.a.createElement("div",{className:V()("OrgQuestionSymbol-inner",{"OrgQuestionSymbol-inner--mobile":!1})},c.a.createElement("div",{className:"OrgQuestionSymbol-main QuestionHeader-main"},c.a.createElement("div",{className:"OrgQuestionSymbol-avatar"},c.a.createElement(Ut.a,{user:e,avatar:!0,avatarProps:{size:38}})),c.a.createElement("div",{className:"OrgQuestionSymbol-name"},c.a.createElement(Ut.a,{user:e})," 的提问")),c.a.createElement("div",{className:"OrgQuestionSymbol-tip"},c.a.createElement(vt.a,{preset:"plain",a:!0,to:"/org-intro#org-question",target:"_blank"},"了解机构提问"))))}}]),t}(),mo=n(1798),ho=n(99),yo=(n(2140),function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["","人评价"],["","人评价"]));var bo=function(e){var t=e.percent,n=e.reviewerCount,r=e.ratioStatus,o=e.title;return c.a.createElement("div",{className:"QuestionTopicReviewCardExtraInfo-cardTitleContainer"},c.a.createElement("h3",{className:"QuestionTopicReviewCardExtraInfo-cardTitle"},o),"normal"===r?c.a.createElement("div",null," ",c.a.createElement("span",{className:"QuestionTopicReviewCardExtraInfo-percentNum"},t,"%")," ",c.a.createElement("span",null,"知友推荐 · ",x()(yo,n))):c.a.createElement("span",null,"  推荐数据积累中"))};bo.propType={percent:u.a.number.isRequired,reviewerCount:u.a.string.isRequired};var vo,go=bo,wo=n(16),Mo=n(2115),No=Object(wo.compose)(Object(p.connect)(null,function(e,t){var n=t.metaInfo.id,r=t.questionId;return{onUpdateVoteTopic:function(t){var o=t.voteFor,a=t.method;return e(Object(ln.O)({questionId:r,id:n,voteFor:o,method:a}))}}}),s.withRouter)(Mo.a),Eo=(n(2439),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Oo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function jo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var To,Co,ko=Object(xn.a)(null)(vo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=jo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.trackReviewCardOpenUrl=function(e){yt.default.trackEvent(e.target,{id:4175,action:"OpenUrl",name:name})},r.renderUnpublishedCard=function(e,t,n){return c.a.createElement(qt.d,{className:"QuestionHeaderTopicMeta"},r.renderCardImage("QuestionHeaderTopicMeta-SideImg"),c.a.createElement("div",{className:"QuestionHeaderTopicMeta-Content"},c.a.createElement("div",{className:"QuestionHeaderTopicMeta-UnpublishedTitleContainer"},c.a.createElement("h3",{className:"QuestionHeaderTopicMeta-UnpublishedTitle"},e),"  ",c.a.createElement("span",{className:"QuestionHeaderTopicMeta-Info QuestionHeaderTopicMeta-UnpublishedInfo"},"暂未上映",Boolean(t)&&" · "+t+" 上映")),c.a.createElement("div",{className:"QuestionHeaderTopicMeta-Info QuestionHeaderTopicMeta-UnpublishedInfo",dangerouslySetInnerHTML:{__html:n}})))},jo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),Oo(t,[{key:"renderCardImage",value:function(e){var t=this.props,n=t.meta,r=t.meta.meta,o=r.title,a=r.avatar,i=n.avatarUrl,s=n.category;return c.a.createElement(mo.a,{className:V()(""+e,{"QuestionHeaderTopicMeta-SideImg--goods":"n_goods"===s}),src:a||i,alt:o})}},{key:"renderTopReviewCard",value:function(){var e=this.props,t=e.meta,n=e.questionId,r=t.meta,o=r.title,a=r.summary,i=r.description2,s=r.description1,l=r.pubInfo,u=t.excerpt,p=a||u||i||s;if(1===l.status||2===l.status){var f=l.pubDate;return this.renderUnpublishedCard(o,f,p)}return c.a.createElement(qt.d,{className:"QuestionHeaderTopicMeta"},c.a.createElement("div",{className:"QuestionHeaderTopicMeta-CardMain"},this.renderCardImage("QuestionHeaderTopicMeta-SideImg"),c.a.createElement("div",{className:"QuestionHeaderTopicMeta-Content"},c.a.createElement(No,{metaInfo:t,questionId:n,ReviewCardExtraInfoComponent:go,reviewerCountFormatter:Kt.formatNumber},c.a.createElement("div",{className:"QuestionHeaderTopicMeta-Info",dangerouslySetInnerHTML:{__html:p}})))))}},{key:"render",value:function(){var e=this.props.meta,t=e.category,n=e.id,r=e.vote,o=e.isVote,a=r&&o;if(!a)return null;var i=["like","dislike"].includes(r.status);return c.a.createElement(Q.a,Eo({module:"TopicItem",moduleName:t},a&&{view:{id:4174,name:i?"已评价":"未评价"}},{card:{content:Eo({type:"Topic"},Object(ho.a)("topic",n),{sub_type:"MetaCard"})},trackCardShow:!0}),c.a.createElement("a",{href:"/topic/"+n,target:"_blank",rel:"noopener noreferrer","data-za-not-track-link":!0,onClick:this.trackReviewCardOpenUrl},this.renderTopReviewCard()))}}]),t}())||vo,Do=n(1992),Io=n(1787),Ao=n(97),zo=n(2440),So=n.n(zo),xo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Po=(Co=To=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={remainedTime:null},_o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),xo(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.totalCountdownTime,r=t.onFinish;"number"==typeof n?(this.setState({remainedTime:n}),this.timer=setInterval(function(){e.setState({remainedTime:e.state.remainedTime-5})},5e3)):"function"==typeof r&&r()}},{key:"componentDidUpdate",value:function(){var e=this.props.onFinish;this.state.remainedTime<=0&&(clearInterval(this.timer),"function"==typeof e&&e())}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"renderCountdownTime",value:function(){var e=this.state.remainedTime;if(e<60)return c.a.createElement(i.Fragment,null,"距结束不足 ",c.a.createElement("span",null,"1")," 分钟");var t,n,r=(t=e,n=Math.floor(t/60),{hours:Math.floor(n/60),minutes:n%60}),o=r.hours,a=r.minutes;return 0===o?c.a.createElement(i.Fragment,null,"距结束还有 ",c.a.createElement("span",null,a)," 分钟"):c.a.createElement(i.Fragment,null,"距结束还有 ",c.a.createElement("span",null,o)," 小时"," ",a>0&&c.a.createElement(i.Fragment,null,c.a.createElement("span",null,a)," 分钟"))}},{key:"render",value:function(){var e=this.props.className;return null===this.state.remainedTime?c.a.createElement("div",{className:e},"距结束还有"):c.a.createElement("div",{className:e},this.renderCountdownTime())}}]),t}(),To.propTypes={totalCountdownTime:u.a.number.isRequired,onFinish:u.a.func},Co),Lo=(n(2441),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Ro(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Qo,Uo,Bo,Yo,qo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=Ro(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={expanded:!1,bodyHeight:0},r.contentRef=Object(i.createRef)(),r.handleExpand=function(){var e=r.contentRef.current;r.setState({expanded:!0,bodyHeight:e.offsetHeight+1+"px"}),yt.default.trackEvent(r,{id:5036,action:"Expand"})},r.handleCollapse=function(){r.setState({expanded:!1,bodyHeight:0}),yt.default.trackEvent(r,{id:5037,action:"Fold"})},r.handleClickHeader=function(){r.state.expanded?r.handleCollapse():r.handleExpand()},r.handleCountdownFinish=function(){var e=r.props;(0,e.removeBrandQuestionRedPacket)(e.questionId)},Ro(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Lo(t,[{key:"renderCountdown",value:function(){var e=this.props.redPacket,t=e.countDownType,n=e.countDownValue,r="CommercialAnswerRedPacket-countdown";return 2===t?c.a.createElement(Po,{className:r,totalCountdownTime:n,onFinish:this.handleCountdownFinish}):c.a.createElement("div",{className:r},"还剩 ",c.a.createElement("span",null,Object(Kt.niceNumber)(n))," 个红包")}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.className,a=r.redPacket,i=a.title,s=a.image,l=a.iconText,u=a.content,p=this.state,f=p.expanded,d=p.bodyHeight;return c.a.createElement(Q.a,{view:{id:5035},trackCardShow:!0},c.a.createElement("div",{className:V()("CommercialAnswerRedPacket",o,(e={},t="CommercialAnswerRedPacket--expanded",n=f,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))},c.a.createElement("div",{className:"CommercialAnswerRedPacket-header",onClick:this.handleClickHeader},c.a.createElement("div",{className:"CommercialAnswerRedPacket-main"},c.a.createElement("div",{className:"CommercialAnswerRedPacket-subtitle"},c.a.createElement("div",{className:"CommercialAnswerRedPacket-badge"},c.a.createElement("span",null,c.a.createElement(So.a,{size:11})),c.a.createElement("span",null,l)),this.renderCountdown()),c.a.createElement("div",{className:"CommercialAnswerRedPacket-title"},i)),c.a.createElement("div",{className:"CommercialAnswerRedPacket-image"},c.a.createElement("img",{src:Object(Ao.imgUrl)(s,"xl")})),c.a.createElement("div",{className:"CommercialAnswerRedPacket-icon"},f?c.a.createElement(Do.a,{size:20}):c.a.createElement(Io.a,{size:20}))),c.a.createElement("div",{className:"CommercialAnswerRedPacket-body",style:{height:d}},c.a.createElement("div",{ref:this.contentRef,className:"CommercialAnswerRedPacket-content",dangerouslySetInnerHTML:{__html:u}}))))}}]),t}(),Ho=Object(p.connect)(null,{removeBrandQuestionRedPacket:g.K})(qo),Fo=(n(2442),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["","提问："],["","提问："]);function Zo(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Jo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ko=function(e){return c.a.createElement(b.c,Wo({preset:"plain",className:"QuestionHeader-edit"},e),c.a.createElement(_.a,{name:"modify",left:!0}),"修改")};var Xo,$o,ea,ta=(Qo=Object(p.connect)(function(e){return{brand:e.question.brand,publicEditPermission:e.publicEditPermission,currentUserUrlToken:e.currentUser,permission:Object(g.H)(e)}},{loadBrand:g.q,updateQuestionLocked:g.R,deleteQuestion:g.k,deleteBrandQuestion:g.h,showNotification:U.g,loadQuestionCommercialBanner:g.A,loadBrandQuestionRedPacket:g.v}),Object(s.withRouter)(Uo=Qo((Yo=Bo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Jo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={collapsed:!0,editShown:!1,editTopicsShown:!1,invitationTipShown:!1,brandQuestionPrizesExpanded:!1,shouldRenderBrandSettings:!1},r.getHandleInvite=function(e){e&&(r.handleInvite=e)},r.handleExpand=function(){r.setState({collapsed:!1})},r.handleCollapse=function(){r.setState({collapsed:!0,shareMenuPositionStatus:"normal"})},r.handleEditShow=r.context.authRequired(function(){var e=(r.props.question.reviewInfo||{}).editTips;e?r.props.showNotification(e,"red"):r.setState({editShown:!0})}),r.handleEditClose=function(){r.setState({editShown:!1})},r.handleEditTopicsShow=r.context.authRequired(function(){var e=(r.props.question.reviewInfo||{}).editTips;e?r.props.showNotification(e,"red"):r.setState({editTopicsShown:!0})}),r.handleEditTopicsClose=function(){r.setState({editTopicsShown:!1})},r.handleInvitationShow=function(){r.setState({invitationModalShown:!0})},r.handleInvitationHide=function(){r.setState({invitationModalShown:!1})},r.handleInvitationTipShow=function(){r.setState({invitationTipShown:!0})},r.handleInvitationTipClose=function(){r.setState({invitationTipShown:!1})},r.handleRedirectionCreatorShow=function(){r.setState({redirectionCreatorShown:!0})},r.handleRedirectionCreatorClose=function(){r.setState({redirectionCreatorShown:!1})},r.handleRedirectionCreated=function(e,t){var n=r.props,o=n.router,a=n.question.id,i=e.id;r.handleRedirectionCreatorClose(),t.then(function(){o.push("/question/"+i+"?rf="+a)})},r.handleDelete=function(){var e=r.props,t=e.question,n=t.id,o=t.questionType,a=e.deleteQuestion,i=e.deleteBrandQuestion;return"commercial"===o?i(n).then(function(){location.href="/"}):a(n).then(function(){location.href="/"})},r.handleConfirmDelete=function(){r.handleDeleteModalClose(),r.handleDelete()},r.handleDeleteModalShow=function(){r.setState({deleteModalShown:!0})},r.handleDeleteModalClose=function(){r.setState({deleteModalShown:!1})},r.handlePositionStatusChange=function(e){r.setState({shareMenuPositionStatus:e})},r.handleUpdateQuestionLocked=function(){var e=r.props,t=e.question.id;(0,e.updateQuestionLocked)(t)},r.handleLockTipsShow=function(){return r.setState({lockTipsShown:!0})},r.handleLockTipsHide=function(){return r.setState({lockTipsShown:!1})},r.handleBrandQuestionPrizesToggle=function(){r.setState({brandQuestionPrizesExpanded:!r.state.brandQuestionPrizesExpanded})},Jo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Vo(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=(t.isAnswerPage,t.question),r=n.id,o=n.questionType,a=t.loadBrand,i=t.loadQuestionCommercialBanner,c=t.loadBrandQuestionRedPacket;this.context.currentUser&&Object(B.c)("question",r,B.a),"commercial"===o&&(a(r),i(r),c(r).then(function(t){t&&t.payload||e.setState({shouldRenderBrandSettings:!0})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,r=t.isAnswerPage,o=e.question,a=o.id,i=o.relationship.isAnonymous,c=e.isAnswerPage;!this.state.collapsed&&e.question&&this.props.question&&e.question.detail.length!==this.props.question.detail.length&&this.setState({collapsed:!0,editShown:!1}),n===a&&r===c||this.setState({collapsed:!0,invitationTipShown:!1}),i||this.setState({invitationTipShown:!1})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.collapsed,r=t.collapsed;if(n&&!r){var o=this.container.getBoundingClientRect().top;window.scrollTo(0,window.pageYOffset+o-document.documentElement.clientHeight)}}},{key:"renderFooter",value:function(){var e=this.props.question,t=e.id,n=e.title,r=e.editableDetail,o=e.topics,a=e.questionType,i=e.relationship.isAnonymous,s=this.state,l=s.collapsed,u=s.editShown,p=s.editTopicsShown,f=s.shouldRenderBrandSettings,d=this.context.currentUser,m="commercial"===a&&f;return c.a.createElement("div",{className:"QuestionHeader-footer"},c.a.createElement("div",{className:"QuestionHeader-footer-inner"},c.a.createElement("div",{className:"QuestionHeader-main QuestionHeader-footer-main"},c.a.createElement(St,{question:e}),m&&c.a.createElement(oo,{question:e}),c.a.createElement(Sr,{question:e,onInvitationTipShow:this.handleInvitationTipShow,getHandleInvite:this.getHandleInvite}),c.a.createElement("div",{className:"QuestionHeader-actions"},!l&&c.a.createElement(b.c,{preset:"plain",onClick:this.handleCollapse},"收起",c.a.createElement(_.a,{name:"arrow",className:"QuestionHeader-collapse-icon"}))))),d&&c.a.createElement(De,{id:t,title:n,detail:r,show:u,onClose:this.handleEditClose,questionType:a,isAnonymous:i}),d&&c.a.createElement(ot,{id:t,topics:[].concat(Zo(o)),show:p,onClose:this.handleEditTopicsClose}))}},{key:"renderSpecialQuestionAuthor",value:function(){var e=this.props.question.author;return c.a.createElement(i.Fragment,null,c.a.createElement(ae,{className:"QuestionHeader-specialQuestionAuthor",author:e}),c.a.createElement("div",{className:"QuestionHeader-topicDivider"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.location,r=t.question,o=t.isAnswerPage,a=t.brand,i=t.publicEditPermission,s=t.currentUserUrlToken,l=t.meta,u=t.permission.canBrandAdminEdit,p=r.title,f=r.detail,d=r.topics,m=void 0===d?[]:d,h=r.questionType,y=r.author,b=r.showAuthor,v=r.author.urlToken,g=r.excerpt,w=r.isEditable,M=r.id,N=r.reviewInfo,E=r.relatedCards,O=void 0===E?[]:E,j=r.annotationDetail,T=r.circleInfo,C=r.redPacket,k=this.state,D=k.collapsed,I=k.invitationTipShown,A=k.brandQuestionPrizesExpanded,z=Fo(l,1)[0],S=m.map(function(e){return{name:e.name,id:e.id}}),_=i||{},U=_.isQuestionEditable,B=_.isQuestionTopicEditable,F=v===s,V=lr(w,F,U),W=lr(w,F,B);return c.a.createElement("div",{"data-zop-question":JSON.stringify({title:p,topics:S,id:M,isEditable:w})},c.a.createElement(q.a,null,c.a.createElement(Rn,{question:r,location:n,invitationTipShown:I,onInvitationTipClose:this.handleInvitationTipClose,isAnswerPage:o})),"commercial"===r.questionType&&(!D||!o)&&c.a.createElement(H.a,{type:r.type,id:r.id}),c.a.createElement(Q.a,{module:"QuestionDescription",card:{content:{type:"Question",token:String(M)}}},c.a.createElement("div",{className:"QuestionHeader",ref:function(t){e.container=t}},c.a.createElement("div",{className:"QuestionHeader-content"},c.a.createElement("div",{className:"QuestionHeader-main"},T&&T.canWriteCircle&&c.a.createElement(Lr,{tips:T.tips}),c.a.createElement("div",{className:"QuestionHeader-tags"},"commercial"===h&&c.a.createElement(Br,{brand:a}),c.a.createElement("div",{className:"QuestionHeader-topics"},b&&this.renderSpecialQuestionAuthor(),m.map(function(e){return c.a.createElement(de,{item:e,key:e.id})}),(W||u)&&c.a.createElement(Ko,{onClick:this.handleEditTopicsShow}))),c.a.createElement("h1",{className:"QuestionHeader-title"},"org"===h&&x()(Go,y.name),p,(V||u)&&c.a.createElement(Ko,{onClick:this.handleEditShow})),j&&c.a.createElement(L.a,{annotationDetail:j}),O[0]&&c.a.createElement(uo,{target:O[0]}),C&&c.a.createElement(Ho,{questionId:M,redPacket:C}),c.a.createElement(Gr,{question:r,expanded:A,handleToggle:this.handleBrandQuestionPrizesToggle}),z&&c.a.createElement(ko,{meta:z,questionId:M}),c.a.createElement(at.a,{html:f,reviewInfo:N,excerpt:g,collapsed:D,onExpand:this.handleExpand,editable:V||u,onEdit:this.handleEditShow})),c.a.createElement("div",{className:"QuestionHeader-side"},c.a.createElement("div",{className:"QuestionHeader-follow-status"},c.a.createElement($n,{question:r})))),D?this.renderFooter():c.a.createElement(P.a,{bottom:!0,container:function(){return e.container},onPositionStatusChange:this.handlePositionStatusChange},this.renderFooter()),"org"===h&&c.a.createElement(fo,{question:r}))),c.a.createElement(Y.a,null,c.a.createElement("div",{className:"QuestionHeader-content"},c.a.createElement("div",{className:"QuestionHeader-main"},c.a.createElement("h1",{className:"QuestionHeader-title",onClick:function(){Object(R.scrollToTop)()}},p)),c.a.createElement(Q.a,{module:"ToolBar",card:{content:{type:"Question",token:String(M)}}},c.a.createElement("div",{className:"QuestionHeader-side"},c.a.createElement(St,{question:r,inTopBar:!0}))))))}}]),t}(),Bo.contextTypes={authRequired:u.a.func,currentUser:u.a.object},Uo=Yo))||Uo)||Uo),na=n(1881),ra=n(578),oa=(n(2443),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),aa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ca(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var sa="已开启赞赏的回答无法设为匿名，请先关闭赞赏",la="匿名回答无法开启圈内说，请先取消匿名";function ua(e){var t=e.toString();return 1===t.length?"0"+t:t}var pa=function(e){var t=Object(y.parseInputTime)(e);return t?t.getFullYear()+"-"+ua(t.getMonth()+1)+"-"+ua(t.getDate())+"T"+ua(t.getHours())+":"+ua(t.getMinutes())+":"+ua(t.getSeconds()):""};var fa=Object(p.connect)(function(e,t){var n=t.params,r=n.id,o=n.answerId,a=e.question.meta,i=e.entities.drafts,c=void 0===i?{}:i,s=e.env.referer,l=e.reward,u=void 0===l?{}:l,p=e.currentUser,f=Boolean(o);return ia({id:r,meta:a[r]||[],question:Object(g.J)(e,{id:r}),reward:u,draft:c["question_"+r],referer:s,currentUserUrlToken:p},f?{answer:Object(gt.c)(e,{id:o})}:{firstAnswer:Object(gt.g)(e,{id:r})})},{loadQuestion:g.z,loadDraft:g.w,updateQuestionAnonymous:g.P,showNotification:U.g,getPublicEditPermission:ra.b})((ea=$o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ca(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={anonymousConfirmShown:!1,isCheckedCircle:!0,answering:!1,hideIsMutedCover:!1},r.getPublicEditPermission=function(){var e=r.props,t=e.question,n=e.currentUserUrlToken,o=e.getPublicEditPermission,a=h()(t,"author.urlToken","");h()(t,"isEditable",!1)&&n&&a!==n&&o()},r.handleToggleAnonymous=function(){var e=r.props,t=e.showNotification,n=e.reward.question,o=void 0===n?{}:n,a=e.id;a&&o[a]&&o[a].isRewardable?t(sa,"red"):r.setState({anonymousConfirmShown:!r.state.anonymousConfirmShown})},r.startAddAnswer=function(){var e=r.props,t=e.params.answerId,n=e.location.query.group_id;t||n?(r.context.router.push("/question/"+r.props.id),setTimeout(r.focusAddAnswer)):r.focusAddAnswer()},r.focusAddAnswer=function(){var e;e=document.querySelector(".QuestionAnswers-statusWrapper"),window.scrollTo(0,e?window.pageYOffset-.75*window.innerWidth+e.getBoundingClientRect().bottom:0),r.setState({answering:Date.now()})},r.onChangecircleSettings=function(e){var t=r.props,n=t.question.relationship.isAnonymous,o=t.showNotification;if(n&&e)return o(la,"red"),void r.setState({isCheckedCircle:!1});r.setState({isCheckedCircle:e})},ca(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),aa(t,[{key:"getChildContext",value:function(){return{toggleAnonymous:this.handleToggleAnonymous,startAddAnswer:this.startAddAnswer,onChangecircleSettings:this.onChangecircleSettings,isCheckedCircle:this.state.isCheckedCircle}}},{key:"componentDidMount",value:function(){var e=this.props.question;e?this.readyQuestion(Promise.resolve(e)):this.nextQuestion(),this.getPublicEditPermission()}},{key:"componentDidUpdate",value:function(e){this.props.params.id!==e.params.id&&this.nextQuestion(),this.props.params.answerId||e.draft||!this.props.draft||this.focusAddAnswer()}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"nextQuestion",value:function(){var e=this,t=this.props,n=t.id,r=t.loadQuestion;this.readyQuestion(r(n).then(function(){return e.props.question}))}},{key:"readyQuestion",value:function(){var e=this.props.loadDraft;this.context.currentUser&&e(this.props.params.id),this.setState({anonymousConfirmShown:!1}),"#write_answer"===location.hash&&this.focusAddAnswer()}},{key:"renderMeta",value:function(){var e=function(e){var t=e.title,n=e.id,r=e.topics,o=e.answerCount,a=e.commentCount,i=e.created,c=e.updatedTime,s=e.visitsCount,l=e.followerCount;return{name:t,url:"https://www.zhihu.com/question/"+n,keywords:r.map(function(e){return e.name}).join(","),answerCount:o,commentCount:a,dateCreated:new Date(1e3*i).toISOString(),dateModified:new Date(1e3*c).toISOString(),"zhihu:visitsCount":s,"zhihu:followerCount":l}}(this.props.question);return Object.keys(e).map(function(t){return c.a.createElement("meta",{key:t,itemProp:t,content:e[t]})})}},{key:"renderJSONLD",value:function(){var e=this.props,t=e.location,n=e.question,r=e.answer,o=e.params.answerId,a=Boolean(o),i=a?r:n;if(i){var s=a?[i.createdTime,i.updatedTime]:[i.created,i.updatedTime],l=oa(s,2),u=l[0],p=l[1],f=pa(u),d=pa(p);return c.a.createElement("script",{type:"application/ld+json"},'\n        {\n          "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",\n          "@id": "https://www.zhihu.com'+t.pathname+'",\n          "appid": "否",\n          "pubDate": "'+f+'",\n          "upDate": "'+d+'"\n        }')}}},{key:"render",value:function(){var e=this,t=this.props,n=t.location,r=t.params,o=t.children,a=t.question,s=t.router.location.query,l=t.meta,u=t.firstAnswer,p=Boolean(r.answerId);if(!a)return c.a.createElement("div",null);if("true"===s.answer_deleted_redirect)return c.a.createElement(z,{id:a.id});var f=a.questionType,m=a.isMuted,y=a.title,b=a.relationship,v=b.isAuthor,g=b.myAnswer,w=this.state,M=w.anonymousConfirmShown,N=w.isCheckedCircle,E=w.answering,j=w.hideIsMutedCover,T=h()(a,"circleInfo.canWriteCircle",!1);return c.a.createElement(Q.a,{module:"QuestionItem",card:{content:{type:"Question",token:String(a.id)}}},c.a.createElement("div",{className:"QuestionPage",itemScope:!0,itemType:"http://schema.org/Question"},c.a.createElement(d.a,ia({title:y},!p&&{meta:Object(na.c)(a,u)})),this.renderMeta(),this.renderJSONLD(),"commercial"===f&&m&&!j&&v&&c.a.createElement("div",{className:"QuestionPage-commercialIsMutedCover",onClick:function(){e.setState({hideIsMutedCover:!0})}}),c.a.createElement(ta,{meta:l,question:a,location:n,onToggleAnonymous:this.handleToggleAnonymous,isAnswerPage:p}),Object(i.cloneElement)(i.Children.only(o),{question:a,answering:E}),c.a.createElement(O,{question:a,myAnswer:g,shown:M,showCircle:T,isCheckedCircle:N,onChangecircleSettings:this.onChangecircleSettings,onClose:this.handleToggleAnonymous})))}}]),t}(),$o.fetchData=function(e){var t=e.params,n=t.id,r=t.answerId;return function(e,t){return t().env.userAgent.isBot?Promise.all([e(Object(g.F)(n,r)),e(Object(g.G)(n)),e(Object(g.z)(n))]):e(Object(g.z)(n))}},$o.contextTypes={router:u.a.object,currentUser:u.a.object,authRequired:u.a.func},$o.childContextTypes={toggleAnonymous:u.a.func,startAddAnswer:u.a.func,onChangecircleSettings:u.a.func,isCheckedCircle:u.a.bool},Xo=ea))||Xo,da=n(134),ma=n(141),ha=n.n(ma),ya=n(2444),ba=n.n(ya),va=n(1573),ga=n(1633),wa=n(7),Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Na=4,Ea=5,Oa=3,ja=5,Ta=20;var Ca={isDrained:!1,isFetching:!1,ids:[]};function ka(e,t){var n=t.id,r=t.resource;return e.question[r][n]||Ca}var Da,Ia,Aa=function(e){var t=e.item,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["item"]);return c.a.createElement(va.a,{key:t.id},c.a.createElement(ga.a,Ma({editable:!0,expanded:!0,relatedTo:"question",answer:t,zaInfos:{cardShow:4351,index:String(n.dataZaIndex)}},n)))},za=function(e,t,n){var r=t.relationship,o=r.canCollapseAnswers,a=r.canStickAnswers,i=t.hasPublishingDraft,c=e.map(function(e,t){return Aa({item:e,canCollapse:o,canStick:a,hasPublishingDraft:i,itemProp:0===t?"acceptedAnswer":"suggestedAnswer",dataZaIndex:t})});return n?c:Object(q.b)(2,c)},Sa=function(e,t){return e.map(function(e){return t[e]}).filter(function(e){return e&&!e.isDelete})},xa=Object(Rt.isBrowser)()?ha()(Sa,function(e,t){return e.join(",")+"-"+t.length}):Sa,_a=(n(1872),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Pa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var La,Ra,Qa=(Da=Object(p.connect)(function(e,t){var n=ka(e,{id:t.id,resource:"notificationAnswers"}),r=n.isFetching,o=n.isDrained,a=n.ids;return{isFetching:r,isDrained:o,items:xa(a,e.entities.answers)}},{loadNotificationAnswers:g.y}),Object(s.withRouter)(Ia=Da(Ia=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Pa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.load=function(){var e=r.props,t=e.isFetching,n=e.id,o=e.loadNotificationAnswers;t||o(n)},Pa(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),_a(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.location,n=e.isDrained,r=e.items;n&&!r.length&&this.props.router.replace(t.pathname)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.id,r=e.items;(t||r.length)&&Object(g.y)(n)}},{key:"render",value:function(){var e=this.props,t=e.question,n=t.id,r=t.answerCount,o=e.question,a=e.items,i=e.isFetching,s=e.isDrained;return c.a.createElement("div",{className:"QuestionAnswers-answers"},c.a.createElement(qt.d,null,c.a.createElement(Jt,{to:"/question/"+n},"查看全部 ",Object(Kt.formatNumber)(r)," 条回答")),c.a.createElement(qt.d,null,c.a.createElement(Ht.b,null,za(a,o),i&&c.a.createElement(da.a,{className:"List-item"})),!s&&!i&&c.a.createElement(Jt,{onClick:this.load},"更多")),c.a.createElement(qt.d,null,c.a.createElement(Jt,{to:"/question/"+n},"查看全部 ",Object(Kt.formatNumber)(r)," 条回答")))}}]),t}())||Ia)||Ia),Ua=n(1619),Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ha=[{text:"默认排序",value:"default"},{text:"按时间排序",value:"updated"}],Fa={updatedAnswers:"updated",answers:"default"};var Va,Wa,Ga=(La=Object(p.connect)(function(e){var t=e.question;return{commonAnswerCount:t.commonAnswerCount,hiddenAnswerCount:t.hiddenAnswerCount,permission:Object(g.H)(e)}},{loadBrandQuestionAnswerCount:g.s}),Object(s.withRouter)(Ra=La(Ra=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=qa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleResourceChange=function(e){r.props.router.push("/question/"+r.props.question.id+("default"===e?"":"/answers/"+e))},qa(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),Ya(t,[{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.permission)!==JSON.stringify(e.permission)&&this.loadQuestionAnswerCount(e)}},{key:"loadQuestionAnswerCount",value:function(e){var t=e.question,n=t.id,r=t.questionType,o=e.permission.canBrandAdminEdit,a=e.loadBrandQuestionAnswerCount;"commercial"===r&&o&&a(n)}},{key:"renderAnswerListHeader",value:function(){var e=this.props,t=e.resource,n=e.question,r=n.id,o=n.answerCount,a=n.questionType,i=e.commonAnswerCount,s=e.hiddenAnswerCount,l=e.permission.canBrandAdminEdit;return"commercial"===a?l?c.a.createElement("div",{className:"QuestionAnswers-navs"},c.a.createElement(b.c,{preset:"plain",className:V()("QuestionAnswers-nav",{"is--active":["answers","updatedAnswers"].includes(t)}),onClick:function(){location.href="/question/"+r}},Object(Kt.formatNumber)(i)," 个回答","，由品牌推荐"),c.a.createElement(b.c,{preset:"plain",className:V()("QuestionAnswers-nav",{"is--active":"hiddenAnswers"===t}),onClick:function(){location.href="/question/"+r+"/answers/hidden"}},Object(Kt.formatNumber)(s)," 个隐藏回答")):c.a.createElement("span",null,Object(Kt.formatNumber)(o)," 个回答，由品牌推荐"):c.a.createElement("span",null,Object(Kt.formatNumber)(o)," 个回答")}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.children;return c.a.createElement(qt.d,{className:"AnswersNavWrapper"},c.a.createElement(Ua.a,Ba({title:this.renderAnswerListHeader()},{options:"hiddenAnswers"===t?c.a.createElement("span",null,"按时间排序"):c.a.createElement(we.b,{listClassName:"Answers-select",needsReposition:!0,plain:!0,value:Fa[t],onChange:this.handleResourceChange},Ha.map(function(e){var t=e.value,n=e.text;return c.a.createElement(we.a,{key:t,value:t,text:n})}))}),n))}}]),t}())||Ra)||Ra),Za=n(1885),Ja=n(3),Ka=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $a,ei=(Va=Object(p.connect)(function(e,t){var n=t.page,r=ka(e,{id:t.question.id,resource:"updatedAnswers"}),o=r.isFetching,a=r.isDrained,i=r.ids,c=Object(wa.d)(n,i),s=c.total,l=c.isCurrentLoaded,u=c.isNextLoaded,p=c.items;return{isMuteSpecial:Object(g.n)(t.question),isFetching:o,isDrained:a,total:s,isNextLoaded:u,isCurrentLoaded:l,items:xa(p,e.entities.answers).filter(function(e){return!e.isDelete})}},{loadItems:g.x}),Object(s.withRouter)(Wa=Va(Wa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Xa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handlePaginationClick=function(e){r.props.router.push(location.pathname+"?page="+e)},r.handleUpdatedAnswersLoad=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.b,n=r.props,o=n.question.id;(0,n.loadItems)(o,"updatedAnswers",{offset:e,limit:t})},Xa(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),Ka(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.page,r=e.isDrained,o=e.items,a=e.loadItems;!r&&o.length<Ja.b&&a(t,"updatedAnswers",{offset:Object(wa.c)(n)+o.length,limit:Ja.b-o.length})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isDrained,r=e.isNextLoaded,o=e.isCurrentLoaded,a=e.page,i=e.items,s=e.total,l=e.question,u=e.isMuteSpecial;return n&&!i.length?c.a.createElement(qt.d,{className:"Answers-none"},c.a.createElement(Wt.a,{entityType:"answers",placeholder:u?"回答暂时无法查看":"还没有回答"})):c.a.createElement(Za.a,{isFetching:t,isDrained:a>=s?n:o,isNextLoaded:r,page:a,total:s,placeholder:c.a.createElement(da.a,{className:"List-item"}),onPaginationClick:this.handlePaginationClick,onLoad:this.handleUpdatedAnswersLoad},za(i,l))}}]),t}())||Wa)||Wa),ti=n(705),ni=n.n(ti),ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ai(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ii(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ci,si,li=5,ui=Object(p.connect)(function(e,t){var n=ka(e,{id:t.question.id,resource:"answers"}),r=n.isFetching,o=n.isDrained,a=n.ids,i=o||r?a:a.slice(0,Math.max(li,a.length-5));return{isBot:e.env.userAgent.isBot,isFetching:r,isDrained:o,items:xa(i,e.entities.answers).filter(function(e){return e&&!e.isDelete}),adverts:Object(g.c)(e)}},{loadItems:g.x})($a=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ii(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleLoad=function(){var e=r.props,t=e.question.id,n=e.loadItems,o=e.isFetching,a=e.isDrained,i=e.resource;a||o||n(t,void 0===i?"answers":i,{limit:li})},ii(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),oi(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.isDrained,r=e.items,o=e.loadItems;!n&&r.length<li&&o(t,"answers",{offset:r.length,limit:li})}},{key:"render",value:function(){var e=this,t=this.props,n=t.adverts,r=t.isBot,o=t.isFetching,a=t.isDrained,i=t.items,s=t.question,l=s.relationship,u=l.canCollapseAnswers,p=l.canStickAnswers,f=s.hasPublishingDraft,d=[0].concat(ai(Object.keys(n||{}).map(Number).sort(function(e,t){return e-t}))),m={canCollapse:u,canStick:p,hasPublishingDraft:f};return c.a.createElement("div",null,c.a.createElement(da.b,{onRef:function(t){e.listEl=t},isLocal:!0,isLoading:o,isDrained:a,onLoad:this.handleLoad,placeholder:c.a.createElement(da.a,{className:"List-item"})},r?i.map(function(e,t){return Aa(ri({item:e,itemProp:0===t?"acceptedAnswer":"suggestedAnswer",dataZaIndex:t},m))}):Object(q.b)(2,ni()(d.map(function(e,t){var r,o=d[t+1],a=(o?i.slice(e,o):i.slice(e)).map(function(n,r){var o=e+r+t;return Aa(ri({item:n,itemProp:0===o?"acceptedAnswer":"suggestedAnswer",dataZaIndex:o},m))});return o?[].concat(ai(a),[(r=n[o],r?c.a.createElement(ba.a,{data:r}):null)]):a})))))}}]),t}())||$a,pi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function di(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var mi,hi,yi,bi=(ci=Object(p.connect)(function(e,t){var n=t.page,r=ka(e,{id:t.question.id,resource:"hiddenAnswers"}),o=r.isFetching,a=r.isDrained,i=r.ids,c=Object(wa.d)(n,i,Ja.b);return fi({isFetching:o,isDrained:a},c,{items:xa(c.items,e.entities.answers).filter(function(e){return!e.isDelete})})},{loadItems:g.x}),Object(s.withRouter)(si=ci(si=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=di(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handlePaginationClick=function(e){r.props.router.push(location.pathname+"?page="+e)},r.handleHiddenAnswersLoad=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.b,n=r.props,o=n.question.id;(0,n.loadItems)(o,"hiddenAnswers",{offset:e,limit:t})},di(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),pi(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.page,r=e.isDrained,o=e.items,a=e.loadItems;!r&&o.length<Ja.b&&a(t,"hiddenAnswers",{offset:Object(wa.c)(n)+o.length,limit:Ja.b-o.length})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isDrained,r=e.isNextLoaded,o=e.isCurrentLoaded,a=e.page,i=e.items,s=e.total,l=e.question;return c.a.createElement(Za.a,{isFetching:t,isDrained:a>=s?n:o,isNextLoaded:r,page:a,total:s,placeholder:c.a.createElement(da.a,{className:"List-item"}),onPaginationClick:this.handlePaginationClick,onLoad:this.handleHiddenAnswersLoad},za(i,l))}}]),t}())||si)||si),vi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gi=(mi=Object(ce.a)({module:"ContentList"}),hi=Object(p.connect)(function(e,t){return{isMuteSpecial:Object(g.n)(t.question)}}),mi(yi=Object(s.withRouter)(yi=hi(yi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),vi(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question,n=t.id,r=t.relationship.isAuthor,o=e.resource,a=e.router;"collapsedAnswers"!==o||r||a.push("/question/"+n)}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.question,r=e.question,o=r.questionType,a=r.answerCount,i=r.reviewInfo.tips,s=e.location;if(e.isMuteSpecial)return c.a.createElement(qt.d,{className:"Answers-none"},c.a.createElement(Wt.a,{entityType:"answers",placeholder:"回答暂时无法查看"}));if("commercial"!==o&&!a){if(i)return null;var l=n.status||{},u=l.isClose,p=l.isLocked,f=l.isSuggest;return u||p||f?null:c.a.createElement(qt.d,{className:"Answers-none"},c.a.createElement(Wt.a,{entityType:"answers",placeholder:c.a.createElement("div",null,"暂时还没有回答，开始",c.a.createElement(Tt,{preset:"plain",className:"QuestionAnswers-answerLink"},"写第一个回答"))}))}return c.a.createElement("div",{id:"QuestionAnswers-answers",className:"QuestionAnswers-answers","data-zop-feedlistmap":"answers"===t?"0,0,1,0":"0,0,1"},c.a.createElement(Ga,{question:n,resource:t},"updatedAnswers"===t&&c.a.createElement(ei,{question:n,page:Number(s.query.page)||1}),"answers"===t&&c.a.createElement(ui,{question:n}),"hiddenAnswers"===t&&c.a.createElement(bi,{question:n,page:Number(s.query.page)||1})))}}]),t}())||yi)||yi)||yi),wi=n(1785),Mi=n(21),Ni=n.n(Mi),Ei=n(406),Oi=n(1705),ji=n(389),Ti=n(46),Ci=n(2137),ki=(n(2446),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Di=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a.handleChange=function(e){a.props.onChange(e)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ki(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.name,o=e.type,a=e.value,i=e.checked,s=JSON.stringify(a);return c.a.createElement("label",{className:V()("CheckItem",t)},c.a.createElement("input",{className:"CheckItem-input",type:o,name:r,value:s,onChange:this.handleChange,checked:i}),c.a.createElement("div",{className:"CheckItem-box"},c.a.createElement("div",{className:"CheckItem-inner"},n),c.a.createElement(Ci.a,{className:"CheckItem-icon",size:20})))}}]),t}();Di.propTypes={name:u.a.string,onChange:u.a.func,checked:u.a.bool,className:u.a.string,type:u.a.string,value:u.a.any},Di.defaultProps={name:"checkitems",type:"checkbox"};var Ii,Ai,zi=Di,Si=n(407),xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Pi,Li,Ri=(Ai=Ii=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={value:null},r.handleModify=function(){r.setState({modifying:!0})},r.handleChange=function(e){r.setState({value:e.target.value})},r.handleCancel=function(){r.setState({value:null,modifying:!1})},r.handleSubmit=function(e){e.preventDefault(),r.props.onBioChange(r.state.value),r.handleCancel()},r.handleSelect=function(){r.props.onSelect(r.props.value)},_i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),xi(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.bio,r=e.title,o=e.checked,a=e.rich,i=this.state,s=i.modifying,l=i.value;return s?c.a.createElement("div",{className:"TopicBioItem"},c.a.createElement("div",{className:"TopicBioItem-title"},r),c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"TopicBioItem-inner"},c.a.createElement(ji.a,{className:"TopicBioItem-authorInfo",noLink:!0,author:t},c.a.createElement(ve.a,{className:"TopicBioItem-input",defaultValue:n,onChange:this.handleChange,placeholder:r,autoFocus:!0}))),c.a.createElement("div",{className:"TopicBioItem-inputFooter"},c.a.createElement(Si.a,{current:l?l.length:0,max:40}),c.a.createElement("div",{className:"TopicBioItem-actions"},c.a.createElement(b.c,{preset:"plain",type:"reset",onClick:this.handleCancel},"取消"),c.a.createElement(b.c,{preset:"primary",color:"blue",type:"submit"},"保存"))))):n?c.a.createElement("div",{className:"TopicBioItem"},c.a.createElement("div",{className:"TopicBioItem-title"},r),c.a.createElement(zi,{name:"topic-bio",type:"radio",onChange:this.handleSelect,value:this.props.value,checked:o},c.a.createElement(ji.a,{noLink:!0,author:t,className:"TopicBioItem-authorInfo"},c.a.createElement("div",null,a?c.a.createElement(Qt.a,{tag:"span",className:"TopicBioItem-bio",html:n}):c.a.createElement("span",{className:"TopicBioItem-bio"},n),c.a.createElement(Ei.a,{className:"TopicBioItem-modifyButton",onClick:this.handleModify}))))):c.a.createElement("div",{className:"TopicBioItem"},c.a.createElement(b.c,{className:"TopicBioItem-addButton",size:"spread",preset:"link",onClick:this.handleModify},c.a.createElement(_.a,{name:"plus",left:!0}),"添加",r))}}]),t}(),Ii.propTypes={user:u.a.object.isRequired,title:u.a.node.isRequired,value:u.a.object.isRequired,onBioChange:u.a.func.isRequired,onSelect:u.a.func.isRequired,checked:u.a.bool.isRequired},Ai),Qi=(n(2447),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Ui=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Bi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Yi,qi,Hi,Fi=function(e,t){var n=e.type,r=e.topic,o=(r=void 0===r?{}:r).id,a=t.type,i=t.topic,c=(i=void 0===i?{}:i).id;return n===a&&o===c},Vi=(Li=Pi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Bi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={value:null},r.handleSelect=function(e){return r.setState({value:e})},r.handleChoose=function(){return r.props.onBioChoose(r.state.value)},Bi(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Ui(t,[{key:"render",value:function(){var e=this;if(this.props.isFetching)return c.a.createElement("div",{className:"TopicBios-loading"},c.a.createElement(Vt.a,null));var t=this.props,n=t.user,r=t.question.topics,o=t.bios,a=t.currentBio,i=t.onHeadlineUpdate,s=t.onBioUpdate,l=this.state.value||a,u={type:"headline"};return c.a.createElement("div",null,c.a.createElement("div",{className:"TopicBioItems"},c.a.createElement(Ri,{title:"一句话介绍",user:n,bio:n.headline,value:u,onBioChange:i,onSelect:this.handleSelect,checked:Fi(l,u),rich:!0}),r.map(function(t){var r={type:"topic",topic:{id:t.id}};return c.a.createElement(Ri,Qi({key:t.id,title:"在 "+t.name+" 话题下的话题经验",user:n},function(e,t){return e.find(function(e){return e.topic.id===t})}(o,t.id),{value:r,onBioChange:function(e){return s(t.id,e)},onSelect:e.handleSelect,checked:Fi(l,r)}))})),c.a.createElement(ge.a,null,c.a.createElement(b.c,{color:"blue",preset:"primary",onClick:this.handleChoose},"完成")))}}]),t}(),Pi.propTypes={onHeadlineUpdate:u.a.func.isRequired,onBioUpdate:u.a.func.isRequired,onBioChoose:u.a.func.isRequired,question:u.a.object.isRequired,user:u.a.object.isRequired},Li),Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Zi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ji,Ki,Xi=Object(p.connect)(function(e,t){var n=e.currentUser,r=e.question.bio,o=e.entities,a=o.questions,i=o.users,c=e.topic.bios,s=t.question.id,l=a[s],u=(r[s]||{result:{type:"headline"}}).result;return{isFetching:c.isFetching,currentBio:{type:u.type,topic:u.topic},bios:l.topics.map(function(e){return{topic:e,bio:c[e.id]}}),question:l,user:i[n]}},{updateProfile:Ti.i,updateBio:qe.X,chooseBio:g.d,loadBios:g.p})((Hi=qi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Zi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleUpdateHeadline=function(e){r.props.updateProfile(null,{headline:e})},r.handleUpdateBio=function(e,t){r.props.updateBio(e,t)},r.handleBioChoose=function(e){e&&r.props.chooseBio(r.props.question.id,e),r.props.onClose()},Zi(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Gi(t,[{key:"componentDidMount",value:function(){this.props.loadBios(this.props.question.id)}},{key:"render",value:function(){return c.a.createElement(Vi,Wi({onHeadlineUpdate:this.handleUpdateHeadline,onBioUpdate:this.handleUpdateBio,onBioChoose:this.handleBioChoose},this.props))}}]),t}(),qi.contextTypes={currentUser:u.a.object},qi.propTypes={question:u.a.object.isRequired},Yi=Hi))||Yi,$i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tc,nc,rc,oc,ac=(Ki=Ji=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ec(t,[{key:"render",value:function(){var e=this.props,t=e.shown,n=e.onClose,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["shown","onClose"]);return c.a.createElement(ge.b,{title:"编辑话题经验",subtitle:c.a.createElement("span",null,"可以填写你从事的职业、取得的资格或过往经历，",c.a.createElement("br",null),"让你在这个问题下的回答更具说服力。"),onClose:n,size:"large",hotKeyClosable:!1,maskClosable:!1},t&&c.a.createElement(Xi,$i({},r,{onClose:n})))}}]),t}(),Ji.propTypes=$i({shown:u.a.bool.isRequired,onClose:u.a.func.isRequired},Xi.propTypes),Ki),ic=(n(2448),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function cc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var sc,lc,uc,pc=(tc=Object(p.connect)(function(e,t){var n=e.question.bio,r=e.topic.bios,o=e.answers.newAnswer,a=(n[t.question.id]||{result:{type:"headline"}}).result;return"topic"===a.type&&(a.bio=r[a.topic.id]||a.bio),{questionBio:a,newAnswer:o,allowCommercialAnonymousAnswer:"show"===Object(Dt.a)(e,"gue_anonymous")}},{showNotification:U.g,addAnswer:gt.a,getBio:g.m}),Object(s.withRouter)(nc=tc((oc=rc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=cc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={topicBiosModalShown:!1},r.onSubmit=function(e){var t=r.props,n=t.question.id;return(0,t.addAnswer)(n,e)},r.focus=function(){r.answerForm.getWrappedInstance().focus()},r.handleToggleAnonymous=function(){var e=r.context,t=e.isCheckedCircle,n=e.toggleAnonymous,o=r.props,a=o.showNotification,i=o.question.relationship.isAnonymous;if(t&&!i)return n(),void r.context.onChangecircleSettings(!1);i||!r.answerForm.getWrappedInstance().hasVideo()?n():a("匿名不能使用视频功能，如需启用匿名请删除草稿中的视频","red")},r.handleTopicBiosModalShown=function(){return r.setState({topicBiosModalShown:!0})},r.handleTopicBiosModalHide=function(){return r.setState({topicBiosModalShown:!1})},cc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ic(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id;(0,e.getBio)(t),this.props.answering&&setTimeout(this.focus)}},{key:"componentWillReceiveProps",value:function(e){this.props.answering!==e.answering&&this.focus()}},{key:"renderBio",value:function(){var e=this.props.questionBio,t=this.context.currentUser;return e.bio&&"headline"!==e.type?c.a.createElement("span",{className:"AnswerAdd-bio"},e.bio):t.headline?c.a.createElement(Qt.a,{className:"AnswerAdd-bio",tag:"span",html:(e||{}).bio||t.headline}):null}},{key:"renderAuthor",value:function(){var e=this.props,t=e.question.relationship.isAnonymous,n=e.question,r=this.context.currentUser;return t?c.a.createElement(ji.a,{className:"AnswerAdd-info",noLink:!0,author:sr.e}):r&&r.isOrg?c.a.createElement(ji.a,{className:"AnswerAdd-info",noLink:!0,author:r}):c.a.createElement(ji.a,{className:"AnswerAdd-info",noLink:!0,author:r},this.renderBio(),c.a.createElement(Ei.a,{className:"AnswerAdd-topicBiosButton",text:"编辑话题经验",onClick:this.handleTopicBiosModalShown}),c.a.createElement(ac,{shown:this.state.topicBiosModalShown,question:n,onClose:this.handleTopicBiosModalHide}))}},{key:"render",value:function(){var e=this,t=this.context.currentUser,n=this.props,r=n.question,o=r.relationship.isAnonymous,a=r.questionType,i=n.question,s=n.allowCommercialAnonymousAnswer,l=t&&!t.isOrg&&("normal"===a||"commercial"===a&&s||o);return c.a.createElement("div",{className:"AnswerAdd"},c.a.createElement("div",{className:"AnswerAdd-header"},this.renderAuthor(),l&&c.a.createElement(b.c,{className:"AnswerAdd-toggleAnonymous",preset:"plain",onClick:this.handleToggleAnonymous},o?"使用实名身份回答":"使用匿名身份回答")),c.a.createElement(Oi.a,{ref:function(t){e.answerForm=t},question:i,onSubmit:this.onSubmit}))}}]),t}(),rc.contextTypes={currentUser:u.a.object,toggleAnonymous:u.a.func.isRequired,isCheckedCircle:u.a.bool,onChangecircleSettings:u.a.func},nc=oc))||nc)||nc),fc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dc=Object(s.withRouter)((uc=lc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),fc(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.scrollIntoView()})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question,r=n.id,o=n.relationship.myAnswer,a=void 0===o?{}:o,i=t.router,c=e.question,s=c.id,l=c.relationship.myAnswer,u=void 0===l?{}:l;r===s&&a.answerId!==u.answerId&&(yt.default.trackEvent(this,{action:"StatusReport"},{status:{result:"Success",event:{action:"Answer"}}}),i.push("/question/"+r+"/answer/"+u.answerId),Ni.a.set("answer::justPublished",!0))}},{key:"scrollIntoView",value:function(){if("#draft"===window.location.hash&&this.anchor){var e=this.anchor.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;window.scrollTo(0,e-sr.f-10)}}},{key:"render",value:function(){var e=this;if(!this.context.currentUser)return null;var t=this.props,n=t.question,r=t.question,o=r.relationship.myAnswer,a=r.isNormal,i=r.status,s=(i=void 0===i?{}:i).isClose,l=i.isLocked,u=i.isSuggest,p=r.hasPublishingDraft,f=t.answering;return o?null:u?c.a.createElement("div",{className:"QuestionAnswers-answerTip"},"被建议修改的问题不允许添加新的回答。",c.a.createElement(vt.a,{preset:"plain",to:"/question/21290061"},"问题为什么会被建议修改？")):l?c.a.createElement("div",{className:"QuestionAnswers-answerTip"},"该问题目前已经被锁定，无法添加新答案。",c.a.createElement(vt.a,{preset:"plain",to:"/question/19604313"},"问题为什么会被锁定？")):s?c.a.createElement("div",{className:"QuestionAnswers-answerTip"},"被关闭的问题不允许添加新的回答。",c.a.createElement(vt.a,{className:"QuestionAnswers-iconLink",preset:"plain",to:"/question/21290061","data-tooltip":"为什么部分问题会被「关闭」「建议修改」？"},c.a.createElement(_.a,{name:"questionMark"}))):p?c.a.createElement(qt.d,{className:"QuestionAnswers-answerTipCard"},"你创建的回答正在发布中…"):a?c.a.createElement(wi.CSSTransitionGroup,{className:"QuestionAnswers-statusWrapper",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:"expand",component:"div"},f&&c.a.createElement(qt.d,{className:"QuestionAnswers-answerAdd"},c.a.createElement("a",{name:"draft",ref:function(t){return e.anchor=t}}),c.a.createElement(pc,{question:n,answering:f}))):null}}]),t}(),lc.contextTypes={currentUser:u.a.object},sc=uc))||sc,mc=(n(2449),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),hc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yc,bc,vc,gc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),hc(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children"]);return c.a.createElement("div",mc({},r,{className:V()("QuestionMainDivider",t)}),c.a.createElement("span",{className:"QuestionMainDivider-inner"},n))}}]),t}(),wc=(n(2450),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Mc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Nc,Ec=Object(p.connect)(function(e,t){var n=ka(e,{id:t.question.id,resource:"collapsedAnswers"}),r=n.isFetching,o=n.isDrained,a=n.ids;return{isFetching:r,isDrained:o,items:xa(a,e.entities.answers)}},{loadItems:g.x})((vc=bc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Mc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={opened:!1},r.handleLoad=function(){var e=r.props,t=e.question.id;return(0,e.loadItems)(t,"collapsedAnswers")},r.handleOpen=function(){r.handleLoad(),r.setState({opened:!0})},Mc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),wc(t,[{key:"render",value:function(){var e=this.props,t=e.isDrained,n=e.isFetching,r=e.items,o=e.question,a=e.question,i=a.collapsedAnswerCount,s=a.questionType,l=this.state.opened,u="org"===s,p=Object(Kt.formatNumber)(i)+" 个回答被"+(u?"隐藏":"折叠"),f=c.a.createElement(vt.a,{preset:"plain",to:u?"/org-intro#org-question":"/question/20120168",target:"_blank"},"为什么？");return l?c.a.createElement(qt.d,null,c.a.createElement(gc,null,p,"（",f,"）"),c.a.createElement(Ht.b,null,za(r,o),n&&c.a.createElement(da.a,{className:"List-item"})),!t&&!n&&c.a.createElement(Jt,{onClick:this.handleLoad},"更多")):c.a.createElement("div",{className:"CollapsedAnswers-bar",style:{}},c.a.createElement(b.c,{preset:"plain",onClick:this.handleOpen},p),"（",f,"）")}}]),t}(),bc.contextTypes={currentUser:u.a.object},yc=vc))||yc,Oc=n(1893),jc=n.n(Oc),Tc=n(1894),Cc=n(1654),kc=n(538),Dc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ic,Ac=Object(ce.a)(function(e){var t=e.answer;return{module:"AnswerItem",content:{type:"Answer",token:String(t.id),author_member_hash_id:t.author.id},trackCardShow:!0}})(Nc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Dc(t,[{key:"render",value:function(){var e=this.props.answer,t=e.id,n=e.voteupCount,r=e.question,o=r.id,a=r.title;return c.a.createElement("div",{className:"SimilarQuestions-item"},c.a.createElement(vt.a,{preset:"plain",to:"/question/"+o+"/answer/"+t,target:"_blank"},a)," ",n&&Object(Kt.formatNumber)(n)+" 个赞同")}}]),t}())||Nc,zc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sc,xc=Object(ce.a)(function(e){var t=e.article;return{module:"PostItem",content:{type:"Post",token:String(t.id),author_member_hash_id:t.author.id},trackCardShow:!0}})(Ic=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),zc(t,[{key:"render",value:function(){var e=this.props.article,t=e.id,n=e.title,r=e.voteupCount;return c.a.createElement("div",{className:"SimilarQuestions-item"},c.a.createElement(vt.a,{preset:"plain",a:!0,to:sr.h+"/p/"+t,target:"_blank"},n)," ",r&&Object(Kt.formatNumber)(r)+" 个赞同")}}]),t}())||Ic,_c=(n(2451),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Pc,Lc=Object(p.connect)(function(e,t){var n=e.explore.recommendations,r=n.items;return{isLoading:n.isLoading,isDrained:n.isDrained,isError:n.isError,items:r,similarQuestions:e.question.similarQuestions[t.question.id]}},{loadRecommendations:kc.b})(Sc=Object(ce.a)({module:"EditorRecommendList"})(Sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),_c(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.similarQuestions,r=t.isLoading,o=t.isDrained,a=t.isError,i=t.loadRecommendations;e.similarQuestions||!n||n.length||r||o||a||i(),!e.items&&this.props.items&&this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.similarQuestions;return n&&n.length||!t||!t.length?null:c.a.createElement(qt.d,null,c.a.createElement(qt.b,{className:"Recommendations-title"},"优质推荐"),c.a.createElement(qt.c,{className:"Recommendations-list"},t.map(function(e){var t=e.answer,n=e.article;return t?c.a.createElement(Ac,{answer:t,key:t.id}):c.a.createElement(xc,{article:n,key:n.id})})))}}]),t}())||Sc)||Sc,Rc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qc,Uc=Object(ce.a)(function(e){var t=e.question;return{module:"QuestionItem",content:{type:"Question",token:String(t.id),author_member_hash_id:(t.author||{}).id},trackCardShow:!0}})(Pc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Rc(t,[{key:"render",value:function(){var e=this.props.question,t=e.id,n=e.title,r=e.answerCount,o=e.followerCount,a="/question/"+t;return c.a.createElement("div",{className:"SimilarQuestions-item",itemProp:"zhihu:similarQuestion",itemType:"http://schema.org/Question",itemScope:!0},c.a.createElement("meta",{itemProp:"name",content:n}),c.a.createElement("meta",{itemProp:"url",content:"https://www.zhihu.com"+a}),c.a.createElement("meta",{itemProp:"answerCount",content:r}),c.a.createElement("meta",{itemProp:"zhihu:followerCount",content:o}),c.a.createElement(vt.a,{preset:"plain",to:a,target:"_blank"},n)," ",Object(Kt.formatNumber)(r)," 个回答")}}]),t}())||Pc,Bc=(n(2452),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Yc=Object(p.connect)(function(e,t){return{items:e.question.similarQuestions[t.question.id]}},{loadSimilarQuestions:g.G})(Qc=Object(ce.a)({module:"RelatedQuestions"})(Qc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Bc(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id;(0,e.loadSimilarQuestions)(t)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,r=t.loadSimilarQuestions,o=e.question.id;n!==o&&r(o)}},{key:"componentDidUpdate",value:function(e){!e.items&&this.props.items&&this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props.items;return e&&e.length?c.a.createElement(qt.d,null,c.a.createElement(qt.b,{className:"SimilarQuestions-title"},"相关问题"),c.a.createElement(qt.c,{className:"SimilarQuestions-list"},e.map(function(e){return c.a.createElement(Uc,{question:e,key:e.id})}))):null}}]),t}())||Qc)||Qc,qc=n(6),Hc=n(1918),Fc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Vc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Wc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Vc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={hideDescription:!1},r.handleRef=function(e){r.title=e},Vc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Fc(t,[{key:"componentDidMount",value:function(){this.title.offsetWidth<this.title.scrollWidth&&this.setState({hideDescription:!0})}},{key:"render",value:function(){var e=this.props,t=e.link,n=e.title,r=e.description,o=e.meta,a=e.imageUrl,i=this.state.hideDescription;return c.a.createElement(vt.a,{preset:"plain",a:!0,to:t,className:"RelatedCommodities-item",target:"_blank"},c.a.createElement("img",{className:"RelatedCommodities-image",src:Object(Ao.imgUrl)(a,{quality:90,size:"250x0"}),alt:"live"}),c.a.createElement("div",{className:"RelatedCommodities-content"},c.a.createElement("div",{className:V()("RelatedCommodities-subject",{"RelatedCommodities-subject-two":i}),style:{},ref:this.handleRef,"data-tooltip":n},n),i||c.a.createElement("div",{className:"RelatedCommodities-description"},r),c.a.createElement("div",{className:"RelatedCommodities-meta"},o)))}}]),t}(),Gc=n(1701),Zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Kc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Xc,$c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Kc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleListen=function(e){var t=e.target.closest("a").href+"?extra_auto_play=1";e.preventDefault(),e.stopPropagation(),yt.default.trackEvent(e.target,{action:"OpenUrl",element_name:"Play"},{link:{url:t}}),window.open(t,"_blank")},Kc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Jc(t,[{key:"render",value:function(){var e=this.props.item;switch(e.type){case"live":var t=e.id,n=e.subject,r=e.reviewScore,o=e.seats,a=(e.startsAt,e.speaker.member),i=a.name,s=a.avatarUrl;return c.a.createElement(Wc,{link:"/lives/"+t,imageUrl:s,title:n,description:i,meta:c.a.createElement("div",{className:"RelatedCommodities-scoreWrapper"},c.a.createElement(Gc.a,{score:r}),o&&o.taken&&o.taken+" 人参与",!1)});case"remix_album":case"podcast":case"remix":var l=e.id,u=e.artwork,p=e.title,f=e.author,d=(f=void 0===f?{}:f).user,m=e.trackCount,h="/remix/albums/"+l;return c.a.createElement(Wc,{link:h,imageUrl:u,title:p,description:d&&d.name,meta:c.a.createElement("div",{className:"RelatedCommodities-remixMeta"},c.a.createElement("div",null,"共 ",Object(Kt.formatNumber)(m)," 节课"),c.a.createElement(b.c,{className:"RelatedCommodities-remixListen",onClick:this.handleListen,preset:"plain"},"试听"))});case"special":var y=e.id,v=e.subject,g=e.liveCount,w=e.liveMemberCount,M=e.speakers,N=e.artworkMobile,E=M.slice(0,2).map(function(e){return e.member.name}).join("、");return c.a.createElement(Wc,{link:"/lives/specials/"+y,imageUrl:N,title:v,description:E+(M.length>=2?" 等":""),meta:Object(Kt.formatNumber)(g)+" 场 Live, "+Object(Kt.formatNumber)(w)+" 次参与"});case"book":var O=e.id,j=e.title,T=e.cover,C=e.authorName,k=e.readCount;return c.a.createElement(Wc,{link:"/pub/book/"+O,imageUrl:T,title:j,description:C,meta:c.a.createElement("div",{className:"RelatedCommodities-bookMeta"},Object(Kt.formatNumber)(k)+" 人读过",c.a.createElement("span",{className:"RelatedCommodities-bookRead"},c.a.createElement(Hc.a,{width:13,height:14,center:!0}),"阅读"))});default:return null}}}]),t}(),es=Object(ce.a)(function(e){var t=e.item,n=e.index;if("book"===t.type)return{module:"EBookItem",index:n,content:{type:"EBook",token:String(t.id)},trackCardShow:!0};var r="special"===t.type?"LiveAlbum":Object(qc.pascalize)(t.type);return{module:r+"Item",index:n,content:Zc({type:r,id:t.id},"live"===t.type&&{author_member_hash_id:t.speaker.member.id}),trackCardShow:!0}})($c),ts=(n(2453),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ns,rs,os,as=Object(p.connect)(function(e,t){var n=e.question.relatedCommodities[t.question.id];return{attachedInfo:(n||[]).attachedInfo,items:n}},{loadRelatedCommodities:g.F})(Xc=Object(ce.a)(function(e){return{attachedInfoBytes:e.attachedInfo,module:"ContentList",moduleName:"相关推荐"}})(Xc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ts(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.answer;(0,e.loadRelatedCommodities)(t,n&&n.id)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,r=t.loadRelatedCommodities,o=e.question.id;n!==o&&r(o)}},{key:"componentDidUpdate",value:function(e){!e.items&&this.props.items&&this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props.items;return e&&e.length?c.a.createElement(qt.d,null,c.a.createElement(qt.b,{className:"RelatedCommodities-title"},"相关推荐"),c.a.createElement(qt.c,{className:"RelatedCommodities-list"},e.slice(0,3).map(function(e){return c.a.createElement(es,{item:e,key:e.id})}))):null}}]),t}())||Xc)||Xc,is=n(2142),cs=n(449),ss=(n(2465),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function ls(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var us,ps,fs=Object(p.connect)(function(e){var t=e.entities,n=e.question.brand,r={};return n&&n.target&&n.target.urlToken&&(r=t.users[n.target.urlToken]||{}),{brand:n,brandMember:r}},{loadBrand:g.q,loadProfile:Ti.e})((os=rs=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ls(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.goToBrand=function(){var e=r.props.brand.target;e&&(location.href="/org/"+e.urlToken)},ls(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),ss(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.brand,n=e.brand,r=e.loadProfile;t&&n&&t.name!==n.name&&n.target&&n.target.urlToken&&r(n.target.urlToken,!1)}},{key:"render",value:function(){var e=this.props,t=e.brand,n=t.logo,r=t.name,o=t.target,a=t.isPuQuestion,i=e.brandMember,s=this.context.currentUser,l=a?"关于大咖":"关于品牌";return c.a.createElement(qt.d,{className:V()({MobileBrandQuestionAuthor:!1})},c.a.createElement(qt.b,{className:"BrandQuestionAuthor-header"},c.a.createElement("span",{className:"BrandQuestionAuthor-headerText"},l)),c.a.createElement(qt.c,{className:V()("BrandQuestionAuthor",o&&"is-clickable"),onClick:this.goToBrand},c.a.createElement("img",{src:n,className:"BrandQuestionAuthor-icon",alt:"brand"}),c.a.createElement("div",{className:"BrandQuestionAuthor-content"},c.a.createElement("div",{className:"BrandQuestionAuthor-name"},r,o&&o.urlToken&&c.a.createElement(Rr.a,{className:"BrandQuestionAuthor-badge",badge:o.badge,isOrg:o.isOrg,noLink:!0})),o&&o.headline&&c.a.createElement("div",{className:"BrandQuestionAuthor-intro"},o.headline))),i&&i.id&&s&&s.id!==i.id&&c.a.createElement(cs.a,{className:"BrandQuestionAuthor-buttons",user:i}))}}]),t}(),rs.contextTypes={currentUser:u.a.object},ns=os))||ns,ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function hs(e){var t=e.text,n=e.from,r=e.score;return c.a.createElement("span",null,n||t,r&&c.a.createElement("strong",null,r))}var ys,bs,vs,gs=(ps=us=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),ms(t,[{key:"renderCardImage",value:function(){var e=this.props.meta,t=e.avatar,n=e.title;return t?c.a.createElement(mo.a,{className:V()("QuestionSidebarTopicMeta-cardImage"),src:t,alt:n}):null}},{key:"renderGoodsCard",value:function(){var e=this.props.meta.title;return c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardMain QuestionSidebarTopicMeta-goods"},this.renderCardImage(),c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardContent"},c.a.createElement("h3",{className:"QuestionSidebarTopicMeta-cardTitle"},e)))}},{key:"renderGeneralCard",value:function(){var e=this.props.meta,t=e.title,n=e.description1,r=e.description2,o=function(e){var t=e.scores,n=void 0===t?[]:t,r=e.tags,o=void 0===r?[]:r;return n.length>0?n:o.length>0?o:[]}(e),a=o.length?o.map(function(e,t){return c.a.createElement(hs,ds({key:t},e))}):r;return c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardMain"},this.renderCardImage(),c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardContent"},c.a.createElement("h3",{className:"QuestionSidebarTopicMeta-cardTitle"},t),n&&c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardDesc"},n),a&&c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardScore"},a)))}},{key:"renderCard",value:function(){return"n_goods"===this.props.meta.category?this.renderGoodsCard():this.renderGeneralCard()}},{key:"renderModule",value:function(){var e=this.props,t=e.meta,n=e.excerpt,r=e.metaCardDisplay,o=t.summary||n;return c.a.createElement(qt.d,null,this.renderCard(),"normal"===r&&c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardMore"},o&&c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardMoreInner",dangerouslySetInnerHTML:{__html:o}}),c.a.createElement("div",{className:"QuestionSidebarTopicMeta-cardLink"},"查看更多",c.a.createElement(me.a,{center:!0}))))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.meta,r=e.metaCardDisplay;if(!n||"none"===r)return null;var o=n.category;return c.a.createElement(Q.a,{module:"TopicItem",moduleName:o,card:{content:ds({type:"Topic"},Object(ho.a)("topic",t),{sub_type:"MetaCard"})},trackCardShow:!0},c.a.createElement("a",{href:"/topic/"+t,target:"_blank",rel:"noopener noreferrer"},this.renderModule()))}}]),t}(),us.propTypes={id:u.a.string.isRequired,excerpt:u.a.string,meta:u.a.shape({category:u.a.string,avatar:u.a.string,title:u.a.string,description1:u.a.string,description2:u.a.string,summary:u.a.string,scores:u.a.arrayOf(u.a.shape({url:u.a.string,score:u.a.string,from:u.a.string})),tags:u.a.arrayOf(u.a.shape({text:u.a.string}))}).isRequired,metaCardDisplay:u.a.oneOf(["normal","none"])},ps),ws=(n(2466),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Ms=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ns,Es=(ys=Object(p.connect)(function(e,t){var n=t.params;return{questionId:n.id,items:Object(g.I)(e,{id:n.id})}},{loadQuestionMetaTopics:g.D}),bs=Object(xn.a)(null),Object(s.withRouter)(vs=ys(vs=bs(vs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Ms(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params.id,n=e.items,r=e.loadQuestionMetaTopics;n||r(t)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.questionId;if(!t||!t.length)return null;var r=t.filter(function(e){return e&&e.meta});if(!r||r.length<1)return null;var o=r[0],a=o.vote,i=o.isVote,s="normal";return a&&i&&(s="none"),c.a.createElement("div",{className:"QuestionSidebarTopicMeta"},c.a.createElement(gs,ws({metaCardDisplay:s},o,{questionId:n})))}}]),t}())||vs)||vs)||vs),Os=n(1651),js=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ts(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Cs,ks,Ds,Is=Object(xn.a)(null)(Ns=Object(ce.a)({module:"RightSideBar"})(Ns=Object(p.connect)(function(e){return{brand:e.question.brand}},{loadBrand:g.q,loadProfile:Ti.e})(Ns=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ts(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onHeightChange=function(){r.dynamicSticky&&r.dynamicSticky.check()},Ts(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),js(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.question,n=t.id,r=t.questionType,o=e.loadBrand;"commercial"===r&&o(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.brand,n=e.brand,r=e.loadProfile;t&&n&&t.name!==n.name&&n.target&&r(n.target.urlToken,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.question,o=r.id,a=r.questionType,i=t.brand;return c.a.createElement(Os.a,{className:"Question-sideColumn Question-sideColumn--sticky",onRef:function(t){e.sidebar=t},offset:sr.f+10,ref:function(t){e.dynamicSticky=t}},"commercial"===a&&c.a.createElement(is.a,{questionId:o,pageType:"question",onLoad:this.onHeightChange}),"commercial"===a&&i&&c.a.createElement(fs,{brand:i}),"commercial"!==a&&c.a.createElement(Tc.a,{type:"question",getSidebar:function(){return e.sidebar}}),"normal"===a&&c.a.createElement("div",{className:"Card"},c.a.createElement(jc.a,{isMobile:!1,id:"question/"+o,location:"new_question_up",query:{question_token:o},onHeightChange:this.onHeightChange})),c.a.createElement(Es,null),"commercial"!==a&&c.a.createElement(Lc,{question:n,onLoad:this.onHeightChange}),"normal"===a&&c.a.createElement(Yc,{question:n,onLoad:this.onHeightChange}),"normal"===a&&c.a.createElement(as,{question:n,onLoad:this.onHeightChange}),"normal"===a&&c.a.createElement("div",{className:"Card"},c.a.createElement(jc.a,{isMobile:!1,id:"question/"+o,location:"new_question_down_sticky",query:{question_token:o},delay:500,onHeightChange:this.onHeightChange})),"commercial"===a&&c.a.createElement(Tc.a,{type:"question",getSidebar:function(){return e.sidebar}}),c.a.createElement(Cc.a,null))}}]),t}())||Ns)||Ns)||Ns,As=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zs,Ss,xs,_s,Ps=Object(p.connect)(function(e,t){var n=t.params.id,r=t.route.resource,o=t.location.query,a=o.group_id,i=o.qc,c=e.currentUser,s=!i&&a,l=ka(e,{id:n,resource:r}).isDrained,u=Object(g.J)(e,{id:n}),p=u.answerCount,f=u.relationship.isAnonymous;return{isNormalNotification:s,notificationId:a,resource:r,question:u,isDrained:l,invitationShowCount:c&&!f&&p<Na?p?Ea:Oa:0,isBot:e.env.userAgent.isBot,isHuman:Object(Dt.e)(e),currentUser:Object(He.c)(e),edition:Object(Dt.d)(e),canOia:Object(Dt.b)(e),shouldOia:Object(Dt.h)(e),referer:Object(Dt.g)(e),isMuteSpecial:Object(g.n)(u)}})((Ds=ks=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["PureComponent"]),As(t,[{key:"renderAnswers",value:function(){var e=this.props,t=e.resource,n=e.question,r=n.questionType,o=n.collapsedAnswerCount,a=n.answerCount,i=n.isNormal,s=n.status,l=(s=void 0===s?{}:s).isLocked,u=e.question,p=e.location,f=e.answering,d=e.invitationShowCount,m=e.isDrained,h=e.isMuteSpecial,y="updatedAnswers"===t||m,b="commercial"!==r&&!a;return c.a.createElement("div",null,c.a.createElement(dc,{question:u,answering:f}),Boolean(d)&&!h&&c.a.createElement(Sn,{expandCount:d,question:u}),c.a.createElement(gi,{resource:t,question:u,location:p}),i&&!l&&"updatedAnswers"!==t&&m&&!b&&c.a.createElement(Q.a,{module:"BottomBar"},c.a.createElement(qt.d,null,c.a.createElement(Tt,{className:"QuestionAnswers-answerButton",size:"spread"}))),y&&o>0&&!h&&c.a.createElement(Ec,{question:u}))}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.isNormalNotification,r=e.notificationId,o=e.location;return c.a.createElement("div",{className:"Question-main"},c.a.createElement("div",{className:"Question-mainColumn"},n?c.a.createElement(Qa,{location:o,question:t,id:r}):this.renderAnswers()),c.a.createElement(q.a,null,c.a.createElement(Is,{question:t})))}}]),t}(),ks.fetchData=function(e){var t=e.params.id,n=e.route.resource,r=e.location.query,o=r.group_id,a=r.page,i=r.qc;return function(e,r){if(!i&&o)return e(Object(g.y)(o));var c=r(),s=c.env.userAgent,l=Object(Dt.f)(c),u=ja;return s.isBot?u=Ta:l&&(u=4),e(Object(g.x)(t,n,{offset:Object(wa.c)(Number(a)||1),limit:u}))}},Cs=Ds))||Cs,Ls=n(168),Rs=n(135),Qs=(n(2144),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Us(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Bs,Ys=(zs=Object(p.connect)(null,{loadAnswer:gt.l,loadContentRightsNotification:Rs.o}),Object(s.withRouter)(Ss=zs((_s=xs=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Us(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={contentRef:null},r.contentRef=c.a.createRef(),r.handleCloseComment=function(){var e=r.props,t=e.location,n=t.pathname,o=t.search;e.byComment&&r.props.router.replace(""+n+o)},r.handleCloseEditing=function(){var e=r.props,t=e.location,n=t.pathname,o=t.query,a=e.router,i=o.editing,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["editing"]);if(i){var s=gr.a.stringify(c)||"";a.replace(""+n+(s&&"?")+s)}},Us(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Qs(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.question.id,n=e.answer;(!n||n.question&&n.question.id!==t||n.isDelete)&&this.props.router.replace("/question/"+t)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.answer.id,n=e.loadContentRightsNotification;this.context.currentUser&&Object(B.c)("answer",t,B.a),this.setState({contentRef:this.contentRef.current}),Ni.a.get("answer::justPublished")&&(Ni.a.delete("answer::justPublished"),n("answer",t))}},{key:"render",value:function(){var e=this.props,t=e.question,n=t.relationship,r=n.canCollapseAnswers,o=n.canStickAnswers,a=t.hasPublishingDraft,i=e.answer,s=e.location,l=s.hash,u=s.query;return c.a.createElement(qt.d,{className:"AnswerCard"},c.a.createElement("div",{className:"QuestionAnswer-content",ref:this.contentRef,tabIndex:0},c.a.createElement(Ls.d.Provider,{value:this.state.contentRef},c.a.createElement(ga.a,{relatedTo:"answer",answer:i,byComment:Object(Nr.a)(l),onCloseComment:this.handleCloseComment,onCloseEditing:this.handleCloseEditing,canCollapse:r,canStick:o,editing:u&&"true"===u.editing,editable:!0,expanded:!0,hasPublishingDraft:a,itemProp:"mainEntityOfPage"}))))}}]),t}(),xs.contextTypes={currentUser:u.a.object},Ss=_s))||Ss)||Ss),qs=(n(2467),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Hs=2;var Fs,Vs,Ws,Gs=Object(p.connect)(function(e,t){var n=t.question.id,r=t.answerId,o=e.entities.answers,a=e.question.answers[n]||{ids:[],isDrained:!1},i=a.ids;return{isDrained:a.isDrained,items:i.filter(function(e){return e!==Number(r)}).slice(0,Hs).map(function(e){return o[e]}),isWechat:e.env.userAgent.Wechat}},{loadAnswer:gt.l,loadItems:g.x})(Bs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),qs(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.items;t||n.length||this.loadItems()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.question.id,n=e.question.id,r=e.isDrained,o=e.items;n!==t&&!r&&o.length<Hs&&this.loadItems()}},{key:"loadItems",value:function(){var e=this.props,t=e.question.id,n=e.loadItems;return n(t,"answers",{limit:3})}},{key:"render",value:function(){var e=this.props,t=e.question.relationship.canCollapseAnswers,n=e.items,r=e.isWechat;return Boolean(n.length)&&c.a.createElement(qt.d,{className:"MoreAnswers"},c.a.createElement(Ht.b,{title:"更多回答","data-zop-feedlist":!0},n.map(function(e){return c.a.createElement(va.a,{key:e.id},c.a.createElement(ga.a,{relatedTo:"question",answer:e,canCollapse:t,lastreadTouchable:!0,blockReading:!r}))})))}}]),t}())||Bs,Zs=n(265),Js=n(395),Ks=n(1555),Xs=n(54),$s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var tl,nl=Object(p.connect)(function(e,t){var n=t.author;return el({currentUser:Object(He.c)(e)},n&&function(e,t){var n=t.urlToken||t.id,r=e.people.mutualsByUser[n]||{isDrained:!1,isFetching:!1,ids:[]};return{isDrained:r.isDrained,isFetching:r.isFetching,items:r.ids.map(function(t){var n=Object(Xs.c)(e,{id:t});return n.code?null:n}).filter(Boolean)}}(e,{urlToken:n.urlToken}))},{loadItems:Ti.d})(Fs=Object(Fe.a)({shouldLoad:function(e){return e.currentUser&&e.author&&e.author.urlToken&&e.currentUser.urlToken!==e.author.urlToken&&!e.isDrained},load:function(e){return e.loadItems(e.author.urlToken,"mutuals")}})((Ws=Vs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),$s(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.author;return t&&t.length?c.a.createElement("div",{className:"AnswerAuthor-item"},c.a.createElement("span",{className:"AnswerAuthor-item-icon"},c.a.createElement(Ks.a,{text:!0,center:!0})),c.a.createElement("div",{className:"AnswerAuthor-item-value"},c.a.createElement(Js.CJKSpace,null,t.slice(0,3).map(function(e,t){return c.a.createElement("span",{key:e.urlToken},0!==t&&"、",c.a.createElement(Ut.a,{user:e,noBadge:!0,noHoverCard:!0},e.name))}),"也关注了",sr.F[n.gender]))):null}}]),t}(),Vs.propTypes={author:u.a.object.isRequired},Fs=Ws))||Fs)||Fs,rl=(n(2468),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ol=function(e){return e&&void 0!==e.answerCount&&"undefined"!=typeof articlesCount&&"undefined"!=typeof followerCount&&void 0!==e.badge};var al,il=Object(p.connect)(function(e,t){var n=t.answer,r=n.author,o=n.author.urlToken,a=e.entities.users,i=o?a[o]:r;return{currentUser:Object(He.c)(e),isDrained:ol(i),user:i,isSelf:Object(He.g)(e,i)}},{loadProfile:Ti.e})(tl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),rl(t,[{key:"componentDidMount",value:function(){this.nextItem()}},{key:"componentWillReceiveProps",value:function(e){this.props.answer.author.urlToken!==e.answer.author.urlToken&&this.nextItem(e)}},{key:"componentDidUpdate",value:function(e){!e.user&&this.props.user&&this.props.onLoad&&this.props.onLoad()}},{key:"nextItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.answer.author.urlToken,n=e.loadProfile,r=e.isDrained;t&&(r||n(t))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.isSelf;if(!t)return null;var r=t.urlToken,o=t.isOrg,a=t.headline,i=t.badge,s=t.answerCount,l=t.articlesCount,u=t.followerCount,p=Object(G.a)(i)||{},f=p.identityInfo,d=p.bestAnswererInfo,m=p.bestAnswererTopics,h=o?"org":"people";return c.a.createElement(qt.d,{className:"AnswerAuthor"},c.a.createElement(qt.b,{className:"AnswerAuthor-title"},"关于作者"),c.a.createElement(qt.c,null,c.a.createElement("div",{className:"AnswerAuthor-user"},c.a.createElement("div",{className:"AnswerAuthor-user-avatar"},c.a.createElement(Ut.a,{user:t,avatar:!0,avatarProps:{size:60},noHoverCard:!0})),c.a.createElement("div",{className:"AnswerAuthor-user-content"},c.a.createElement("div",{className:"AnswerAuthor-user-name"},c.a.createElement(Ut.a,{user:t,noBadge:!0,noHoverCard:!0})),a&&c.a.createElement("div",{className:"AnswerAuthor-user-headline"},c.a.createElement(Qt.a,{html:a}))))),c.a.createElement(qt.c,null,f&&c.a.createElement("div",{className:"AnswerAuthor-item"},c.a.createElement("a",{className:"AnswerAuthor-item-icon",href:"/account/verification/intro",target:"_blank"},c.a.createElement(_.a,{name:"badgeCert"})),c.a.createElement("div",{className:"AnswerAuthor-item-value"},f.slice(0,2).join("，"))),m&&m.length>0&&c.a.createElement("div",{className:"AnswerAuthor-item"},c.a.createElement("span",{className:"AnswerAuthor-item-icon"},c.a.createElement(_.a,{name:"badgeGlorious"})),c.a.createElement("div",null,c.a.createElement(Zs.a,{topics:m,user:t,noHoverCard:!0}),"的",d)),t&&!n&&c.a.createElement(nl,{author:t})),r&&c.a.createElement(qt.c,null,c.a.createElement("div",{className:"AnswerAuthor-counts"},c.a.createElement(Qn.a,null,c.a.createElement(Qn.a.Item,{tag:vt.a,preset:"plain",to:"/"+h+"/"+r+"/answers",name:"回答",value:s,"data-za-detail-view-element_name":"Answer"}),c.a.createElement(Qn.a.Item,{tag:vt.a,preset:"plain",to:"/"+h+"/"+r+"/posts",name:"文章",value:l,"data-za-detail-view-element_name":"Post"}),c.a.createElement(Qn.a.Item,{tag:vt.a,preset:"plain",to:"/"+h+"/"+r+"/followers",name:"关注者",value:u,"data-za-detail-view-element_name":"Follower"}))),!n&&c.a.createElement(cs.a,{className:"AnswerAuthor-buttons",user:t})))}}]),t}())||tl,cl=n(1764),sl=(n(2469),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function ll(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ul,pl=Object(p.connect)(function(e,t){var n=t.answer.id,r=e.entities.favlists,o=e.answers.favlists[n]||{isFetching:!1,isDrained:!1,totals:0,ids:[]};return{items:o.ids.map(function(e){return r[e]}),count:o.totals,isFetching:o.isFetching,isDrained:o.isDrained}},{loadAnswerFavlists:gt.p})(al=Object(ce.a)({module:"CollectionList"})(al=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=ll(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.load=function(){var e=r.props,t=e.answer.id;(0,e.loadAnswerFavlists)(t)},ll(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),sl(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.count,r=e.isFetching,o=e.isDrained;return c.a.createElement("div",{className:"AnswerFavlists"},c.a.createElement("div",{className:"AnswerFavlists-header"},c.a.createElement("div",{className:"AnswerFavlists-title"},"被收藏 ",Object(Kt.formatNumber)(n)," 次")),!(o&&!t.length)&&c.a.createElement(da.b,{className:"AnswerFavlists-list",isLocal:!0,isLoading:r,isDrained:o,onLoad:this.load,getContainer:function(e){return e},placeholder:c.a.createElement(da.a,{className:"AnswerFavlists-item",small:!0})},t.map(function(e){var t=e.id,n=e.type,r=e.creator,o=e.isFollowing,a=e.answerCount,i=e.followerCount;return c.a.createElement(Ht.a,{key:t},c.a.createElement(cl.a,{favlist:e,action:c.a.createElement(Ct.a,{preset:"primary",id:t,type:n,isFollowing:o}),status:c.a.createElement(sn.d,null,c.a.createElement("span",null,"由"," ",c.a.createElement(Ut.a,{user:r,noBadge:!0,noHoverCard:!0,target:"_blank"})," ","创建"),c.a.createElement("span",null,Object(Kt.formatNumber)(a)," 条内容"),c.a.createElement("span",null,Object(Kt.formatNumber)(i)," 人关注"))}))})))}}]),t}())||al)||al,fl=(n(2470),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function dl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ml=Object(p.connect)(function(e,t){var n=t.answer.id,r=e.entities.copyrightApplicants,o=e.answers.copyrightApplicants[n]||{isFetching:!1,isDrained:!1,totals:0,ids:[]};return{items:o.ids.map(function(e){return r[e]}),count:o.totals,isFetching:o.isFetching,isDrained:o.isDrained}},{loadAnswerCopyrightApplicants:gt.o})(ul=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=dl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.load=function(){var e=r.props,t=e.answer.id;(0,e.loadAnswerCopyrightApplicants)(t)},dl(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),fl(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.count,r=e.isFetching,o=e.isDrained;return c.a.createElement("div",{className:"AnswerCopyrightApplicants"},c.a.createElement("div",{className:"AnswerCopyrightApplicants-header"},c.a.createElement("div",{className:"AnswerCopyrightApplicants-title"},"授权转载 ",Object(Kt.formatNumber)(n)," 次")),!(o&&!t.length)&&c.a.createElement(da.b,{className:"AnswerCopyrightApplicants-list",isLocal:!0,isLoading:r,isDrained:o,onLoad:this.load,getContainer:function(e){return e},placeholder:c.a.createElement(da.a,{className:"AnswerCopyrightApplicants-item",small:!0})},t.map(function(e){var t=e.applier,n=e.accountType,r=e.accountUsername,o=e.createdAt;return c.a.createElement("div",{className:"AnswerCopyrightApplicants-item",key:t.name+"."+o},c.a.createElement(Xt.a,{user:t,meta:n+" "+r,status:null,action:c.a.createElement("div",{className:"AnswerCopyrightApplicants-time"},"申请于 ",Object(y.toDateString)(o))}))})))}}]),t}())||ul,hl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),hl(t,[{key:"render",value:function(){var e=this.props.copyrightApplicant,t=e.applier,n=e.accountType,r=e.accountUsername,o=e.createdAt;return c.a.createElement("div",{className:"AnswerInfo-copyright-applicant",key:t.name+"."+o},c.a.createElement(Ut.a,{user:t,noBadge:!0,noHoverCard:!0,target:"_blank"}),"，",n," ",r)}}]),t}(),bl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var vl,gl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),bl(t,[{key:"render",value:function(){var e=this.props.copyrightApplicants;return c.a.createElement(qt.c,{className:"AnswerInfo-copyright-applicants",key:"content"},e.map(function(e,t){return c.a.createElement(yl,{key:t,copyrightApplicant:e})}))}}]),t}(),wl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ml,Nl=Object(ce.a)(function(e){var t=e.favlist;return{module:"CollectionItem",content:{type:"Collection",token:String(t.id),follower_num:t.followerCount,author_member_hash_id:t.creator.id},trackCardShow:!0}})(vl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),wl(t,[{key:"render",value:function(){var e=this.props.favlist,t=e.id,n=e.title,r=e.followerCount,o=e.creator;return c.a.createElement("div",{className:"AnswerInfo-favlist",key:t},c.a.createElement("div",{className:"AnswerInfo-favlist-title"},c.a.createElement(vt.a,{preset:"plain",a:!0,to:"/collection/"+t,target:"_blank","data-za-detail-view-element_name":"Collection",title:n},n)),c.a.createElement("div",{className:"AnswerInfo-favlist-author"},c.a.createElement(Ut.a,{user:o,noBadge:!0,noHoverCard:!0,target:"_blank","data-za-detail-view-element_name":"Author"})," ","创建"),c.a.createElement("div",{className:"AnswerInfo-favlist-followers"},Object(Kt.formatNumber)(r)," 人关注"))}}]),t}())||vl,El=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ol,jl=Object(ce.a)({module:"CollectionList"})(Ml=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),El(t,[{key:"render",value:function(){var e=this.props.favlists;return c.a.createElement(qt.c,{className:"AnswerInfo-favlists",key:"content"},e.map(function(e){return c.a.createElement(Nl,{favlist:e,key:e.id})}))}}]),t}())||Ml,Tl=(n(2471),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function Cl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var kl,Dl=Object(p.connect)(function(e,t){var n=t.answer.id,r=e.entities,o=r.copyrightApplicants,a=r.favlists,i=e.answers.copyrightApplicants[n]||{totals:0,ids:[]},c=e.answers.favlists[n]||{totals:0,ids:[]};return{copyrightApplicants:i.ids.map(function(e){return o[e]}),copyrightApplicantCount:i.totals,favlists:c.ids.map(function(e){return a[e]}),favlistCount:c.totals}},{loadAnswerCopyrightApplicants:gt.o,loadAnswerFavlists:gt.p})(Ol=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Cl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={copyrightApplicantsModalShown:!1,favlistsModalShown:!1},r.handleCopyrightApplicantsModalShow=function(){yt.default.trackEvent(r,{action:"Click",element:"Button",name:"转载授权"}),r.setState({copyrightApplicantsModalShown:!0})},r.handleCopyrightApplicantsModalHide=function(){r.setState({copyrightApplicantsModalShown:!1})},r.handleFavlistsModalShow=function(){yt.default.trackEvent(r,{action:"Click",element:"Button",name:"被收藏"}),r.setState({favlistsModalShown:!0})},r.handleFavlistsModalClose=function(){r.setState({favlistsModalShown:!1})},Cl(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Tl(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.answer.id,n=e.copyrightApplicants,r=e.favlists,o=e.loadAnswerCopyrightApplicants,a=e.loadAnswerFavlists;n.length||r.length||(o(t),a(t))}},{key:"componentDidUpdate",value:function(e){this.props.onLoad&&(!e.copyrightApplicants.length&&this.props.copyrightApplicants.length||!e.favlists.length&&this.props.favlists.length)&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.answer,n=e.copyrightApplicants,r=e.copyrightApplicantCount,o=e.favlists,a=e.favlistCount,i=this.state,s=i.favlistsModalShown,l=i.copyrightApplicantsModalShown;return n.length||o.length?c.a.createElement(qt.d,null,Boolean(n.length)&&[c.a.createElement(qt.b,{className:"AnswerInfo-title",key:"header"},"授权转载"," ",c.a.createElement(b.c,{preset:"plain",onClick:this.handleCopyrightApplicantsModalShow},Object(Kt.formatNumber)(r))," ","次"),c.a.createElement(gl,{copyrightApplicants:n.slice(0,5),key:"content"})],Boolean(o.length)&&[c.a.createElement(qt.b,{className:"AnswerInfo-title",key:"header"},"被收藏"," ",c.a.createElement(b.c,{preset:"plain",onClick:this.handleFavlistsModalShow},Object(Kt.formatNumber)(a))," ","次"),c.a.createElement(jl,{favlists:o.slice(0,5),key:"content"})],c.a.createElement(ge.b,{size:"fullPage",onClose:this.handleFavlistsModalClose},s&&c.a.createElement(pl,{answer:t})),c.a.createElement(ge.b,{size:"fullPage",onClose:this.handleCopyrightApplicantsModalHide},l&&c.a.createElement(ml,{answer:t}))):null}}]),t}())||Ol,Il=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function zl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Sl,xl=Object(xn.a)(null)(kl=Object(ce.a)(function(e){var t=e.answer;return{module:"RightSideBar",content:Al({},t.author&&{member_hash_id:t.author.id})}})(kl=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=zl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onHeightChange=function(){r.dynamicSticky&&r.dynamicSticky.check()},zl(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Il(t,[{key:"shouldComponentUpdate",value:function(e){return e.answer.id!==this.props.answer.id}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.question,o=r.id,a=r.questionType,i=t.answer,s=Object(gt.k)(i)||Object(gt.i)(i);return c.a.createElement(Os.a,{className:"Question-sideColumn Question-sideColumn--sticky",onRef:function(t){e.sidebar=t},offset:sr.f+10,ref:function(t){e.dynamicSticky=t}},c.a.createElement(Tc.a,{type:"question",getSidebar:function(){return e.sidebar}}),s||"normal"===a&&c.a.createElement("div",{className:"Question-sideColumnAdContainer"},c.a.createElement(jc.a,{isMobile:!1,id:"question/"+o+"/answer/"+i.id,location:"new_answer_up",query:{question_token:o,answer_token:i.id},onHeightChange:this.onHeightChange})),"commercial"===a&&c.a.createElement(is.a,{questionId:o}),i.author&&c.a.createElement(il,{answer:i,onLoad:this.onHeightChange}),c.a.createElement(Es,null),c.a.createElement(Dl,{answer:i,onLoad:this.onHeightChange}),s||"commercial"!==a&&c.a.createElement(Lc,{question:n,onLoad:this.onHeightChange}),s||"normal"===a&&c.a.createElement(Yc,{question:n,onLoad:this.onHeightChange}),s||"normal"===a&&c.a.createElement(as,{answer:i,question:n,onLoad:this.onHeightChange}),s||"normal"===a&&c.a.createElement("div",null,c.a.createElement(jc.a,{isMobile:!1,id:"question/"+o+"/answer/"+i.id,location:"new_answer_down_sticky",query:{question_token:o,answer_token:i.id},delay:1e3,onHeightChange:this.onHeightChange})),c.a.createElement(Cc.a,null))}}]),t}())||kl)||kl,_l=(n(2472),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Pl,Ll,Rl,Ql=Object(ce.a)(function(e){return{module:"MessageItem",content:{item_num:e.itemNum}}})(Sl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),_l(t,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.itemNum,r=e.questionType;e.bottom;return c.a.createElement(qt.d,{className:V()("ViewAll",{"ViewAll--bottom":!1})},c.a.createElement(Jt,{className:"ViewAll-QuestionMainAction",to:t,"data-za-detail-view-element_name":"ViewAll",style:{}},"commercial"===r?"查看 "+Object(Kt.formatNumber)(n)+" 个品牌推荐的回答":"查看全部 "+Object(Kt.formatNumber)(n)+" 个回答"))}}]),t}())||Sl,Ul=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Yl=Object(p.connect)(function(e,t){var n=t.params,r=n.id,o=n.answerId,a=Object(g.J)(e,{id:r}),i=Object(gt.c)(e,{id:o}),c=(a||{}).relationship||{myAnswer:{isDelete:!1}};return{question:a,answer:i&&Bl({},i,{isDelete:(i.relationship||{}).isAuthor&&(c.myAnswer||{}).isDeleted}),isMuteSpecial:Object(g.n)(a)}},{loadAnswer:gt.l})((Rl=Ll=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),Ul(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.answer,n=e.params.answerId,r=e.loadAnswer;t||r(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.params.answerId,n=e.params.answerId,r=e.loadAnswer;n!==t&&r(n)}},{key:"render",value:function(){if(!this.props.answer)return null;var e=this.props,t=e.answer,n=e.answer.id,r=e.question,o=e.question,a=o.id,i=o.answerCount,s=o.questionType,l=e.location,u=e.isMuteSpecial;return c.a.createElement("div",{className:"Question-main"},c.a.createElement(d.a,{meta:Object(na.a)(t)}),c.a.createElement(Ls.b,{selector:[".ViewAll-QuestionMainAction",".QuestionAnswer-content",".List-item"].join(",")},c.a.createElement("div",{className:"Question-mainColumn","data-zop-questionanswerlist":!0},Object(gt.k)(t)||Object(gt.i)(t)||i>0&&!u&&c.a.createElement(Ql,{itemNum:i,to:"/question/"+a,questionType:s}),c.a.createElement(Ys,{question:r,location:l,answer:t}),Object(gt.k)(t)||Object(gt.i)(t)||c.a.createElement(Gs,{question:r,answerId:n}),i>0&&!u&&c.a.createElement(Ql,{itemNum:i,to:"/question/"+a,questionType:s}))),c.a.createElement(q.a,null,c.a.createElement(xl,{question:r,answer:t})))}}]),t}(),Ll.fetchData=function(e){var t=e.params.answerId;return Object(gt.l)(t)},Pl=Rl))||Pl;t.default=c.a.createElement(s.Route,{path:":id",component:fa,name:"Question"},c.a.createElement(s.Route,{sticky:function(){var e=document.querySelector("#QuestionAnswers-answers");return e?e.offsetTop:0}},c.a.createElement(s.IndexRoute,{component:Ps,entity:"answers",resource:"answers",name:"QuestionPage",zaPageId:3378}),c.a.createElement(s.Route,{path:"answers/hidden",component:Ps,entity:"answers",resource:"hiddenAnswers",name:"QuestionHiddenAnswers"}),c.a.createElement(s.Route,{path:"answers/updated",component:Ps,resource:"updatedAnswers",name:"QuestionUpdatedAnswers"}),c.a.createElement(s.Redirect,{from:"answers/created",to:"answers/updated"})),c.a.createElement(s.Route,{path:"answer/:answerId",component:Yl,name:"AnswerPage",zaPageId:2012}),c.a.createElement(s.Redirect,{from:"noti-answers",to:"."}))}}]);
//# sourceMappingURL=main.question-routes.e440e72af0762ea72295.js.map